webpackJsonp([0],{1e3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1001),s=n.n(i),o=n(1005),a=n.n(o);e.default={components:{Badge:s.a,ShareCode:a.a},props:["entry"],data:function(){return{visible:!1,selectedIndex:0}},computed:{badgeBaseUrl:function(){return"https://badge.juejin.im/entry/"+this.entry.id+"/likes.svg"},entryUrl:function(){return"post"===this.entry.type?this.entry.originalUrl:"https://juejin.im/entry/"+this.entry.id+"/detail"},badgeUrlList:function(){var t=this;return["?style=flat-square","?style=flat","?style=plastic"].map(function(e){return t.badgeBaseUrl+e})},code:function(){var t=this.badgeUrlList[this.selectedIndex];return{url:t,html:'<img src="'+t+'">',markdown:"[![]("+t+")]("+this.entryUrl+")"}}},methods:{select:function(t){this.selectedIndex=t},show:function(){this.visible=!0},close:function(){this.visible=!1}}}},1001:function(t,e,n){function i(t){n(1002)}var s=n(25)(n(1003),n(1004),i,"data-v-46d7daa4",null);t.exports=s.exports},1002:function(t,e){},1003:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["url","active"]}},1004:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"badge",class:{active:t.active}},[n("span",{staticClass:"radio"}),n("img",{staticClass:"icon",attrs:{src:t.url,alt:"[badge]"}})])},staticRenderFns:[]}},1005:function(t,e,n){function i(t){n(1006)}var s=n(25)(n(1007),n(1015),i,"data-v-001738f6",null);t.exports=s.exports},1006:function(t,e){},1007:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(957),s=n.n(i);e.default={props:["title","code"],mounted:function(){var t=this;this.clipboard=new s.a(this.$refs.copyBtn,{target:function(){return t.$refs.text}}),this.clipboard.on("success",function(){t.$alert("内容已复制到剪切板")}),this.clipboard.on("error",function(){t.$error("一键复制失败，请手动复制")})},beforeDestroy:function(){this.clipboard.destroy()}}},1008:function(t,e,n){var i,s,o;!function(a,r){s=[t,n(1009)],i=r,void 0!==(o="function"==typeof i?i.apply(e,s):i)&&(t.exports=o)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(t){return t&&t.__esModule?t:{default:t}}(e),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":s(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a})},1009:function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),s=document.createRange();s.selectNodeContents(t),i.removeAllRanges(),i.addRange(s),e=i.toString()}return e}t.exports=n},1010:function(t,e){function n(){}n.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){s.off(t,i),e.apply(n,arguments)}var s=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,s=n.length;for(i;i<s;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],s=[];if(i&&e)for(var o=0,a=i.length;o<a;o++)i[o].fn!==e&&i[o].fn._!==e&&s.push(i[o]);return s.length?n[t]=s:delete n[t],this}},t.exports=n},1011:function(t,e,n){function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!r.string(e))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(t))return s(t,e,n);if(r.nodeList(t))return o(t,e,n);if(r.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function s(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return c(document.body,t,e,n)}var r=n(1012),c=n(1013);t.exports=i},1012:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},1013:function(t,e,n){function i(t,e,n,i,o){var a=s.apply(this,arguments);return t.addEventListener(n,a,o),{destroy:function(){t.removeEventListener(n,a,o)}}}function s(t,e,n,i){return function(n){n.delegateTarget=o(n.target,e),n.delegateTarget&&i.call(t,n)}}var o=n(1014);t.exports=i},1014:function(t,e){function n(t,e){for(;t&&t.nodeType!==i;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var s=Element.prototype;s.matches=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector}t.exports=n},1015:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"share-code"},[n("div",{staticClass:"title"},[t._v(t._s(t.title))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],ref:"text",staticClass:"text",attrs:{spellcheck:"false",readonly:"readonly"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),n("button",{ref:"copyBtn",staticClass:"copy-btn",attrs:{"st:name":"copyBtn","st:state":t.title}},[t._v("复制")])])},staticRenderFns:[]}},1016:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"badge-modal-box"},[n("div",{staticClass:"badge-modal",attrs:{"st:block":"badgeModal","st:state":t.entry.id}},[n("div",{staticClass:"header"},[n("i",{staticClass:"close-btn ion-close-round",attrs:{title:"关闭"},on:{click:t.close}}),n("div",{staticClass:"title"},[t._v("生成文章喜欢数图标")])]),n("div",{staticClass:"body"},[n("div",{staticClass:"tips-box"},[t._v("在其它网站上展示掘金文章喜欢数，请选择其中一种样式并复制代码：")]),n("div",{staticClass:"badge-box"},t._l(t.badgeUrlList,function(e,i){return n("badge",{key:i,staticClass:"badge",attrs:{url:e,active:i===t.selectedIndex},nativeOn:{click:function(e){t.select(i)}}})})),n("div",{staticClass:"share-code-box"},[n("share-code",{staticClass:"share-code",attrs:{title:"URL",code:t.code.url}}),n("share-code",{staticClass:"share-code",attrs:{title:"HTML",code:t.code.html}}),n("share-code",{staticClass:"share-code",attrs:{title:"MarkDown",code:t.code.markdown}})],1)])])]):t._e()},staticRenderFns:[]}},1025:function(t,e,n){function i(t){n(1026)}var s=n(25)(n(1027),n(1028),i,"data-v-9db545a6",null);t.exports=s.exports},1026:function(t,e){},1027:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(804),s=n.n(i);e.default={components:{Thumb:s.a},props:["entry"]}},1028:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"related-entry",attrs:{"st:block":"relatedEntry"}},[n("app-link",{staticClass:"entry-link",attrs:{"st:name":"link",to:t.$entryDetailRoute(t.entry),blank:!0}},[n("thumb",{staticClass:"thumb",attrs:{url:this.entry.screenshot}}),n("div",{staticClass:"info"},[n("div",{staticClass:"row title-row"},[n("span",{staticClass:"title"},[t._v(t._s(t.entry.title))])]),n("div",{staticClass:"row meta-row"},[n("ul",{staticClass:"meta-list"},[n("li",{staticClass:"meta user"},[n("div",{staticClass:"username"},[t._v(t._s(t.entry.user.username))])]),t.entry.collectionCount?n("li",{staticClass:"meta like"},[n("div",{staticClass:"icon icon-likes iconfont icon-xlcollection"}),n("div",{staticClass:"count"},[t._v(t._s(t.entry.collectionCount))])]):t._e(),t.entry.commentsCount?n("li",{staticClass:"meta comment"},[n("div",{staticClass:"icon icon-comments iconfont icon-xlchatbox"}),n("div",{staticClass:"count"},[t._v(t._s(t.entry.commentsCount))])]):t._e()])])])],1)],1)},staticRenderFns:[]}},1029:function(t,e,n){function i(t){n(1030)}var s=n(25)(n(1031),n(1032),i,"data-v-f6632f66",null);t.exports=s.exports},1030:function(t,e){},1031:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(813),s=n.n(i);e.default={components:{SidebarBlock:s.a},props:["list"]}},1032:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.list.length?n("sidebar-block",{staticClass:"related-entry-sidebar-block",attrs:{title:"相关文章"}},[n("div",{staticClass:"entry-list"},t._l(t.list,function(e,i){return n("app-link",{key:i,staticClass:"item",attrs:{to:t.$entryPublicRoute(e),blank:!0}},[n("div",{staticClass:"entry-title"},[t._v(t._s(e.title))]),n("div",{staticClass:"entry-meta-box"},[e.collectionCount?n("div",{staticClass:"entry-meta"},[n("i",{staticClass:"icon ion-heart"}),n("span",{staticClass:"count"},[t._v(t._s(e.collectionCount))])]):t._e(),e.commentsCount?n("div",{staticClass:"entry-meta"},[n("i",{staticClass:"icon ion-chatbox"}),n("span",{staticClass:"count"},[t._v(t._s(e.commentsCount))])]):t._e()])])}))]):t._e()},staticRenderFns:[]}},1033:function(t,e,n){function i(t){n(1034)}var s=n(25)(n(1035),n(1036),i,"data-v-2febaf4d",null);t.exports=s.exports},1034:function(t,e){},1035:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),s=n(803),o=n(814),a=n.n(o);e.default={components:{CollectPopup:a.a},props:["entry","wechatQrCodeUrl"],data:function(){return{likeLock:Object(s.a)(),wechatQrUrl:"",isCollectPopupVisible:!1}},methods:{toggleLike:function(){var t=this;this.likeLock.do(function(){return t.$ensureAuthorized("login").then(function(){t.$store.dispatch(i.TOGGLE_LIKE_ENTRY,t.entry).catch(function(e){t.$error(e)})}).catch(function(){})})},onCollectBtnClick:function(){var t=this;this.$ensureAuthorized("login").then(function(){t.isCollectPopupVisible=!t.isCollectPopupVisible}).catch(function(){})},scrollToComment:function(){window.location.hash="",window.location.hash="#comment"},shareToWeibo:function(){this.$getBean("shareBusiness").shareEntryToWeibo(this.entry)},shareToQQ:function(){this.$getBean("shareBusiness").shareEntryToQQ(this.entry)}}}},1036:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-suspended-panel"},[n("div",{staticClass:"like-btn panel-btn",class:{active:t.entry.liked,"with-badge":t.entry.collectionCount},attrs:{badge:t._f("truncate")(t.entry.collectionCount)},on:{click:t.toggleLike}}),n("div",{staticClass:"comment-btn panel-btn",class:{"with-badge":t.entry.commentsCount},attrs:{badge:t._f("truncate")(t.entry.commentsCount)},on:{click:t.scrollToComment}}),n("div",{staticClass:"collect-btn panel-btn",class:{active:t.entry.collected,open:t.isCollectPopupVisible},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.onCollectBtnClick(e)}}},[t.isCollectPopupVisible?n("collect-popup",{attrs:{entry:t.entry,position:"right"},on:{close:function(e){t.isCollectPopupVisible=!1}}}):t._e()],1),n("div",{staticClass:"share-title"},[t._v("分享")]),n("div",{staticClass:"weibo-btn share-btn panel-btn",on:{click:t.shareToWeibo}}),n("div",{staticClass:"qq-btn share-btn panel-btn",on:{click:t.shareToQQ}}),n("div",{staticClass:"wechat-btn share-btn panel-btn"},[n("img",{staticClass:"wechat-qr-code-img shadow",attrs:{src:t.wechatQrCodeUrl}})])])},staticRenderFns:[]}},1037:function(t,e,n){function i(t){n(1038)}var s=n(25)(n(1039),n(1040),i,"data-v-3ff16609",null);t.exports=s.exports},1038:function(t,e){},1039:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(804),s=n.n(i),o=n(110);e.default={components:{Thumb:s.a},props:["category"],data:function(){return{fetched:!1,recommendData:{category:"",data:[]}}},computed:{categoryTitle:function(){var t="你可能感兴趣的小册",e=o.a[this.recommendData.category];return t=e&&"阅读"!==e?e+"系列小册推荐":t}},watch:{category:function(t){var e=t;this.getBooks(e)}},methods:{toBookInfo:function(t){this.$router.push({name:"bookInfo",params:{id:t}})},tryRead:function(t){this.$router.push({name:"bookSection",params:{id:t}})},getBooks:function(t){var e=this;this.fetched||(this.fetched=!0,this.$getBean("xiaoceBusiness").getRecommendBooks({category:t}).then(function(t){e.recommendData=t}))}},mounted:function(){this.category&&this.getBooks(this.category)},beforeDestroy:function(){}}},1040:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.recommendData.data.length?n("div",{staticClass:"books-recommend books-recommend-footer"},[n("div",{staticClass:"heading"},[t._v(t._s(t.categoryTitle))]),n("div",{staticClass:"book-list"},t._l(t.recommendData.data,function(e){return n("div",{staticClass:"book",on:{click:function(n){t.toBookInfo(e._id)}}},[n("div",{staticClass:"poster"},[n("thumb",{staticClass:"poster-img",attrs:{alt:"小册封面图",url:e.img,quality:95,width:200,height:280}})],1),n("div",{staticClass:"info"},[n("div",{staticClass:"title"},[t._v(t._s(e.title))]),n("div",{staticClass:"bought"},[n("span",{staticClass:"try-read",on:{click:function(n){n.stopPropagation(),n.preventDefault(),t.tryRead(e._id)}}},[t._v("试读")]),n("span",{staticClass:"txt"},[t._v(t._s(e.section.length)+"小节")]),n("span",{staticClass:"txt"},[t._v(t._s(e.buyCount)+"人已购买")])])])])}))]):t._e()},staticRenderFns:[]}},1041:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPCEtLSBDcmVhdG9yOiBDb3JlbERSQVcgWDcgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iODBtbSIgaGVpZ2h0PSI4MG1tIiB2ZXJzaW9uPSIxLjEiIHN0eWxlPSJzaGFwZS1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uOyB0ZXh0LXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247IGltYWdlLXJlbmRlcmluZzpvcHRpbWl6ZVF1YWxpdHk7IGZpbGwtcnVsZTpldmVub2RkOyBjbGlwLXJ1bGU6ZXZlbm9kZCIKdmlld0JveD0iMCAwIDgwMDAgODAwMCIKIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KIDxkZWZzPgogIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CiAgIDwhW0NEQVRBWwogICAgLmZpbDEge2ZpbGw6IzE2ODhGQn0KICAgIC5maWwwIHtmaWxsOiM2MjYyNjJ9CiAgIF1dPgogIDwvc3R5bGU+CiA8L2RlZnM+CiA8ZyBpZD0i5Zu+5bGCX3gwMDIwXzEiPgogIDxtZXRhZGF0YSBpZD0iQ29yZWxDb3JwSURfMENvcmVsLUxheWVyIi8+CiAgPGcgaWQ9Il82MjQ2MDA1NjAiPgogICA8ZyBpZD0iXzYxNjY1OTc0NCI+CiAgICA8cGF0aCBjbGFzcz0iZmlsMCIgZD0iTTM5OTIgODAwMGwwIC04MDAwIC0yNzE4IDBjLTMzMSwwIC00OTgsOTAgLTY4OSwyNTUgLTE1NSwxMzQgLTMwMiwzNzggLTM1OSw2MjUgLTE4LDgwIC0yOCwxNzIgLTM0LDI3MGwwIDc0MyAwIDQyMDAgMCA3NjZjNSw5MSAxNSwxNzYgMzIsMjUxIDEyMyw1NTAgNTMyLDg5MCAxMDM5LDg5MGwyNzI5IDB6Ii8+CiAgICA8cGF0aCBjbGFzcz0iZmlsMSIgZD0iTTM5OTIgODAwMGwyNzE3IDBjMzMxLDAgNDk4LC05MCA2OTAsLTI1NSAxNTUsLTEzNCAzMDEsLTM3NyAzNTgsLTYyNSAxOSwtODAgMjksLTE3MSAzNSwtMjcwbDAgLTc0NCAwIC00MTk5IDAgLTc2NWMtNiwtOTIgLTE2LC0xNzcgLTMzLC0yNTEgLTU3LC0yNTcgLTIwMiwtNDk5IC0zNjAsLTYzNiAtMTg1LC0xNTkgLTM1NywtMjU1IC02NzgsLTI1NWwtMjcyOSAwIDAgODAwMHoiLz4KICAgPC9nPgogIDwvZz4KIDwvZz4KPC9zdmc+Cg=="},1128:function(t,e,n){function i(t){n(1129)}var s=n(25)(n(1130),n(1134),i,"data-v-3269f0ad",null);t.exports=s.exports},1129:function(t,e){},1130:function(t,e,n){"use strict";function i(){return{catalog:o(),reacticve:!0,marginTop:0}}function s(t){var e=[].slice.call(t.querySelectorAll("h1,h2,h3,h4,h5,h6")),n=o();return e.reduce(function(t,e){for(var n=e.textContent.replace(/\n/g," ").trim(),i=o({title:n||"<未识别标题>",level:+e.nodeName.slice(1),hash:"#"+(e.dataset.id||""),childList:[]}),s=t;s&&s.level>=i.level;)s=s.parent;return i.parent=s,i.deep=s.deep+1,i.visible=i.deep<=C,s.childList.push(i),i},n),n}function o(t){return p()({deep:0,level:0,parent:null,active:!1,visible:!0,childList:[]},t)}function a(t,e){r(e);var n=c(t,e);if(n){var i=l(n);i&&(i.active=!0)}}function r(t){t.active=!1,t.childList.forEach(r)}function c(t,e){if(e.hash===t)return e;var n=!0,i=!1,s=void 0;try{for(var o,a=h()(e.childList);!(n=(o=a.next()).done);n=!0){var r=o.value,l=c(t,r);if(l)return l}}catch(t){i=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw s}}}function l(t){for(var e=t;e&&!e.visible;)e=e.parent;return e}function u(t){return[].slice.call(t.querySelectorAll("h1,h2,h3,h4,h5,h6"))}Object.defineProperty(e,"__esModule",{value:!0});var d=n(154),h=n.n(d),f=n(3),p=n.n(f),m=n(49),g=n(1131),v=n.n(g),C=3;e.default={components:{Item:v.a},props:["title"],data:function(){return i()},methods:{generate:function(t){!this.$isServer&&t&&(this.node=t,this.catalog=s(t),this.scrollViewByCurrentHash(),this.activeItemByCurrentPosition())},reset:function(){p()(this,i())},activeItemByCurrentPosition:function(){var t=this;if(this.node)for(var e=u(this.node),n=e.map(function(t){return t.getBoundingClientRect().top}),i=0;i<n.length;i++){var s=n[i],o=n[i+1];if(s<100&&(!o||o>100)){a("#"+e[i].dataset.id,this.catalog),this.$nextTick(function(){return t.scrollCatalogByCurrentPosition()});break}}},scrollCatalogByCurrentPosition:function(){var t=this.$refs.body,e=this.$refs.list,n=e.querySelector(".item.active");if(n){var i=Object(m.b)(),s=n.getBoundingClientRect(),o=e.getBoundingClientRect(),a=t.getBoundingClientRect(),r=Math.max(0,i.height-a.top);if(r&&r<o.height){var c=s.top-o.top;this.marginTop=Math.min(0,r/2-c)}else this.marginTop=0}else this.marginTop=0},onItemActivate:function(t){window.location.hash===t.hash?this.scrollViewByCurrentHash():window.location.hash=t.hash},scrollViewByCurrentHash:function(){var t=window.location.hash;if(t&&this.node){var e=this.node.querySelector('[data-id="'+t.slice(1)+'"]');e&&Object(m.i)(e,-80)}}},mounted:function(){var t=this;this.removeHashEventListener=Object(m.c)(window,"hashchange",function(){t.$nextTick(function(){return t.scrollViewByCurrentHash()})}),this.removeScrollEventListener=Object(m.e)(window,function(){t.activeItemByCurrentPosition()},300)},beforeDestroy:function(){this.removeHashEventListener(),this.removeScrollEventListener()}}},1131:function(t,e,n){var i=n(25)(n(1132),n(1133),null,null,null);t.exports=i.exports},1132:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"item",props:["item"],methods:{activate:function(t){this.$emit("activate",t)},onActivate:function(t){this.activate(t)}}}},1133:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{directives:[{name:"show",rawName:"v-show",value:t.item.visible,expression:"item.visible"}],staticClass:"item",class:["d"+t.item.deep,t.item.active&&"active"]},[n("a",{attrs:{href:t.item.hash,title:t.item.title},on:{click:function(e){e.preventDefault(),t.activate(t.item)}}},[t._v(t._s(t.item.title))]),t.item.childList.length?n("ul",{staticClass:"sub-list"},t._l(t.item.childList,function(e,i){return n("item",{key:i,attrs:{item:e},on:{activate:t.onActivate}})})):t._e()])},staticRenderFns:[]}},1134:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{directives:[{name:"show",rawName:"v-show",value:t.catalog.childList.length,expression:"catalog.childList.length"}],staticClass:"article-catalog"},[t.title?n("div",{staticClass:"catalog-title"},[t._v(t._s(t.title))]):t._e(),n("div",{ref:"body",staticClass:"catalog-body"},[n("ul",{ref:"list",staticClass:"catalog-list",style:{marginTop:t.marginTop+"px"}},t._l(t.catalog.childList,function(e,i){return n("item",{key:i,attrs:{item:e},on:{activate:t.onItemActivate}})}))])])},staticRenderFns:[]}},1565:function(t,e){},1566:function(t,e){},1567:function(t,e,n){"use strict";function i(t){var e=t.state.route,n=e.params.id,i=K(t),s=i.actionType.FETCH;return t.dispatch(s,n)}function s(t){var e=K(t),n=e.actionType.FETCH_ADDITIONAL;return t.dispatch(n)}function o(t){var e=K(t),n=e.actionType.RESET;t.dispatch(n)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(152),r=n.n(a),c=n(912),l=n.n(c),u=n(1568),d=n(806),h=n(215),f=n.n(h),p=n(87),m=n(10),g=n(19),v=n(37),C=n(208),y=n(955),I=n(72),b=n(49),A=n(207),k=n.n(A),w=n(804),M=n.n(w),E=n(805),x=n.n(E),S=n(1025),T=n.n(S),L=n(880),B=n.n(L),N=n(888),D=n.n(N),j=n(814),z=n.n(j),R=n(1033),_=n.n(R),O=n(913),P=n.n(O),Z=n(998),U=n.n(Z),Q=n(922),G=n.n(Q),F=n(1037),V=n.n(F),J=n(1569),W=n.n(J),K=function(t){return t.state.view.column};e.default={components:{Avatar:k.a,Thumb:M.a,UserPopover:x.a,RelatedEntry:T.a,CommentForm:B.a,CommentList:D.a,CollectPopup:z.a,WechatBanner:P.a,ArticleSuspendedPanel:_.a,BadgeModal:U.a,MobileBottomBar:G.a,BooksRecommendFooter:V.a,Sidebar:W.a},data:function(){return{following:!1,page:1,pageSize:20,recommendEntries:[],newCommentContent:"",isMobile:!1,isWeixin:!1,isCollectPopupVisible:!1,bannerInfo:u.a,isViewNavOnTop:!1,fixedIsShow:!1,wechatQrCodeUrl:"",entryQr:""}},computed:r()({},Object(p.mapGetters)({user:m.USER}),{categoryId:function(){return this.entry&&this.entry.category&&this.entry.category.id||""},state:function(){return K(this.$store)},column:function(){return this.state.column},entry:function(){return this.state.entry},category:function(){return(this.entry.category||{}).name},author:function(){return this.state.author},followed:function(){return this.author.followed},like:function(){return this.entry.liked},authorAvatar:function(){return Object(C.a)(this.author.avatar_large,80,80)},date:function(){return Object(g.a)(this.entry.createdAt,"YYYY 年 MM 月 DD 日")},canEdit:function(){var t=this.user||{};return t.id&&t.id===this.author.id||"admin"===t.role},editLink:function(){return this.$getBean("editorBusiness").getPostEditUrl(this.column.id)},entryScreenshot:function(){return this.entry&&this.entry.screenshot},entryTitle:function(){return this.entry&&this.entry.title},entryLikeCount:function(){return this.entry&&this.entry.collectionCount},entryView:function(){return this.state.entryView},entryViewContent:function(){var t=this.$getBean("articleBusiness"),e=this.entryView&&this.entryView.transcodeContent;return e&&t.processArticleHtml(e,{lazyload:!0})},entryOriginalUrl:function(){return this.entry&&this.entry.originalUrl},entryTags:function(){return this.entry?this.entry.tags:[]},likeIcon:function(){return"https://gold-cdn.xitu.io/images/post/"+(this.like?"collection_press":"collection")+".svg"},postSharePocketUrl:function(){return"http://getpocket.com/edit?url="+encodeURIComponent(this.entryOriginalUrl)},postShareEvernoteUrl:function(){return"http://www.addtoany.com/add_to/evernote?linkurl="+encodeURIComponent(this.entryOriginalUrl)+"&linkname="+encodeURIComponent(this.entryTitle)},categoryTitle:function(){return((this.entry||{}).category||{}).title}}),metaInfo:function(){var t=Object(y.a)(this.entry,this.entryViewContent);return{title:t.title,meta:[{vmid:"keywords",name:"keywords",content:t.keywords},{vmid:"description",name:"description",content:t.description}]}},shareInfo:function(){return{title:this.entry.title,description:this.entry.abstract||this.entry.content,thumb:this.entry.screenshot,url:this.$route.fullPath}},methods:{toggleDropdown:function(t){Object(b.j)(t)},fetch:function(){return i(this.$store)},fetchAdditional:function(){return s(this.$store)},reset:function(){return this.imageViewer&&this.imageViewer.destroy(),this.lazyload&&this.lazyload.destroy(),o(this.$store)},onHeaderVisibilityChanged:function(t){this.isViewNavOnTop=!t},toggleLike:function(){if(!this.user){var t=this.$getBean("eventBus");t.emit(t.eventType.REQUEST_REGISTER)}this.$store.dispatch(m.TOGGLE_LIKE_ENTRY,this.entry)},toggleFollow:function(){return this.$store.dispatch(m.TOGGLE_FOLLOW_USER,this.author)},loadMoreLikes:function(){this.$store.dispatch(this.state.likerList.actionType.FETCH_MORE)},blurComment:function(){this.$refs.commentForm.blur()},focusComment:function(){this.$refs.commentForm.focus()},onShouldFetchMoreComment:function(){this.$store.dispatch(this.state.commentList.actionType.FETCH_MORE)},onSubmitedComment:function(){this.refreshCommentList()},refreshCommentList:function(){var t=this.state.commentList.actionType.FORCE_FETCH,e=this.entry.id;this.$store.dispatch(t,{entryId:e})},collect:function(){var t=this;this.$ensureAuthorized().then(function(){return t.isCollectPopupVisible=!0}).catch(function(){})},initImageViewer:function(){this.imageViewer=new f.a(this.$refs.postContent,{targetFilter:function(t){return t.naturalWidth&&!t.classList.contains("equation")},urlGetter:function(t){return(t.getAttribute("src")||"").split("?")[0]+"?imageslim"}})},shareToWeibo:function(){this.$getBean("shareBusiness").shareEntryToWeibo(this.entry)},shareToPocket:function(){this.$getBean("shareBusiness").shareEntryToPocket(this.entry)},shareToEvernote:function(){this.$getBean("shareBusiness").shareEntryToEvernote(this.entry)},recordEntryView:function(){this.$getBean("behaviorBusiness").recordViewEntryAction(this.entry.id)},initEventListener:function(){var t=this,e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.ROOT_CONTAINER_CLICK,function(e,n){t.blurComment()})},showBadgeModal:function(){this.entry.id&&this.$refs.badgeModal.show()},generateQrCode:function(){var t=this.$route.params.id;this.wechatQrCodeUrl=Object(d.a)(Object(I.b)("article-parse",{id:t,type:"post",source:"article_sharefloater",campaign:"share_article"})),this.entryQr=Object(d.a)(Object(I.b)("article-parse",{id:t,type:"post",source:"post",campaign:"share_article"}))},initLazyload:function(){var t=this.$refs.postContent.querySelectorAll("img.lazyload");this.lazyload=new l.a(t,{threshold:200,debounce:!0,eagerShowing:!0,infoGetter:function(t){var e=t.getAttribute("data-src");if(e)return{url:e,width:t.getAttribute("data-width"),height:t.getAttribute("data-height")}}})}},preFetch:function(t){return i(t)},mounted:function(){var t=this;this.entry.createdAt=this.entry.createdAt,this.isMobile=document.body.clientWidth<960,this.isWeixin=Object(v.c)(),this.initEventListener(),this.fetch().then(function(){t.$nextTick(function(){t.initLazyload(),t.initImageViewer(),"#comment"===t.$route.hash&&(t.$refs.commentForm.focus(),Object(b.h)(t.$refs.commentForm)),t.$refs.sidebar.generateCatalog(t.$refs.postContent),t.generateQrCode()}),t.recordEntryView()}).then(function(){return t.fetchAdditional()}).catch(function(e){t.$error(e)}),this.removeScrollListener=Object(b.e)(window,function(){var e=t.$refs.postMeta.getBoundingClientRect().top,n=document.documentElement.clientHeight/2-100;window.pageYOffset<200||e<n?t.fixedIsShow=!1:t.fixedIsShow=!0},10)},beforeDestroy:function(){this.reset(),this.removeScrollListener()}}},1568:function(t,e,n){"use strict";e.a={url:"https://juejin.im/extension/?utm_source=juejin.im&utm_medium=post&utm_campaign=extension_promotion",title:"安装掘金浏览器插件",content:"打开新标签页发现好内容，掘金、GitHub、Dribbble、ProductHunt 等站点内容轻松获取。快来安装掘金浏览器插件获取高质量内容吧！"}},1569:function(t,e,n){function i(t){n(1570)}var s=n(25)(n(1571),n(1580),i,"data-v-01f8f25d",null);t.exports=s.exports},1570:function(t,e){},1571:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(49),s=n(822),o=n.n(s),a=n(979),r=n.n(a),c=n(1029),l=n.n(c),u=n(908),d=n.n(u),h=n(1572),f=n.n(h),p=n(1576),m=n.n(p);e.default={components:{AppDownloadSidebarBlock:o.a,WechatSidebarBlock:r.a,RelatedEntrySidebarBlock:l.a,BooksRecommendAside:d.a,AuthorBlock:f.a,CatalogBlock:m.a},props:["state","logined","onTop"],data:function(){return{isMobile:!0,sticky:!1}},computed:{categoryId:function(){return(this.state.entry.category||{}).id},categoryName:function(){return(this.state.entry.category||{}).name}},methods:{generateCatalog:function(t){this.$refs.catalogBlock.generateCatalog(t)}},mounted:function(){var t=this;this.isMobile=document.body.clientWidth<960,this.removeScrollListener=Object(i.e)(window,function(){var e=t.$refs.stickyBlockBox,n=e&&e.previousElementSibling;if(n){var i=n.getBoundingClientRect();t.sticky=i.bottom<(t.isViewNavOnTop?0:60)}else t.sticky=!0})},beforeDestroy:function(){this.removeScrollListener&&this.removeScrollListener()}}},1572:function(t,e,n){function i(t){n(1573)}var s=n(25)(n(1574),n(1575),i,"data-v-72a03554",null);t.exports=s.exports},1573:function(t,e){},1574:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(207),s=n.n(i),o=n(813),a=n.n(o);e.default={components:{Avatar:s.a,SidebarBlock:a.a},props:["author"],computed:{position:function(){return this.$userPosition(this.author)},isCoEditor:function(){return"admin"===this.author.role||"editor"===this.author.role},beLikedCount:function(){return this.author.beLikedCount},beReadCount:function(){return this.author.beReadCount}}}},1575:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sidebar-block",{staticClass:"author-block",attrs:{title:"关于作者"}},[n("app-link",{staticClass:"user-item item",attrs:{to:t.$userRoute(t.author),blank:!0}},[n("avatar",{staticClass:"avatar",attrs:{user:t.author,size:100}}),n("div",{staticClass:"info-box"},[n("div",{staticClass:"username"},[t._v(t._s(t.author.username))]),t.position?n("div",{staticClass:"position",attrs:{title:t.position}},[t._v(t._s(t.position))]):t._e()])],1),t.isCoEditor?n("div",{staticClass:"stat-item item"},[n("svg",{staticClass:"icon stat-editor-icon",attrs:{width:"25",height:"25",viewBox:"0 0 25 25"}},[n("defs",[n("circle",{attrs:{id:"a",cx:"12.5",cy:"12.5",r:"12.5"}}),t._v(" "),n("ellipse",{attrs:{id:"c",cx:"8.135",cy:"5.268",rx:"5.135",ry:"5.268"}}),t._v(" "),n("ellipse",{attrs:{id:"d",cx:"7.824",cy:"19.591",rx:"7.824",ry:"8.027"}})]),t._v(" "),n("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[n("mask",{attrs:{id:"b",fill:"#fff"}},[n("use",{attrs:{"xlink:href":"#a"}})]),t._v(" "),n("use",{attrs:{fill:"#E1EFFF","xlink:href":"#a"}}),t._v(" "),n("g",{attrs:{mask:"url(#b)"}},[n("g",{attrs:{transform:"translate(4.5 5.536)"}},[n("use",{attrs:{fill:"#7BB9FF","xlink:href":"#c"}}),t._v(" "),n("ellipse",{attrs:{cx:"8.135",cy:"5.268",stroke:"#E1EFFF","stroke-width":".5",rx:"5.385",ry:"5.518"}})]),t._v(" "),n("g",{attrs:{transform:"translate(4.5 5.536)"}},[n("use",{attrs:{fill:"#7BB9FF","xlink:href":"#d"}}),t._v(" "),n("ellipse",{attrs:{cx:"7.824",cy:"19.591",stroke:"#E1EFFF","stroke-width":".5",rx:"8.074",ry:"8.277"}})])])])]),t._v(" "),n("span",{staticClass:"content"},[t._v("联合编辑")])]):t._e(),t.beLikedCount?n("div",{staticClass:"stat-item item"},[n("svg",{staticClass:"icon stat-like-icon",attrs:{width:"25",height:"25",viewBox:"0 0 25 25"}},[n("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[n("circle",{attrs:{cx:"12.5",cy:"12.5",r:"12.5",fill:"#E1EFFF"}}),t._v(" "),n("path",{attrs:{fill:"#7BB9FF",d:"M12.541 19.634V20s-.097-.062-.27-.18c-.171.118-.268.18-.268.18v-.366c-2.022-1.416-8.92-6.669-6.491-10.82.707-1.208 1.672-1.534 2.494-1.73 1.941-.46 3.63 1.082 4.266 1.766.636-.684 2.324-2.227 4.266-1.765.822.195 1.786.52 2.494 1.73 2.43 4.15-4.47 9.403-6.49 10.82z"}})])]),t._v(" "),n("span",{staticClass:"content"},[t._v("获得喜欢"),n("span",{staticClass:"count"},[t._v(t._s(t._f("thousands")(t.beLikedCount)))]),t._v("次")])]):t._e(),t.beReadCount?n("div",{staticClass:"stat-item item"},[n("svg",{staticClass:"icon stat-view-icon",attrs:{width:"25",height:"25",viewBox:"0 0 25 25"}},[n("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[n("circle",{attrs:{cx:"12.5",cy:"12.5",r:"12.5",fill:"#E1EFFF"}}),t._v(" "),n("path",{attrs:{fill:"#7BB9FF",d:"M4 12.5S6.917 7 12.75 7s8.75 5.5 8.75 5.5-2.917 5.5-8.75 5.5S4 12.5 4 12.5zm8.75 2.292c1.208 0 2.188-1.026 2.188-2.292 0-1.266-.98-2.292-2.188-2.292-1.208 0-2.188 1.026-2.188 2.292 0 1.266.98 2.292 2.188 2.292z"}})])]),t._v(" "),n("span",{staticClass:"content"},[t._v("文章被阅读"),n("span",{staticClass:"count"},[t._v(t._s(t._f("thousands")(t.beReadCount)))]),t._v("次")])]):t._e()],1)},staticRenderFns:[]}},1576:function(t,e,n){function i(t){n(1577)}var s=n(25)(n(1578),n(1579),i,"data-v-197940e0",null);t.exports=s.exports},1577:function(t,e){},1578:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1128),s=n.n(i),o=n(813),a=n.n(o);e.default={components:{ArticleCatalog:s.a,SidebarBlock:a.a},methods:{generateCatalog:function(t){this.$refs.catalog.generate(t)}}}},1579:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sidebar-block",{staticClass:"catalog-block",attrs:{pure:!0}},[n("article-catalog",{ref:"catalog",attrs:{title:"目录"}})],1)},staticRenderFns:[]}},1580:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar",class:{top:t.onTop,sticky:t.sticky}},[n("author-block",{attrs:{author:t.state.author}}),t.isMobile?t._e():n("books-recommend-aside",{attrs:{place:"post",category:t.categoryId}}),t.logined?n("app-download-sidebar-block",{attrs:{closeable:!0}}):t._e(),t.logined?n("wechat-sidebar-block",{attrs:{category:t.categoryName,closeable:!0}}):t._e(),n("div",{ref:"stickyBlockBox",staticClass:"sticky-block-box"},[n("related-entry-sidebar-block",{attrs:{list:t.state.relatedEntryList}}),n("catalog-block",{ref:"catalogBlock"})],1)],1)},staticRenderFns:[]}},1581:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view-container",{on:{headerVisibilityChanged:t.onHeaderVisibilityChanged}},[i("div",{staticClass:"root-view-bg"}),i("div",{staticClass:"view column-view"},[i("div",{staticClass:"columen-view-main shadow"},[i("div",{staticClass:"container entry-view"},[t.entry.id?t._e():i("div",{staticClass:"post-placeholder"},[i("img",{staticClass:"fade",attrs:{src:"https://gold-cdn.xitu.io/images/post-loading.png"}})]),t.entry.id?i("app-link",{staticClass:"post-author clearfix",attrs:{to:t.$userRoute(t.author),blank:!0}},[i("avatar",{staticClass:"avatar",attrs:{user:t.author,decorative:!0}}),i("div",{staticClass:"author-info float-left"},[i("div",{staticClass:"author-name text-pointer"},[t._v(t._s(t.author.username))]),i("div",{staticClass:"author-meta"},[t._v(t._s(t.date)),t.canEdit?i("a",{staticClass:"post-edit text-a",attrs:{href:t.editLink},on:{click:function(t){t.stopPropagation()}}},[t._v(" · 编辑")]):t._e()])])],1):t._e()],1),t.entryScreenshot?i("thumb",{staticClass:"post-hero",attrs:{url:t.entryScreenshot,width:1304,height:734}}):t._e(),t.entry.id?i("div",{staticClass:"container entry-view"},[i("h1",{staticClass:"post-title"},[t._v(t._s(t.entryTitle))]),i("div",{staticClass:"post-info-mobile"},[i("div",{staticClass:"action create-at-action"},[t._v(t._s(t.date))]),i("app-link",{staticClass:"action text-a",attrs:{to:t.$userRoute(t.author),blank:!0}},[t._v(t._s(t.author.username))])],1),i("div",{staticClass:"post-content-container"},[i("div",{directives:[{name:"copyright",rawName:"v-copyright",value:{username:t.author.username},expression:"{ username: author.username }"}],ref:"postContent",staticClass:"entry-content post-content",domProps:{innerHTML:t._s(t.entryViewContent)}})])]):t._e(),t.entryTags?i("div",{staticClass:"post-tags tags cloud"},t._l(t.entryTags,function(e){return i("div",{staticClass:"tag"},[i("app-link",{staticClass:"tag-link",attrs:{to:t.$tagRoute(e),blank:!0}},[t._v(t._s(e.title))])],1)})):t._e(),i("div",{ref:"postMeta",staticClass:"post-meta",attrs:{"st:block":"action"}},[i("div",{staticClass:"actions"},[i("div",{staticClass:"action",on:{click:t.toggleLike}},[i("img",{staticClass:"inline square inline-icon",attrs:{src:t.likeIcon}}),t.entryLikeCount>0?i("span",{staticClass:"like-count",class:{true:!!t.like}},[t._v(t._s(t.entryLikeCount))]):t._e()])]),t.user&&!t.isWeixin?i("div",{staticClass:"actions secondary sparse"},[t.entry.collectStateError?t._e():i("div",{ref:"collectBtn",staticClass:"action collection",attrs:{title:"收藏"},on:{click:t.collect}},[t.entry.collected?t._e():i("img",{staticClass:"inline square inline-icon collect",attrs:{src:n(1582)}}),t.entry.collected?i("img",{staticClass:"inline square inline-icon collect",attrs:{src:n(1583)}}):t._e(),t.isCollectPopupVisible?i("collect-popup",{attrs:{entry:t.entry},on:{close:function(e){t.isCollectPopupVisible=!1}}}):t._e()],1),i("div",{staticClass:"action",attrs:{title:"评论"},on:{click:function(e){e.stopPropagation(),t.focusComment(e)}}},[i("img",{staticClass:"inline square inline-icon",attrs:{src:n(1584)}})]),i("div",{staticClass:"action dropdown share-dropdown",attrs:{"st:name":"shareBtn",title:"分享"},on:{click:function(e){t.toggleDropdown(e)}}},[i("img",{staticClass:"inline square inline-icon dropdown-active",attrs:{src:n(1585)}}),i("ul",{staticClass:"dropdown-list",attrs:{title:""}},[i("div",{staticClass:"dropdown-hint"},[t._v("分享到...")]),i("li",[i("a",{staticClass:"share-link",attrs:{"st:name":"shareItem","st:state":"weibo"},on:{click:function(e){e.preventDefault(),t.shareToWeibo(e)}}},[i("img",{staticClass:"inline square",attrs:{src:"https://gold-cdn.xitu.io/images/weibo.svg"}}),i("span",[t._v("新浪微博")])])]),i("li",{staticClass:"dropdown-wechat-share share-link"},[i("a",{staticClass:"share-link",attrs:{"st:name":"shareItem","st:state":"wechat"}},[i("img",{staticClass:"inline square",attrs:{src:"https://gold-cdn.xitu.io/images/weixin.svg"}}),i("span",[t._v("微信")]),i("div",{staticClass:"wechat-qr-box"},[i("div",{staticClass:"qr-box-title text-muted text-center"},[t._v("微信扫一扫")]),i("img",{staticClass:"entry-qr",attrs:{src:t.entryQr}})])])]),i("li",[i("a",{staticClass:"share-link",attrs:{"st:name":"shareItem","st:state":"pocket",href:t.postSharePocketUrl,target:"_blank"}},[i("img",{staticClass:"inline square",attrs:{src:"https://gold-cdn.xitu.io/images/pocket.svg"}}),i("span",[t._v("Pocket")])])]),i("li",[i("a",{staticClass:"share-link",attrs:{"st:name":"shareItem","st:state":"evernote",href:t.postShareEvernoteUrl,target:"_blank"}},[i("img",{staticClass:"inline square",attrs:{src:"https://gold-cdn.xitu.io/images/evernote.svg"}}),i("span",[t._v("Evernote")])])]),i("li",[i("a",{staticClass:"share-link",attrs:{"st:name":"shareItem","st:state":"badge"},on:{click:t.showBadgeModal}},[i("img",{staticClass:"inline square",attrs:{src:n(1041)}}),i("span",[t._v("生成 Badge")])])])])])]):t._e(),t.user||t.isWeixin?t._e():i("div",{staticClass:"actions secondary"},[i("div",{staticClass:"action text-gray"},[t._v("分享到")]),i("a",{staticClass:"action",attrs:{"st:name":"shareItem","st:state":"weibo"},on:{click:function(e){e.preventDefault(),t.shareToWeibo(e)}}},[i("img",{staticClass:"inline square inline-icon",attrs:{src:"https://gold-cdn.xitu.io/images/weibo.svg"}})]),i("div",{staticClass:"action dropdown share-dropdown",attrs:{"st:name":"shareItem","st:state":"wechat"},on:{click:t.toggleDropdown}},[i("img",{staticClass:"inline square inline-icon dropdown-active",attrs:{src:"https://gold-cdn.xitu.io/images/weixin.svg"}}),i("ul",{staticClass:"dropdown-list text-center"},[i("div",{staticClass:"qr-box-title text-muted"},[t._v("微信扫一扫")]),i("img",{staticClass:"entry-qr",attrs:{src:t.entryQr}})])])])]),!t.isMobile&&t.state.likerList.list.length?i("div",{staticClass:"post-like-users"},[i("ul",{staticClass:"liker-list"},[t._l(t.state.likerList.list,function(e){return i("li",{staticClass:"liker-list-item"},[i("app-link",{attrs:{to:t.$userRoute(e),blank:!0}},[i("user-popover",{attrs:{userId:e.id}},[i("avatar",{staticClass:"avatar",attrs:{user:e}})],1)],1)],1)}),t.state.likerList.canNext?i("li",{staticClass:"liker-list-item",on:{click:t.loadMoreLikes}},[i("div",{staticClass:"more-users"},[i("i",{staticClass:"ion-more"})])]):t._e()],2)]):t._e(),i("div",{staticClass:"container bottom-container"},[t.isWeixin?t._e():i("section",{staticClass:"post-author-box"},[i("app-link",{staticClass:"float-left text-pointer",attrs:{to:t.$userRoute(t.author),blank:!0}},[i("avatar",{staticClass:"avatar author-avatar",attrs:{user:t.author,decorative:!0}})],1),i("app-link",{staticClass:"author-info float-left text-pointer",attrs:{to:t.$userRoute(t.author),blank:!0}},[i("div",{staticClass:"author-name"},[t._v(t._s(t.author.username))]),i("div",{staticClass:"author-meta"},[i("span",[t._v(t._s(t.author.jobTitle))]),t.author.company&&t.author.jobTitle?i("span",[t._v(" @ ")]):t._e(),i("span",[t._v(t._s(t.author.company))])])]),t.user&&t.user.id!=t.author.id?i("div",{staticClass:"subscribe-button float-right",class:{true:t.followed,loading:t.following},on:{click:t.toggleFollow}}):t._e(),t.user&&t.user.id!=t.author.id?t._e():i("app-link",{staticClass:"to-user-button text-blue text-pointer float-right",attrs:{to:t.$userRoute(t.author),blank:!0}},[t._v("个人主页")])],1),i("section",[i("wechat-banner",{staticClass:"wechat-banner",attrs:{category:t.category}})],1),i("section",{staticClass:"banner-section",attrs:{"st:block":"banner"}},[i("a",{directives:[{name:"link",rawName:"v-link.blank",value:t.bannerInfo.url,expression:"bannerInfo.url",modifiers:{blank:!0}}],staticClass:"text-blue title-text",attrs:{"st:name":"link","st:state":t.bannerInfo.url}},[t._v(t._s(t.bannerInfo.title))]),i("div",{staticClass:"sub-text"},[t._v(t._s(t.bannerInfo.content))])]),t.isMobile?i("section",{staticClass:"recommend-books"},[i("books-recommend-footer",{attrs:{category:t.categoryId}})],1):t._e(),t.state.relatedEntryList.length?i("section",{staticClass:"about-section"},[i("div",{staticClass:"box-title"},[t._v("相关文章")]),i("ul",{staticClass:"recommend-entries-box"},t._l(t.state.relatedEntryList,function(t){return i("li",{staticClass:"item"},[i("related-entry",{staticClass:"related-entry",attrs:{entry:t}})],1)}))]):t._e(),i("section",{staticClass:"comments-block"},[i("div",{staticClass:"box-title"},[t._v("评论")]),i("div",{staticClass:"comment-box"},[i("comment-form",{ref:"commentForm",staticClass:"comment-form",attrs:{id:"comment",user:t.user,entry:t.entry},on:{submited:t.onSubmitedComment}})],1),i("comment-list",{staticClass:"comment-list",attrs:{list:t.state.commentList.list,entry:t.entry},on:{"should-fetch-more":t.onShouldFetchMoreComment}})],1)])],1),i("sidebar",{ref:"sidebar",staticClass:"sidebar",attrs:{state:t.state,logined:!!t.user,onTop:t.isViewNavOnTop}}),i("div",{staticClass:"columen-view-fixed"},[i("article-suspended-panel",{attrs:{entry:t.entry,wechatQrCodeUrl:t.wechatQrCodeUrl}})],1),i("mobile-bottom-bar",{attrs:{category:t.categoryTitle,resourceType:"post",resourceId:t.column.id}}),i("badge-modal",{ref:"badgeModal",attrs:{entry:t.entry}})],1)])},staticRenderFns:[]}},1582:function(t,e,n){t.exports=n.p+"static/img/collect.4ab2670.svg"},1583:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjlweCIgaGVpZ2h0PSIyOXB4IiB2aWV3Qm94PSIwIDAgMjkgMjkiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogc2tldGNodG9vbCA0MS4xICgzNTM3NikgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+N0M3NjVBQzUtQjJENi00QTVDLTkxNUQtNzU5NEQ2MENFRUI3PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBza2V0Y2h0b29sLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxyZWN0IGlkPSJwYXRoLTEiIHg9IjAiIHk9IjQiIHdpZHRoPSIyMy43MjcyNzI3IiBoZWlnaHQ9IjEuMzMzMzMzMzMiPjwvcmVjdD4KICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBtYXNrQ29udGVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgbWFza1VuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgeD0iMCIgeT0iMCIgd2lkdGg9IjIzLjcyNzI3MjciIGhlaWdodD0iMS4zMzMzMzMzMyIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgIDwvbWFzaz4KICAgICAgICA8cmVjdCBpZD0icGF0aC0zIiB4PSIwIiB5PSIxMi42NjY2NjY3IiB3aWR0aD0iMjMuNzI3MjcyNyIgaGVpZ2h0PSIxLjMzMzMzMzMzIj48L3JlY3Q+CiAgICAgICAgPG1hc2sgaWQ9Im1hc2stNCIgbWFza0NvbnRlbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIG1hc2tVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIHg9IjAiIHk9IjAiIHdpZHRoPSIyMy43MjcyNzI3IiBoZWlnaHQ9IjEuMzMzMzMzMzMiIGZpbGw9IndoaXRlIj4KICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcGF0aC0zIj48L3VzZT4KICAgICAgICA8L21hc2s+CiAgICAgICAgPHJlY3QgaWQ9InBhdGgtNSIgeD0iOC44ODE3ODQyZS0xNiIgeT0iMjEuMzMzMzMzMyIgd2lkdGg9IjE1LjgxODE4MTgiIGhlaWdodD0iMS4zMzMzMzMzMyI+PC9yZWN0PgogICAgICAgIDxtYXNrIGlkPSJtYXNrLTYiIG1hc2tDb250ZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiB4PSIwIiB5PSIwIiB3aWR0aD0iMTUuODE4MTgxOCIgaGVpZ2h0PSIxLjMzMzMzMzMzIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtNSI+PC91c2U+CiAgICAgICAgPC9tYXNrPgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IuWOn+WIm+aWh+eroF/lop7liqDmlLbol4/pm4blhaXlj6MiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05MTMuMDAwMDAwLCAtOTQxLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iR3JvdXAtNC1Db3B5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MTMuMDAwMDAwLCA5NDEuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLTMiIHg9IjAiIHk9IjAiIHdpZHRoPSIyOSIgaGVpZ2h0PSIyOSI+PC9yZWN0PgogICAgICAgICAgICAgICAgPHVzZSBpZD0iUmVjdGFuZ2xlIiBzdHJva2U9IiM4M0M3M0EiIG1hc2s9InVybCgjbWFzay0yKSIgc3Ryb2tlLXdpZHRoPSIzIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2UgaWQ9IlJlY3RhbmdsZS1Db3B5IiBzdHJva2U9IiM4M0M3M0EiIG1hc2s9InVybCgjbWFzay00KSIgc3Ryb2tlLXdpZHRoPSIzIiB4bGluazpocmVmPSIjcGF0aC0zIj48L3VzZT4KICAgICAgICAgICAgICAgIDx1c2UgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIHN0cm9rZT0iIzgzQzczQSIgbWFzaz0idXJsKCNtYXNrLTYpIiBzdHJva2Utd2lkdGg9IjMiIHhsaW5rOmhyZWY9IiNwYXRoLTUiPjwvdXNlPgogICAgICAgICAgICAgICAgPHBvbHlsaW5lIGlkPSJMaW5lIiBzdHJva2U9IiM4M0M3M0EiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBwb2ludHM9IjE5IDIxLjU3MTQyODYgMjIuMjE0Mjg1NyAyNC43ODU3MTQzIDI4IDE5Ij48L3BvbHlsaW5lPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},1584:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzFweCIgaGVpZ2h0PSIzMXB4IiB2aWV3Qm94PSIwIDAgMzEgMzEiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQyICgzNjc4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+6K+E6K66PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IjAuMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Ikdyb3VwLTUiPgogICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLTMiIHg9IjAuNSIgeT0iMCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIj48L3JlY3Q+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNi4wNzk4MDMyLDQgQzI3LjE0MDI5ODcsNCAyOCw0Ljg1MzgxMzExIDI4LDUuOTA4MzQ2MjggTDI4LDE5LjMwOTA0NSBDMjgsMjAuMzYyOTk1NiAyNy4xMzg1OTgyLDIxLjIxNzM5MTMgMjYuMDc5NDMxMSwyMS4yMTczOTEzIEwxOS4zNDYxNTM5LDIxLjIxNzM5MTMgTDE1LjUsMjYgTDExLjY1Mzg0NjIsMjEuMjE3MzkxMyBMNC45MjA1Njg5NCwyMS4yMTczOTEzIEMzLjg1OTg2ODAxLDIxLjIxNzM5MTMgMywyMC4zNjM1NzgyIDMsMTkuMzA5MDQ1IEwzLDUuOTA4MzQ2MjggQzMsNC44NTQzOTU3MyAzLjg2MDU1NjU5LDQgNC45MjAxOTY3OSw0IEwyNi4wNzk4MDMyLDQgWiIgaWQ9InBhdGgtMSIgc3Ryb2tlPSIjOTc5Nzk3IiBzdHJva2Utd2lkdGg9IjEuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},1585:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzBweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMzAgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQyICgzNjc4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+5YiG5LqrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IjAuMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Ikdyb3VwLTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUwMDAwMCwgMC4wMDAwMDApIj4KICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS0zIiB4PSIwLjUiIHk9IjAiIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMCI+PC9yZWN0PgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNSw4IEwyMi41LDggQzI0LjE1Njg1NDIsOCAyNS41LDkuMzM2MDQzMSAyNS41LDExLjAwMDEyMjEgTDI1LjUsMjMuOTk5ODc3OSBDMjUuNSwyNS42NTY3OTk2IDI0LjE1NjY4OCwyNyAyMi41MDU3OTc5LDI3IEw4LjQ5NDIwMjA4LDI3IEM2Ljg0MDU0OTkzLDI3IDUuNSwyNS42NjM5NTY5IDUuNSwyMy45OTk4Nzc5IEw1LjUsMTEuMDAwMTIyMSBMNS41LDExLjAwMDEyMjEgQzUuNSw5LjM0MzIwMDQgNi44NDY1MTcxMiw4IDguNSw4IEwxMS41LDgiIGlkPSJSZWN0YW5nbGUtMiIgc3Ryb2tlPSIjOTc5Nzk3IiBzdHJva2Utd2lkdGg9IjEuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTUuNSwxOCBMMTUuNSwxIiBpZD0iUGF0aC01MDMiIHN0cm9rZT0iIzk3OTc5NyIgc3Ryb2tlLXdpZHRoPSIxLjUiPjwvcGF0aD4KICAgICAgICAgICAgPHBvbHlsaW5lIGlkPSJQYXRoLTUwNCIgc3Ryb2tlPSIjOTc5Nzk3IiBzdHJva2Utd2lkdGg9IjEuNSIgcG9pbnRzPSIxMC41IDUgMTUuNSAxIDIwLjUgNSI+PC9wb2x5bGluZT4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},798:function(t,e,n){function i(t){n(1565),n(1566)}var s=n(25)(n(1567),n(1581),i,"data-v-13f76525",null);t.exports=s.exports},803:function(t,e,n){"use strict";function i(){return new u}e.a=i;var s=n(5),o=n.n(s),a=n(0),r=n.n(a),c=n(1),l=n.n(c),u=function(){function t(){r()(this,t),this.busy=!1}return l()(t,[{key:"do",value:function(t){var e=this;return this.busy?o.a.resolve():(this.busy=!0,o.a.resolve("function"==typeof t?t():t).then(function(t){return e.busy=!1,t}).catch(function(t){return e.busy=!1,o.a.reject(t)}))}}]),t}()},804:function(t,e,n){function i(t){n(807)}var s=n(25)(n(808),n(809),i,"data-v-009ea7bb",null);t.exports=s.exports},805:function(t,e,n){function i(t){n(810)}var s=n(25)(n(811),n(812),i,"data-v-311d2efa",null);t.exports=s.exports},806:function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000",n=new o.a({content:t,color:e,padding:0,width:410,height:410,background:"#ffffff",ecl:"L"}).svg();return"data:image/svg+xml;utf8,"+encodeURIComponent(n)}e.a=i;var s=n(210),o=n.n(s)},807:function(t,e){},808:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(108),s=n(208),o=n(209),a=n.n(o);e.default={components:{Lazy:a.a},props:["url","default","quality","width","height","shrink","format","size","alt","blank"],computed:{defaultThumbUrl:function(){return this.default||i.d},thumbUrl:function(){var t=this.url||(this.blank?"":this.defaultThumbUrl);return this.shrink?Object(s.b)(t,this.width,this.height,{format:this.format,quality:this.quality}):Object(s.a)(t,this.width,this.height,{format:this.format,quality:this.quality})},thumbStyle:function(){return{backgroundSize:this.size||"cover"}}}}},809:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("lazy",{staticClass:"thumb",style:t.thumbStyle,attrs:{div:!0,url:t.thumbUrl}})},staticRenderFns:[]}},810:function(t,e){},811:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),s=n(803),o=n(207),a=n.n(o);e.default={components:{Avatar:a.a},props:["userId"],data:function(){return{user:null,followLock:Object(s.a)(),visible:!1,top:0,left:0}},computed:{popoverStyle:function(){return{top:this.top+"px",left:this.left+"px"}},position:function(){return this.user&&(this.$userPosition(this.user)||this.user.self_description||"暂无简介")},self:function(){return this.user&&this.user.self},followed:function(){return this.user&&this.user.followed}},methods:{fetch:function(){var t=this;return this.$getBean("userBusiness").getUserById(this.userId).then(function(e){t.user=e})},toggleFollow:function(){var t=this;this.followLock.do(function(){return t.$ensureAuthorized().then(function(){return t.$store.dispatch(i.TOGGLE_FOLLOW_USER,t.user).catch(function(e){t.$error(e)})}).catch(function(){})})},showPopover:function(t){var e=this;clearTimeout(this.hideToken),this.showToken=setTimeout(function(){e.fetch().then(function(){e.showToken&&(e.visible=!0,e.$nextTick(function(){var n=t.target.getBoundingClientRect(),i=e.$refs.popover,s=i.offsetWidth,o=i.offsetHeight,a=n.left-s/2+20,r=n.top-o-10;r<60&&(a=n.left-10-s,r=n.top-o/2+10),a=Math.max(0,a),e.left=a,e.top=r}))})},300)},hidePopover:function(){var t=this;clearTimeout(this.showToken),this.showToken=null,this.hideToken=setTimeout(function(){t.popoverTimeout=null,t.visible=!1},300)}}}},812:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-popover-box",attrs:{"st:block":"userPopover","st:state":t.userId},on:{mouseenter:function(e){t.showPopover(e)},mouseleave:t.hidePopover}},[t.visible?n("div",{ref:"popover",staticClass:"user-popover",style:t.popoverStyle},[n("div",{staticClass:"info-row"},[n("app-link",{attrs:{to:t.$userRoute(t.user),blank:!0}},[n("avatar",{staticClass:"avatar",attrs:{user:t.user,decorative:!0}})],1),n("div",{staticClass:"user-info"},[n("app-link",{staticClass:"username",attrs:{to:t.$userRoute(t.user),blank:!0}},[t._v(t._s(t.user.username))]),n("div",{staticClass:"position"},[t._v(t._s(t.position))])],1)],1),n("div",{staticClass:"meta-row"},[n("ul",{staticClass:"meta-list"},[n("li",{staticClass:"item"},[n("div",{staticClass:"count"},[t._v(t._s(t.user.postedEntriesCount||0))]),n("div",{staticClass:"title"},[t._v("分享")])]),n("li",{staticClass:"item"},[n("div",{staticClass:"count"},[t._v(t._s(t.user.followerCount||0))]),n("div",{staticClass:"title"},[t._v("关注者")])]),n("li",{staticClass:"item"},[n("div",{staticClass:"count"},[t._v(t._s(t.user.totalCollectionsCount||0))]),n("div",{staticClass:"title"},[t._v("获得喜欢")])])]),t.self?t._e():n("button",{staticClass:"follow-btn",class:{followed:t.followed},attrs:{"st:name":"followBtn"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.toggleFollow(e)}}},[t._v(t._s(t.followed?"已关注":"关注"))])])]):t._e(),t._t("default")],2)},staticRenderFns:[]}},813:function(t,e,n){function i(t){n(825)}var s=n(25)(n(826),n(827),i,"data-v-70a2cd6d",null);t.exports=s.exports},814:function(t,e,n){function i(t){n(815)}var s=n(25)(n(816),n(818),i,"data-v-e4647de6",null);t.exports=s.exports},815:function(t,e){},816:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(49),s=n(10),o=(n(817),n(803)),a=n(88),r=n(804),c=n.n(r);e.default={components:{Thumb:c.a},props:["entry","position"],data:function(){return{list:[],page:1,loading:!1,filled:!1,creating:!1,isNewFormVisible:!1,newCollectionTitle:"",collectLock:Object(o.a)()}},computed:{empty:function(){return!this.list.length&&!this.loading},canCreate:function(){return!!this.newCollectionTitle}},methods:{close:function(){this.$emit("close")},showNewForm:function(){var t=this;this.isNewFormVisible=!0,this.$nextTick(function(){t.$refs.titleInput.focus()})},init:function(){this.fetchList(),this.initEventListener()},initEventListener:function(){var t=this;Object(i.f)(this.$refs.list,function(e){e<50&&t.fetchList()})},fetchList:function(){var t=this;this.loading||this.filled||(this.loading=!0,this.$getBean("collectionRepository").getCurrentUserCollectionListForAddingEntry(this.entry.id,this.page).then(function(e){t.list=Object(a.b)(t.list.concat(e),function(t){return t.id}),t.page++,t.loading=!1,t.filled=0===e.length}).catch(function(e){t.loading=!1,t.$error(e)}))},createCollection:function(){var t=this;if(!this.creating){this.creating=!0;var e=this.newCollectionTitle.trim();if(e)return this.$getBean("collectionBusiness").createCollection({title:e}).then(function(e){return t.toggleCollect(e).then(function(){t.list.unshift(e),t.$refs.list.scrollTop=0,t.isNewFormVisible=!1,t.newCollectionTitle="",t.creating=!1})}).catch(function(e){t.$error(e),t.creating=!1})}},toggleCollect:function(t){return this.$store.dispatch(s.TOGGLE_COLLECT_ENTRY,{entry:this.entry,collection:t})},onCollectionClick:function(t){var e=this;this.collectLock.do(function(){return e.toggleCollect(t).then(function(){return setTimeout(function(){e.close()},300)})})}},mounted:function(){this.init()}}},817:function(t,e,n){"use strict";var i=n(5);n.n(i)},818:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"collect-popup-box",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[i("div",{staticClass:"mask",on:{click:t.close}}),i("div",{ref:"popup",staticClass:"collect-popup",class:[t.position]},[i("div",{staticClass:"title"},[t._v("添加到收藏集")]),i("ul",{ref:"list",staticClass:"collection-list"},[t._l(t.list,function(e){return i("li",{staticClass:"item",on:{click:function(n){t.onCollectionClick(e)}}},[i("div",{staticClass:"item-block"},[i("thumb",{staticClass:"thumb",attrs:{url:e.imageUrl,width:50,height:50}}),i("div",{staticClass:"title"},[t._v(t._s(e.title))]),i("div",{staticClass:"entry-count"},[t._v(t._s(e.entryCount))])],1),i("div",{staticClass:"item-block"},[i("button",{staticClass:"collect-icon",class:{collected:e.isIn},style:{display:e.isIn?"block":""}})])])}),t.empty?i("div",{staticClass:"empty"},[i("img",{staticClass:"empty-icon",attrs:{src:n(819)}}),i("div",{staticClass:"empty-title"},[t._v("点击下方文字新建收藏集")])]):t._e()],2),i("div",{staticClass:"action-box"},[t.isNewFormVisible?i("form",{staticClass:"new-form",on:{submit:function(e){e.preventDefault(),t.createCollection(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.newCollectionTitle,expression:"newCollectionTitle"}],ref:"titleInput",staticClass:"title-input",attrs:{disabled:t.creating,maxlength:"20"},domProps:{value:t.newCollectionTitle},on:{input:function(e){e.target.composing||(t.newCollectionTitle=e.target.value)}}}),i("button",{staticClass:"submit-btn",attrs:{disabled:!t.canCreate||t.creating},on:{click:function(e){e.preventDefault(),t.createCollection(e)}}},[t._v("添加")])]):i("button",{staticClass:"new-btn",on:{click:t.showNewForm}},[t._v("新建收藏集")])])])])},staticRenderFns:[]}},819:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzRweCIgaGVpZ2h0PSI0NnB4IiB2aWV3Qm94PSIwIDAgNzQgNDYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogc2tldGNodG9vbCA0MC4zICgzMzgzOSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+OEIzMDNERjgtNjU1OS00RjZCLTg1NzctNThEMzJGQTRCMzQ4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBza2V0Y2h0b29sLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSLkuKrkurrkuLvpobVf5pS26JeP6ZuGX+epuiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY4My4wMDAwMDAsIC02NTkuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC01IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2ODMuMDAwMDAwLCA2NTkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMzA2NDUxNiwxNS43MzY4NDIxIEwyLjg3NjYwNDY0LDE1LjczNjg0MjEgQzEuNDA0MjY1NTMsMTUuNzM2ODQyMSAwLjU5ODcwMTE2MywxNi44NTc5MzgxIDEuMDgxMDQwMDcsMTguMjUxNjEwNiBMMTAuMjY1NTgxNiw0NC43ODk0NzM3IEwxMy4zMDY0NTE2LDE1LjczNjg0MjEgWiIgaWQ9IlBhdGgtMiIgZmlsbD0iI0VGRjBGMCI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyLjE0Mjg2Niw5LjkyMzQ5NjA2IEMxMi4zMTE0NjExLDcuNzIwOTc3NzUgMTQuMjQ1NTc2Niw1LjkzNTQ4Mzg3IDE2LjQ0MjM4NCw1LjkzNTQ4Mzg3IEw0Ny43MTYzMzU0LDUuOTM1NDgzODcgTDUxLjUwNDcwMTQsMS4wNDc0ODI0IEM1MS45NTMwNjUsMC40Njg5NzM4NDYgNTIuOTEyNDA5NiwwIDUzLjY1MDY5OTgsMCBMNzAuMTc0ODM2NywwIEM3Mi4zODE1NjU2LDAgNzMuOTkyOTU4MywxLjc3NTA2ODU4IDczLjc3MjI4MzksMy45ODE3MTY4NiBMNjkuOTY4NDYxOCw0Mi4wMTgyODMxIEM2OS43NDg1NDgxLDQ0LjIxNzMyNDYgNjcuNzg1MjY3MSw0NiA2NS41NzQ0OTU2LDQ2IEwxMy4zNzcxMTE2LDQ2IEMxMS4xNzAzMDQ4LDQ2IDkuNTE3MDY4MDgsNDQuMjI2NzgyMyA5LjY4NjYwMjk0LDQyLjAxMTk4NzggTDEyLjE0Mjg2Niw5LjkyMzQ5NjA2IFoiIGlkPSJSZWN0YW5nbGUiIGZpbGw9IiNDQ0NGRDAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},820:function(t,e,n){var i,s,o;/*!
	Autosize 3.0.20
	license: MIT
	http://www.jacklmoore.com/autosize
*/
!function(n,a){s=[e,t],i=a,void 0!==(o="function"==typeof i?i.apply(e,s):i)&&(t.exports=o)}(0,function(t,e){"use strict";function n(t){function e(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function n(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}function i(){var e=t.style.height,i=n(t),s=document.documentElement&&document.documentElement.scrollTop;t.style.height="auto";var o=t.scrollHeight+r;if(0===t.scrollHeight)return void(t.style.height=e);t.style.height=o+"px",c=t.clientWidth,i.forEach(function(t){t.node.scrollTop=t.scrollTop}),s&&(document.documentElement.scrollTop=s)}function s(){i();var n=Math.round(parseFloat(t.style.height)),s=window.getComputedStyle(t,null),o=Math.round(parseFloat(s.height));if(o!==n?"visible"!==s.overflowY&&(e("visible"),i(),o=Math.round(parseFloat(window.getComputedStyle(t,null).height))):"hidden"!==s.overflowY&&(e("hidden"),i(),o=Math.round(parseFloat(window.getComputedStyle(t,null).height))),l!==o){l=o;var r=a("autosize:resized");try{t.dispatchEvent(r)}catch(t){}}}if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!o.has(t)){var r=null,c=t.clientWidth,l=null,u=function(){t.clientWidth!==c&&s()},d=function(e){window.removeEventListener("resize",u,!1),t.removeEventListener("input",s,!1),t.removeEventListener("keyup",s,!1),t.removeEventListener("autosize:destroy",d,!1),t.removeEventListener("autosize:update",s,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),o.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",d,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",s,!1),window.addEventListener("resize",u,!1),t.addEventListener("input",s,!1),t.addEventListener("autosize:update",s,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",o.set(t,{destroy:d,update:s}),function(){var e=window.getComputedStyle(t,null);"vertical"===e.resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),r="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(r)&&(r=0),s()}()}}function i(t){var e=o.get(t);e&&e.destroy()}function s(t){var e=o.get(t);e&&e.update()}var o="function"==typeof Map?new Map:function(){var t=[],e=[];return{has:function(e){return t.indexOf(e)>-1},get:function(n){return e[t.indexOf(n)]},set:function(n,i){-1===t.indexOf(n)&&(t.push(n),e.push(i))},delete:function(n){var i=t.indexOf(n);i>-1&&(t.splice(i,1),e.splice(i,1))}}}(),a=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){a=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}var r=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(r=function(t){return t},r.destroy=function(t){return t},r.update=function(t){return t}):(r=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return n(t)}),t},r.destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],i),t},r.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t}),e.exports=r})},822:function(t,e,n){function i(t){n(823)}var s=n(25)(n(824),n(836),i,"data-v-fb64097a",null);t.exports=s.exports},823:function(t,e){},824:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(813),s=n.n(i),o={welcome:n(828),timelineIndex:n(829),columnIndex:n(830),collectionIndex:n(831),exploreIndex:n(832),entryPublic:n(833),entryDetail:n(834),column:n(835)};e.default={components:{SidebarBlock:s.a},props:["closeable"],data:function(){return{visible:!1}},methods:{close:function(){window.localStorage.setItem("HIDE_APP_DOWNLOAD_SIDEBAR_BLOCK",!0),this.visible=!1}},computed:{qrImageUrl:function(){return o[this.$route.name]}},mounted:function(){this.closeable?this.visible=!window.localStorage.getItem("HIDE_APP_DOWNLOAD_SIDEBAR_BLOCK"):this.visible=!0}}},825:function(t,e){},826:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["title","pure"]}},827:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar-block",class:{pure:t.pure,shadow:!t.pure}},[t.pure?[t._t("default")]:[t.title?n("div",{staticClass:"block-title"},[t._v(t._s(t.title))]):t._e(),n("div",{staticClass:"block-body"},[t._t("default")],2)]],2)},staticRenderFns:[]}},828:function(t,e,n){t.exports=n.p+"static/img/welcome.6f27533.png"},829:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAFDElEQVR4Xu2c23LbMAxEnT/vn7uTphq7qsSzC4AW7UFfQQLgLm6knH7d7/f7rf8tg8DXNyFfv17vz/3J5pH9Z/neO8Vf0r/XmbVXhWAT8hfJJqQz5DCpOkM6Q34QcGu8W6Oz+rP7XX+39acZMqqprjFq2kqTHjXhiH4C3JG7eIyGlCbkdrtlCW1ChJLnRPjbEXJFSclGXXZ/llCyf6ZfKlmzCSHnI/bdnuOuJ8LoTE0I3HuaEOO5pjNEaJrRlNz2OWN1BSHkb2dIMkOyhFbujwTMx/WQSkApeyJjMelsQnYIVRL6cRkSOZBb852IHT1tHPXAiP9LZ0jkQE0IhdigJMyowU1IE/IPAh99U++S9eBaessyk+O/5ZGS5X7jrlzvNvVKfJoQAU0KKEHFcMmz/iZEQHMJQgQ/U0uoKZKcjNP+rJzsR+Vv8asTitAr5FHAaV8TEvymTsBG5U1IE/ITO7NrOOmnCM7uJ/1n8j8ZEt1ctS/SA8h2FlDnNZh8ceRNyAlaTcgOmMoIjzzNXEpItcOKvizgThm4Yq37lLP5GJ6yogY3w1lCsvb3JGX9Genby0YB24T8RasJMX+4VhWBZ+XrowhRekZ1HV+9ZEVLYslrL90jnBqqEucSQhng6nMBJ/vY1J2xrwmpe3noDDlo6pGMpgwguZUhkR6hOqCWKFpH9rLyrH3afzkhDkBKxFaW2FcE4Nn5pZI1w8Em5BFm9jf1JoQLDgWYOpVNyxA+greCDjxb7nnLq4cli7d7K2gMzmYceUP2I/tpD8nVHjflewgB0oSc09eEHGATCZjSDFEcoBpNDmXlWftqyfj2U8HDPY/6NCM/v2cBGU0Z7j0jAphDiOKPcx4iTxp71TGNjJ3J1YjZ9mcDogkBppoQ82IYjfxZ+2ZmSMVU6GQgfsKN1EwC3s2Aan1ZgCgAHP0Ovodjb6RpOk0uot8l2AEskiGO/iZk91NVyr7lCIlELB2yWu5mSNY+lays/rP98j1k9hhMB7ySEKfk0DlojG9CThCcHQD2Bypi+tUpPRug2UOJWmHCGUKEvbt8dsCVfg/JTiWR/S7BBKgztipDj6NvdJbQ83sEUAcgBQAiyLFHuhR/mhDjrYwCaDlC3AigAyr61CZHYEXllEFRvUdjrTI2b/7ITT2TkkSg4nD1FNSE7BDNjrGV+yMZTRnk+tcZkvz7lI8mJBKhbgQSgNXyaEkMjb3VzlOPIXmkB9EZnJ5J/jnyJiTwlqUEAGVI6U2dosuVOxEUHStdny7NkEgNdw84+95BEen6S/pITvbKX3vJIMndpkwAZCPaDRjyJ3pvki+GBLArb0IeiIV+KOcCTuubkIUJqehhVEJI/sqShb/LoimHop3kpD8rrxhDnZrv2lPWb2ukv6AiwEmeBZz2KwfOZEj2fIp/TQignJ3a3B5pERKp8RSRWTlFrdsTXH3uejrvUoTQ4SIB0YTsEKCIyJYEIrEJaUKGMUIBunTJqihRq2WImtHS2BsBiCIiOoVsB8voV8bQrH8qAfvzNCHCfzWuEOgScJbBTUgT8hMbVHIo4rL7Sf9VPWiJDHGfRl5RQkaEKPajPagJEVPFBdhdv9TY2xnyiIplM+SqGi4mDC6bmiFoHRZQBij3HLeJz15PmDhPQ8+6pAwh4yRvQgghs2Tp6o5XNiE6gkv86kQpWfqR1lyp9pS3JUQ94Bk91GOiPeDbHlWE0T2mCQkASDmYIeQ37vz1cP7VtusAAAAASUVORK5CYII="},830:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAFM0lEQVR4Xu2d0XYaMQxE4c/75+SkOUvIBvvOSDJsQH2VLVsz0sh2t/R8uVwup/5zGATOn4Sc/z1+P5fEmsp+b/3fG++sr6xXhWATIiDZhABICkBdIUKm3Q5xJGPvugkxwVaGzwhRAFfWmI1xEuIR+9n2OuwhzoYJHLepKgBkCXXic/dPeMwqvgkR0GtChCPxW1eIIiH7RMuccpT1yD8lfqVkKftV8ZEkq3LBbWMOIAQuSQrZV/gnn6OEakIIudPpRIRWJmwT0oR8IUA9wJG0bIYSJ29XIRRwBLBZEyV/yssAJRStcege0oR803eIHtKE/AFCHMlReogrMTSe7C8nWQ4hKzSfACd7E3KDAElgRUU1IcL71vUJ+85YF0AaT/a3qhAlw9W3oxFwBDjZlxJCzslOEkLzlR5BPpyLprJext/Mv3TspWDJ3oTMEbrFpwmhbBIeFwUX0yESIdlFaD5pMNnJP9nJP9nJf9R+iO+ySNKOaI8CTvOaEEGSIqc6An5kb0KakK/cII0mO2Xgs+fT/qYVEp38qHmKZDj3gmp/lTj8l6xKhyt8VQNY7a8y5iZkgKZTceWEVGeM4m8fRKXmE0DK/hxCKv3Jp6zqDbqEEGHV+3uWvyakQLK6QuDvO95CslyJIVBcfyRZ7no0fiZZSkWQ/1H80mtv9i3J3Rytt/e3EqB7e1+5XhMS6CFNyO6ppSuk4KMBt2eQzK3uKav9L33LipQwBezYV1SMs74SP/nbYih5OlE25FYIBbD6FOSsr8RP/poQ0EQCkOxuAv4gpJJh0v7N7gYUDVDdz+pxaryhpxOFwBmAFPyKe0j2bUoFdBSbKrFNyB0EKSGqEzL0GdDKDFFOSWqGRTLUXf8QhJDMuHaXYHd8tWS68Tnrhyoku6FsU34kIUrFOIATdk0IIbSzKxLlHBpmhMtN3YwBh7sZ745flcEVPeqQhCBjuwErCak4VTkVMqu4kud3RXMJUCcgl0waT4TQfNc+W68JET4ldQGn8U0IIPQSFZI9xlbPd5q4cmpy/FVI9uZDkqzKBTdf2Zs3yYLrv7LHUcWlm3oT8vNrfUqGJuQOQi9dIYrmUslTVmXnO5qvxLO6x43wkHoIlWCFpGUJydxjKuJzCRzF24QE7iFKhVGCNSETzXy5ClEyhnpI1l4tWZX7IcKl53cnQGdBNdDMKUld43oZM35pSPXtSNatT6mH0CaakN8INSGJLF8huS9NyArAqOqz9hQh2cWz8yOSRwFn97S6h478l3zbmw2+CflGsAkZZNNTK+QZGr1acrJVS/sjO61v39TJYdaeDch5TFTe2qreoka4qPeqP/MZECVAVmKakJt7Q4VkNiGUsmCvlizajrsejSe7W3HXZ5zRf07sZByBkT3WRvxHAdnmOfFTfEoP29YrecuKAEYZlgWkCZmwQhlE9gjhL01IpOk6FaD4V4+NRN7R7ZJkKYC5GekCnBkf2f9q4uyLIWU4bZjmZwB2muTn2CbE/BlYF2B3fBPShJCADO2H7CHhaAYTj3CKIwm3LoaRkqcNOPeMLEFNSFKysgS4PYbWUxLSScCZvz8hWQog7rF7Nl4hNLveKAneghAFYEdCXQmk8faHcisyNAsAyUzlPSdLaBMS+I3GbIJkEuBwFeJkEFXGZqcm6/aAR/mTeogKwrBRBX5EM5NxisQ8khDCz64Qckj2SAU0ITtUHU1tQn4j4OAnVQiBnLWTJmcqJHIqpHhov878maQe9jMgJ8NW9wwCW1lfTbAmJPBvDIkg6pkzAj8A1j4S+q7p9BcAAAAASUVORK5CYII="},831:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAE+ElEQVR4Xu2d61bjMAyEy5vvm3cPu+TQExJ/M5LspkX8lS3JM7rFCfBxv9/vt/65DAIfn4R8/Fnvz/3B5pH9R/neuwp/R/pn2FMRbkIEpCoCQDDzb0kTIiDVhNxuty5ZQqRULqEeUmnrSBfZJ/ks/05LltP0yDlq2pGSQIA5/kf8c/Q7+DQhn430YMqsJLwJgR6kjLWXJmR2SYnop6jby90hwSEk4v+ZfqlkVRrcgHJqcMR+E7JDwIkwivYmZFeDI4A0IeMw+/Ula1TCslNWZcC+bA/J9iAngyOEURl+uwxpQojyxU29CZlISKQGuz3BXZ8taQTXpUvWCkL6wdB4I9iEfOfTJaasJuQXEvJWPYQaFMkjc3x1zXfuttzbYDo/yR/xkUoWKSR5EzJGqAkpfl9CAUlyiRBSkpXPnvPJv2fbP/PvJT4Dypa8GfuJ8Ki8CQm+U48CTvuakCbkf4zMruGknyI1u5/0D3tIdHPVvkiNJ9tZQJ3bZPLFkf8rWc6GGWubkG9Um5CTCHtqhkQu99yrjdHVRcT+jEyt1BnFJzxlRQ1uh55Z4yMEZ/0ZBdxeNvKvCflCqwmBF1hUPrIZOruERv0ryZBnlIjogc+Irs6QKOGHU5YCsHuAmQAqNZr8zfrn6MceohwoyvhRE4/YyzZNB7CIf47+JsS8qnlJQqjprpZnI5T203my+zf9cg9xDWbW0+HpqiW7X+mhlSX8xxtDJUUzACsHdK4qmhChBldGTDbCs/uVAKo8byhD6JCz5ZShs+XV5zvzV+4hWYcq53zyZUZJI5skV0tyE3KAZKRkNSEDBF4+Q2ZEhBMxin3qEY49Wqv4QzqiNwvy5WK2B0Qd3PatJER5DHDOQ+SFvlxsQsawqk37SEsTQiG7kyslbDkh2QchwoBKEskd/UpJcu05hNi3va7DBMbV9dFURvKK8286pM+AVjjkRFg1wXQ+kjchQo13CCbASV5OiNK0yOjKKUzJEPKX5G4PIX2qXH4OIYXvTMiMABheLnaG/Ay36gBTp9TOkJPUfytCqjOuQh+VXDWCXT1n6633IZGaSU2Q5NWAkL3sFDbyN0Na+DnEBZAAcvXRocleE2J+y0uAvjUhFTU6C2B1hmQJo/0kd4eCbb08ZVWnuHMg90lZCbDqAHJ6yug8TcjJr0VTwJC8M+QBoc6QXbgogFCEkdyNQNJXLY+WRGnsrXY28pyTrdHuGbI9kwhJPRi6h3HXRzJqdoY0ISaLb01IJEJN/H4sp5R29a/Wl7U3/fo9A+DsnhLRT4CTPNrz5OcQF3BaX11ysjXfvSloQoDhJoRSwACwoodRxJJ8ZYbgd1nuXZHLBemPEOKWvAwhdF46n9PDLvt3ewmEJoQQGsgpgjpDvsGTMiQL2AxC3PhwS5arn9ar9i9BCB0mEhBukyYfsvImZIegCkgW+LP9qv3OkFkMBAPikoRUlKirlSyV95chJDPmEhg0dDjPEWSLSloTIvyp8SYE/uG8AlD2bsvNyGhmbPs2e5fIEKVnrAboWT3osoRkIzwbsSNCshmavlxUItiNKJrLm5Dg3ExTw6ecphiSU7RHAoZ0doYUB4QLePX6aM+TekjWWcqAiJx8opLolliy52TUSFcT8oWOSyAR5PTAR11NyKsQQhGQlVNEkjxrf/V+tadc4jOgSA9RD1gxBbrk0XlGzzFNiDCWryTkL6qe53BInY0bAAAAAElFTkSuQmCC"},832:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAE3klEQVR4Xu2c63bjIAyEkzffN8+eXnI29Rq+GQlsGqt/BUjMSCMgSe+Px+Nxq79lELh/EHL/c3w8j4RPJd7e+nvz3fGzECtCvpEtQqpCdousKqQq5AuB2RKRXf91vtKzRvWUZoVkmu42uBlN9Mj43Phdcl7XL0JutxsBTnaXgF7CFiG/kZCIhpIGz9Z4xz9VQMROVdOKT6qQowmhzbg9KgJollDaQxGyQSgLOM0vQg4G/K0JIUmhbJstqRTfSP9L9BDacBGyuUmPzIAnuFTyzsXv7PhG+q8KGXAPuQQhW5nK3lt665FkRuwks0sfe5UMcyRshXtKEdJBIJLhTo9TEkqt0GV7iCNZlI1FiHBKowxUM4rIaNnJf9ZOcaV6CC1OdspQmq/0BHcNpyeNjv/XPb8TuBHNzkhgEQKMXJIQytKsfbZGU3xn+2/Ft8S3TkgSVrQT4VF7ERJ8OokCTvOKkCLkK0dmazitT5manU/rd3tIdPJR85RT1czHx6P2+eHnU7KOdBjxVYREUJs453KEZDc84mkjq9lnStZI/ORTVvbthwqICHHs5GskgJ+6L/y0QsWvCGmwpwJYhAj3hstVSOQpg0AiO0kWzXfto3sS+X/62z32RgAfXeLbDZwF0B6QSs8gAlr7K0ICPaQIOeAncKtUZOiUpWTIbM3/7et337JmAOwC5vYId3xU01vH2sz+engvUyEuwO74IuTl9upWoPIUU4QkAFYIGZ3B7nqzx6sSd8rze4SgbEVk70kqoC1i1fiLkB0EIxdjqrAiZIPQW1eIIjnZEu9d1BT/zkVPOURQBZB9aoUogBAhaoDPjdJ6GUBorrtfWq+XAKEe4gZImqxkaBHSobkI+R8cp0dhhVAGKwS4ZbqSZI3Yv0NI6OnElQganw3Yme8mBxHirkfje/6G/aStCCEa/tmLEMDqLStEz4/9kU6FKT3N7VEUvyOZRHC6h1CwCkC0RnbDzkUwAlg2Pkq4Z/xSDyEwi5CfCEUIL0I6b10EaCRBh1bIiAqgTWQlIStZTnwz8ZAkSwmAMsCxEzjZDHafapTxvYSgeF/tRUjgq6kzE7QIeVdCSGZcO0mc0zPIt5LxtMahknWkhj59XYmQV3wlySpC3PrwfmVchGzwPVuy3pIQP4fnziDJbd27Qh/hjt4KndPJ3+wMj/gvQgg10559OShCTMBp+KmEzCh5Z8Nn+M/GRxUQXV/+OQI5cO3ZDWUuhkoCUHxkd+KT3rJcgN3x7oZo/azEjLppt+JUP8GsCmkgSAlD9stXiFNBZ0vW9M/UCQy6ZygAuZIycnx2f9v56a8BUUBkL0J+IlSECP9S0NF8J+P3kjVNyAxJcZtiVoKoilexS8/vswkhMCKSlyWcYsraW/EVIVlkg/OLkCBws6YVIbOQHbzuW0gWYUI9KDLfPWSoPa0IITYC/+SSEiB9U1/9lEWYEkCR+ZeqkEgCuAA5F0ElHlWSkPyPfzVOGaQE5AKiPkc/13U3nFkfQdv5P70Zf9LnIS4ARUibRifhl2zqzgZaMGQy9vIVEpFEAs2tcBpP9oxC2JJFmyd7JOMzAGzjUQgnf2R3Dgm9+CTJIsDJXoT0EaoK2cGHKoDs0yuEsj5rdzdI/kav5/YEJ76QZJGDrN0F8Myv+bh7JYkuQpISdSQhfwGuCyT6n1NJAAAAAABJRU5ErkJggg=="},833:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAEx0lEQVR4Xu2c7XbbMAxD0zffm2cna7NlbuwLkJJjN+hfUiQF8ENS0nxcr9frJX+HQeDjRsjHr/3juT74fOb/Ub6MTomX7C9tdv2NQjCEfCEZQlIhT4sqFZIK+UTA7fFuj+7a7653473rr1bIVk91ndHQVob01hAm+xQvrSc52Sf5o/0QcrlcCHCSE+AkDyELhAhwkhPgJLcJmd1SKvZpk26Lc/W7M2ZtvdSyKoBRwM6Mqvh3AXb1aX+UMCEE7j0hxHiuSYUMuCdQSe/dsqiFpEKaFdJ9e+omBCUcJcCPmyEhhChfyCmDRmboMjRl5oz0r/hTW+Ihjr2VDakbVPPIrThKOPJ76Ja1ByEEYAgx7wXVjLuvCyHGB1CpkH/p9jYz5EdVCLULktNrKcmVU5RzaqJ49/Znv/a6G3A3FELMlhVCviMwsiKlCumSQOudnl4Z+l37tJ72V5Wf4lsn1NJeIa8CTutCSPEzdQK2Kg8hIeQzd6hHk5wykNZ35eS/Kv9TIdXFo9ZVZgD5HnkKIl8j5SFkJJoDbIWQASCONFEe6u5z9TJo6uEjN/nMVjd+iq9q/7SEVDd8B7K7PoQsEOgC2l0fQkLIdg6cfQbsHb/q7+kpS3nMUx0869mK/dEtwW1Ro/en2gshg55OCHCS3xMwhLwrIdSCunLKQJLP9q/aH1IhS2fKjCCAOj2fNj/77ayz/xDyxR4lCJHsrl/TDyEh5BOBURmlHqvJH8mpQlz5rhXiBuf2XLJPM6KyntaQXP18ZkrLouC6hwCyH0IIIZCnQv4BNKRCFECXnLg929Xf8kf5U9kP2VSP8UM+MaxswAXY1e8QMrulbtkPIZTaK08rswgPIWckhE4tZ29ZI/anHmtv/G/hJVUIBaz0XHWoPbvoURK78bnxdu0r/u46IaT4/O5URAhZPM10K2z3CtljBhAorrx7DCZ/s+2v+R/yvSzKoArhrwbMnXkUr3oxDiErSIYQM8Vmt5QQYhIyW31Pwr/90+fszbn2R8wcAtQ5tirxOPa28JDuIS6gXX0FAPIRQgghQ/72hCgAUMapxzqDl6mq7n7cYNxDwV1fPva6G3D1XULdDbv2XQK27CtPJyFk8O91hZCNXzWd0YLdinEr+O0rxAXY1a+27EMce+ktzAVDqRCy6dwrKH5HHkIKb1nOkL7phhDjV7PXKuWlFTKixKkFuMdOtwe7+hQv2SN51b58DyEHrrybgc4xU2kxeybMVjwhRJghzgyotMBvr72vbllUXUp8Myvu7QhRACfSqKeTfM+Whd/LogwgMEhO9iuEVG/Ca8fQ0TPJje/uX/plawKc5CHkf4RSIc1/oesmnHPKkyqk21JmVAiB5M4E156rr86wQxDibm5GgrgxuPohZIGYCogLtKqv+k+FqIg29X4UIZUWdbQZovJ5igqpHAq6N/fqPUIFfi1hQojweYVzbA0hBUAVgN+6QiozQh2S1Yx91Qw6RMs6GyEzKyyEiCXktjBX33pcnJHB3ZbTXS/y8FfNBdjVPz0hLqB7608lpLuZ7j1iRoXOHtrOPegxFmmGhBAfgRDSfEwcPZOGE+LnhLeCACC55+312upMOcTXgLozRrkXuDOjmuE3P7SfrXhDSAFAqrcOIb8BQLPhcIRSNNMAAAAASUVORK5CYII="},834:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAFL0lEQVR4Xu2c23riMAyE0zffN2e/3ZKWpon/GUtODKi3snWY0cE20I/b7XZb6m8aBD7+EfLx53x/bg829+w/yrfe9fh7tr1eRIuQO3LZCVCEAAJVIZMBVIQECekt+aN9T09Iq6e6YI0Y2pn+UTyu/6SvdUg5HOqZAbsBKaeoTP8IQNd/0leEuAht1k9HiJKx25hH92zS3/JHudeQfpJTDhztl1rW2YRkAFaEbBCgDHJmALUMJWHci5/jv2Jf7SBVIcuy9BBOhFXLIgQCFdxDGLnz1DOEgstsGastqgCSk89FSFXINwJU8pRNJK8KIYSWZaGSzj71CC79WOL4RwmVmRBTnrJ6AHCO0Rn3HCKUEuSpZkgRsvMR7qgM2DvFZGcsZWe2vbdsWS7IL/10EgWDWhDpp/1KhmYfIiIzq1Wh0lAnwEhOgEb3FyGE4EZehLQBe8TnKb4GRIQqFaK+tqpPJ2ZOystflhA6JUblMsLmwiKk8/ndxFleXoQUIZ/JcnXLuNr+Ucn8rxC5ngYtzBjaBLBzURwUpqS2CJFgOm9REXIe1pIleahHWkJGS6JoIv6RbvKf9pO862IYCdgNaPRFjwDayl3/I/qnqBAFAAqSEibyGFiEdPzE7u0IoQyNvBVlVEjEP9rb00JJZ/MeQiXZ49CZLWIG/3oJWPeteEmfh8wQsPsBEwGUnTBkj+RFSMecWkHtSdAwIaSA5DRk3ZlD9l5FvntTVzKAACd5i5CeIU/2SO4S6rZQdX0R4jJxX68CvB3ae+Z+3dRnyEg3QLflPVWFKC3KBaAz8YZtyyZklKNdTyfRiurZHwXArUB3fdS/rxOc+t+Aog5G90cDdu2766P+FSEPCNJLxZkVfVrLunoGuRl/1cyRnk6oHM84FEQBGv1UkqW/CKFsO/iakHOxJRPSJ4YO41UhP7/WRAS0ZpI8Q1wjtN5tQe76qP2oPXdm2acsJ0Baq5xanApV9LmHil5AVzvufnx+d0HNBjBbXxFiMOreA0i1MtOoJbkZ7gz5VrxpM4QCJBCjAbn63fXZ8R3ZlwlxWoiSoQRINEPdFuX4QxUdib8IISbucqoQkotmliJERIoAJ7lopo+QSEmqjmUFuHcM7fE/2x97hozs4cq9wQXAmXGufWW9O7OO4ut6y4pmmBJgEbJBqSrkuLkqCUkJFaoQxQF1Nqg9nQKK3ltc/dnxhWYInbuVFuQAqOhzZgb5f0XCHeEhzRAKSAGwCGnXGD4uUklHZ0xmhlM7oYSqChF+p04gzy6nhG62rKuDUzLUDTAa08gKxtfeqPPR/UXI90fA0/5O3b35RpPizEMHVoiSoSMDVuxf2bIyDgWq//Jr70hCXN0EEOnLSAAV4L2LcOuaUIQcsEeAk9xpgdL3sijLonLnFKNcPB19VSE77LkXy0hGKgS4h4hR/khPJ9FqcHt+9vooIRR/pr9FiDBDihD4X/TuTHm5CokGRCU9Qj9l9dlydeZILWsEYKqDR8BF919JSNc9JBow7Sc5ARbdT/qz5eqpsiokG/mOQ4J0MYxmIO0nOeEU3U/6s+Wqv9NWCAUQvZlH94+6SBYhQikohxongVr6ipAi5BOBaEZF97stR+AtZckUFRKNJOPiOQvBRcg9G4qQwP88HPGWVYQ8EKKcYtyeTwC7bdLV565f/ZFaluv8iAxuEUL+RQlX4nET5sjnIiT41HEEbFVIo0xeokKoDUTlvRm02lVfT3v9HK3fblm9gaj7XEKufHtSY/oazIFPPKf4XpbSUt6FkL8o4gd/yMSHfwAAAABJRU5ErkJggg=="},835:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAE/ElEQVR4Xu2d23LbMAxE5T/vn7vTTjVVZJFnFyBlyUZeQRLALm6kneTxfD6fS/1cBoHHH0Iev86355nQOcJeR/8IfSrCRYiAVBECII0AqDJkB7IDyJ6fIkRIa3dJj5ARgJM9TkCcYc9qb7OHOAaT80cOZQkZad9o++m8XsYXIQJ6bkAJR/5Ysj2/CBHQuxwhkRq6LSmuQ4o+53zSP0NOPLfslzJEAWhvgAMYGU/yGYA69o/EpwhZlmUGoRRElSGde1ARsiyLUxIo2mYA6tj3cSWLAM0SQvtJTvYVITsECTACnOR0fhFShFAMvcpH12D3qYX0k0e0n+TR8y8x9iopn3m7Us7P3KNGnl+ENEKZMoDklSEdBEZG8KqmCNl8Bh8BmCL2ViXLdab33n8UYe75EUJG96DMeT18pB7iAlaEeIhd/vMQcucrM4RAycqpKZL87vpb9l/ie1mRpwkibLY8GxBFyA6BLGFFyGBAi5DBgFKEZgGn/aQ/Kv/bQ6Kbz9qnTFWZx8ez/FD0FCEKSieuKUJOBFtRJY+9zlOBUmLctyNyJlOyaOwm3Yq/Kn63IYSarOrwEbhFyAEqDuBZAEe/tVWGHPw63NdlyOiaT3V5tj4nI5WMcv1p+Sf3kCxABAA55DbtzHm0VylRdEYR0nkpcMErQnZfPR1RQkb3HJfUt2dI1uBsyXT1Z0usq29df3hTd8dKWk9yMt7dP6KkECEkjwZQEdKIBgKc5EXIBoHbZ4jiwKyIoHLVkrv2RPWM2qfaK99D1ANXB868N7gBRSBTz1L09UpWb0osQg7YKUIoZAfcQ5x7xy0IETD7scQtcXR+9rwsIWQfydUSLo+9oxQe9RilJp9JSOQlwCEce0jEgGjTKkJeQ/vlu71FSD//3QymaoIZoih0lWRLTPSmq9xblAB07XdKVg9v6dcRIoSpTUwl2nFYPXNdR1OVex6t7+krQoS/dUIAu/IiBBD7ugyJlLxsD3lnySSC0z3EbYLKekrzLKDufmriTg8rQg7YLUI6fzo8UrJcQGdfVC+VIQqgWQCphLny0fZQSXPta60fNvY6EUTGKwHgZEREX5ZQIrAlL0IC9xAlYIqQwf/+4qMzhMbA2WNypGTRHpJPzRBSTnKXkCucRzaQ3CFke5bUQ0g5yYuQV4RaJbEIaTR1CjKS3zpDRkwtBNDZ8hQhZxsbaeLZqcf10blXUUkm+UsPcY0dvd7NkAihrs1FCCD2VRmiRKgbYbSeamzvaeQMe8k+kkf9l79KSgpcuesQrc+WGDcAyJ7eeb2SW4Q0IokAJ3kRYrxlKSWPACf51xNCJTMDII2tIwhe7b/ETd11KDL2Zgghsokwxd7VviJE6CFFyAEC2XvIR2WIUlKuMjZSNF9dLpWs2YQ4NfYIUKrhEftnEzf9M/VMhhQh/xGoDJmdCsLQsM3gIuRNhLTUfgQhhCn1mMj+TIlOf9k60hRpzHTHWOfxMNuTlP1FiPFWpQDqEKwEpBOAH5EhVFbciI0+/rXsIEJU+2/TQ1SH1nUzS6Lbk2j9LaesIiT5b+oohd0ILkJOJERpmhlClPOdAJp5ntRDXDDcKcepsUpTVfS7QwAR5gwJPfuKkH/oEOAkL0J2CGR7EgFO8umEZMsU7ScHSe6WHLKH5K49DkHS2EsGZuXkoCOf3TNcX6knhnqIa4S73gE846AyBLjnk6/uedv1vwG8KQb6n7pdUgAAAABJRU5ErkJggg=="},836:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("sidebar-block",{staticClass:"app-download-sidebar-block"},[n("a",{directives:[{name:"link",rawName:"v-link.blank",value:"https://juejin.im/app",expression:"'https://juejin.im/app'",modifiers:{blank:!0}}],staticClass:"app-link"},[n("img",{staticClass:"qr-img",attrs:{src:t.qrImageUrl}}),n("div",{staticClass:"content-box"},[n("div",{staticClass:"headline"},[t._v("下载掘金客户端")]),n("div",{staticClass:"desc"},[t._v("一个帮助开发者成长的社区")])]),t.closeable?n("div",{staticClass:"close-btn ion-close-round",attrs:{title:"关闭"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.close(e)}}}):t._e()])]):t._e()},staticRenderFns:[]}},873:function(t,e,n){function i(t){n(894)}var s=n(25)(n(895),n(904),i,"data-v-746db1b2",null);t.exports=s.exports},880:function(t,e,n){function i(t){n(881)}var s=n(25)(n(882),n(887),i,"data-v-efcd2e56",null);t.exports=s.exports},881:function(t,e){},882:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),s=n.n(i),o=n(10),a=n(820),r=n.n(a),c=n(207),l=n.n(c),u=n(883),d=n.n(u);e.default={components:{Avatar:l.a,ImageUploader:d.a},props:["user","entry","vote","placeholder","type"],data:function(){return{content:"",isActionBoxVisible:!1,submitting:!1,metaKey:!1,ctrlKey:!1,enterKey:!1}},computed:{submitAction:function(){switch(this.type){case"book":return o.SUBMIT_BOOK_COMMENT;case"repo":return o.SUBMIT_REPO_COMMENT;default:return o.SUBMIT_COMMENT}}},watch:{content:function(t){t&&!this.user&&this.$requestRegister()}},methods:{focus:function(){this.$refs.input.focus()},blur:function(){this.content||(this.isActionBoxVisible=!1)},submit:function(){var t=this,e=this.entry,n=this.content.trim();return this.user?n?(this.submitting=!0,void this.uploadImage().then(function(i){return t.$store.dispatch(t.submitAction,{entry:e,content:n,imageUrl:i})}).then(function(){t.$barrage(t.content),t.$refs.imageUploader.cleanFile(),t.content="",t.submitting=!1,t.$nextTick(function(){r.a.update(t.$refs.input)}),t.$emit("submited")}).catch(function(e){t.submitting=!1,t.$error(e)})):void this.$alert("评论不能为空"):void this.$requestRegister()},uploadImage:function(){return this.$refs.imageUploader.file?this.$refs.imageUploader.upload():s.a.resolve()},listenerKeykown:function(t){var e={17:"ctrlKey",91:"metaKey",93:"metaKey",224:"metaKey",13:"enterKey"},n=e[t.keyCode];n&&(this[n]=!0)},listenerKeyup:function(t){this.ctrlKey=!1,this.metaKey=!1,this.enterKey=!1},quickSubmit:function(t){(this.metaKey||this.ctrlKey)&&this.enterKey&&this.submit()}},mounted:function(){r()(this.$refs.input)}}},883:function(t,e,n){function i(t){n(884)}var s=n(25)(n(885),n(886),i,"data-v-54e3f196",null);t.exports=s.exports},884:function(t,e){},885:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(214),s=["jpg","png"];e.default={data:function(){return{file:null,url:null}},methods:{showFileDialog:function(){this.$refs.input.click()},changeFile:function(t){this.file=t,window.URL.revokeObjectURL(this.url),this.url=t?window.URL.createObjectURL(t):null},cleanFile:function(){this.changeFile(null)},onActionBoxClick:function(){this.url?this.cleanFile():this.showFileDialog()},onFileSelected:function(t){var e=this;if(this.$refs.input.value=null,t)return this.isWithVaildSize(t)?void Object(i.a)(t,s).then(function(n){n?e.changeFile(t):e.$alert("不支持此格式的图片上传")}):void this.$alert("文件过大")},isWithVaildSize:function(t){return t.size<=1048576},upload:function(){return this.$getBean("uploadBusiness").uploadFile(this.file)}}}},886:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"image-uploader"},[n("input",{ref:"input",staticClass:"input",attrs:{type:"file"},on:{change:function(e){t.onFileSelected(e.target.files[0])}}}),t.url?n("div",{staticClass:"preview-box"},[n("img",{staticClass:"preview",attrs:{src:t.url}}),n("button",{staticClass:"clean-btn",attrs:{title:"移除图片"},on:{click:t.cleanFile}},[n("i",{staticClass:"ion-close-circled"})])]):n("button",{staticClass:"upload-btn",on:{click:t.showFileDialog}},[n("i",{staticClass:"icon ion-image"}),n("span",[t._v("上传图片")])])])},staticRenderFns:[]}},887:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-form",on:{click:function(t){t.stopPropagation()},keyup:function(e){e.stopPropagation(),t.listenerKeyup(e)},keydown:t.listenerKeykown}},[n("avatar",{staticClass:"avatar",attrs:{user:t.user,decorative:!0}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"input",staticClass:"content-input",attrs:{placeholder:t.placeholder||"说说你的看法"},domProps:{value:t.content},on:{focus:function(e){t.isActionBoxVisible=!0},keyup:t.quickSubmit,input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActionBoxVisible||t.vote,expression:"isActionBoxVisible || vote"}],staticClass:"action-box"},[n("image-uploader",{directives:[{name:"show",rawName:"v-show",value:t.vote,expression:"vote"}],ref:"imageUploader",staticClass:"image-uploader"}),n("div",{staticClass:"submit-box"},[n("span",{staticClass:"submit-text"},[t._v("Ctrl or ⌘ + Enter")]),n("button",{staticClass:"submit-btn",on:{click:t.submit}},[t._v("评论")])])],1),t.submitting?n("div",{staticClass:"submitting-mask"},[t._v("提交中...")]):t._e()],1)},staticRenderFns:[]}},888:function(t,e,n){function i(t){n(889)}var s=n(25)(n(890),n(907),i,"data-v-51163f89",null);t.exports=s.exports},889:function(t,e){},890:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(49),s=n(891),o=n.n(s);e.default={components:{Comment:o.a},props:["list","entry","type"],methods:{fetchMoreIfConditionIsSatisfied:function(){Object(i.a)(this.$refs.list)>-200&&this.$emit("should-fetch-more")}},mounted:function(){var t=this,e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.ROOT_CONTAINER_SCROLL,function(){t.fetchMoreIfConditionIsSatisfied()}),Object(i.d)(this.$refs.list,function(){t.fetchMoreIfConditionIsSatisfied()})}}},891:function(t,e,n){function i(t){n(892)}var s=n(25)(n(893),n(906),i,"data-v-7f6a837b",null);t.exports=s.exports},892:function(t,e){},893:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),s=n(19),o=n(109),a=n(803),r=n(207),c=n.n(r),l=n(805),u=n.n(l),d=n(873),h=n.n(d);e.default={components:{Avatar:c.a,UserPopover:u.a,SubCommentBox:h.a},props:["comment","entry","type"],data:function(){return{isShowAll:!1,isSubCommentBoxActive:!1,likeLock:Object(a.a)()}},computed:{date:function(){return Object(s.c)(this.comment.createdAt)},displayedLikeCount:function(){return Object(o.a)(this.comment.likesCount)},replyPlaceholder:function(){return"对 "+this.comment.user.username+" 的回复"},toggleSubCommentBtnTitle:function(){var t=this.comment.subCount;return this.isSubCommentBoxActive?"收起评论":t?this.comment.subCount+"条评论":"评论"},limitedContent:function(){return this.$getBean("commentBusiness").limitCommentContent(this.comment.content)},collapsed:function(){return this.limitedContent.length<this.comment.content.length&&!this.isShowAll},toggleLikeAction:function(){switch(this.type){case"book":return i.TOGGLE_LIKE_BOOK_COMMENT;case"repo":return i.TOGGLE_LIKE_REPO_COMMENT;default:return i.TOGGLE_LIKE_COMMENT}}},methods:{toggleLike:function(){var t=this;this.likeLock.do(function(){return t.$ensureAuthorized().then(function(){return t.$store.dispatch(t.toggleLikeAction,{comment:t.comment,entry:t.entry}).catch(function(e){t.$error(e)})}).catch(function(){})})}},mounted:function(){this.comment.createdAt=this.comment.createdAt}}},894:function(t,e){},895:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),s=n.n(i),o=n(5),a=n.n(o),r=n(10),c=n(803),l=n(49),u=n(37),d=n(896),h=n.n(d),f=n(900),p=n.n(f),m=n(820),g=n.n(m),v=(n(29),function(){return{page:1,total:0,list:[],fetchLock:Object(c.a)(),replyLock:Object(c.a)(),replyForm:{content:"",comment:null},metaKey:!1,ctrlKey:!1,enterKey:!1}});e.default={components:{SubComment:h.a,Pagination:p.a},props:["parent","entry","type"],data:v,computed:{isMobile:function(){return Object(u.d)()},pageSize:function(){return this.isMobile?20:5},replyPlaceholder:function(){var t=((this.replyForm.comment||{}).user||{}).username;return t?"回复 "+t+" ：":"输入评论"},shouldCancelReply:function(){return this.replyForm.comment&&!this.replyForm.content},canReply:function(){return!!this.replyForm.content.trim()},replyBtnTitle:function(){return this.shouldCancelReply?"取消":"评论"},totalPage:function(){return Math.max(Math.ceil(this.total/5),1)},startTime:function(){return this.list.length?this.list[this.list.length-1].createdAt:null},fetching:function(){return this.fetchLock.busy},empty:function(){return!this.list.length&&!this.fetching},commentBusiness:function(){switch(this.type){case"book":return this.$getBean("xiaoceCommentBusiness");case"repo":return this.$getBean("repoCommentBusiness");default:return this.$getBean("commentBusiness")}},replyAction:function(){switch(this.type){case"book":return r.REPLY_BOOK_COMMENT;case"repo":return r.REPLY_REPO_COMMENT;default:return r.REPLY_COMMENT}}},methods:{close:function(){this.$emit("close")},getTarUser:function(t){return t.replyCommentId!==this.parent.id?t.replyUser:null},prepareReply:function(t){this.$refs.replyInput.focus(),this.replyForm.content="",this.replyForm.comment=t},cancelReply:function(){this.replyForm.content="",this.replyForm.comment=null},listenerKeyup:function(t){this.ctrlKey=!1,this.metaKey=!1,this.enterKey=!1},listenerKeykown:function(t){var e={17:"ctrlKey",91:"metaKey",93:"metaKey",224:"metaKey",13:"enterKey"},n=e[t.keyCode];n&&(this[n]=!0)},reply:function(){var t=this,e={entry:this.entry,parent:this.parent,tar:this.replyForm.comment||this.parent,content:this.replyForm.content.trim()};this.replyLock.do(function(){return t.$ensureAuthorized().then(function(){return t.$store.dispatch(t.replyAction,e).then(function(){t.$barrage(t.replyForm.content),t.refresh(),t.$nextTick(function(){g.a.update(t.$refs.replyInput)})}).catch(function(e){t.$error(e)})}).catch(function(){})})},onReplyBtnClick:function(){this.shouldCancelReply?this.cancelReply():this.canReply&&this.reply()},quickSubmit:function(){(this.metaKey||this.ctrlKey)&&this.enterKey&&this.reply()},refresh:function(){this.reset(),this.fetch()},fetch:function(){var t=this,e={commentId:this.parent.id,entryId:this.entry.id,page:this.page,pageSize:this.pageSize};return this.fetchLock.do(function(){return t.commentBusiness.getSubCommentList(e).then(function(e){t.list=e.list,t.total=e.total})}).catch(function(e){t.$error(e)})},gotoPage:function(t){var e=this;this.page=t,this.fetch().then(function(){Object(l.i)(e.$refs.subCommentBox,-110)})},fetchMore:function(){var t=this;this.fetchLock.do(function(){return t.commentBusiness.getSubCommentList({commentId:t.parent.id,entryId:t.entry.id,page:t.page+1,pageSize:t.pageSize}).then(function(e){t.page=t.page+1,t.list=t.list.concat(e.list),t.total=e.total}).then(function(){return new a.a(function(t){return window.setTimeout(t,500)})})}).catch(function(e){t.$error(e)})},reset:function(){s()(this,v())}},mounted:function(){var t=this;if(g()(this.$refs.replyInput),Object(l.f)(this.$refs.subCommentBoxInner,function(e){e<50&&t.fetchMore()}),this.$refs.replyInput.focus(),this.isMobile){var e=this.$getBean("eventBus");e.emit(e.eventType.LOCK_ROOT_CONTAINER_SCROLL)}this.refresh()},beforeDestroy:function(){if(this.isMobile){var t=this.$getBean("eventBus");t.emit(t.eventType.UNLOCK_ROOT_CONTAINER_SCROLL)}}}},896:function(t,e,n){function i(t){n(897)}var s=n(25)(n(898),n(899),i,"data-v-6fdfc18a",null);t.exports=s.exports},897:function(t,e){},898:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),s=n(207),o=n.n(s),a=n(805),r=n.n(a);e.default={components:{Avatar:o.a,UserPopover:r.a},props:["comment","tarUser"],data:function(){return{isShowAll:!1}},computed:{date:function(){return Object(i.c)(this.comment.createdAt)},limitedContent:function(){return this.$getBean("commentBusiness").limitCommentContent(this.comment.content)},collapsed:function(){return this.limitedContent.length<this.comment.content.length&&!this.isShowAll}},methods:{reply:function(){this.$emit("reply")}}}},899:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sub-comment"},[n("user-popover",{staticClass:"user-popover--avatar",attrs:{userId:t.comment.user.id}},[n("avatar",{staticClass:"avatar",attrs:{user:t.comment.user,decorative:!0}})],1),n("div",{staticClass:"content-box"},[n("div",{staticClass:"header"},[n("div",{staticClass:"user-info"},[n("user-popover",{staticClass:"user-popover--info",attrs:{userId:t.comment.user.id}},[n("app-link",{staticClass:"username",attrs:{to:t.$userRoute(t.comment.user),blank:!0}},[t._v(t._s(t.comment.user.username))])],1),n("div",{staticClass:"position"},[t._v(t._s(t.$userPosition(t.comment.user)))])],1)]),n("div",{staticClass:"content"},[t.tarUser?n("span",{staticClass:"text-reply"},[t._v("回复"),n("app-link",{attrs:{to:t.$userRoute(t.tarUser),blank:!0}},[n("span",{staticClass:"username"},[t._v(t._s(t.tarUser.username))])]),t._v("：")],1):t._e(),t.collapsed?n("span",{staticClass:"content-html collapsed"},[t._v(t._s(t.limitedContent))]):n("span",{directives:[{name:"parse-url",rawName:"v-parse-url",value:t.comment.content,expression:"comment.content"}],staticClass:"content-html"}),t.collapsed?n("span",{staticClass:"show-all",on:{click:function(e){t.isShowAll=!0}}},[t._v("展开全部")]):t._e()]),n("div",{staticClass:"footer"},[n("span",{staticClass:"date"},[t._v(t._s(t.date))]),n("a",{staticClass:"reply-btn",on:{click:t.reply}},[t._v("回复")])])])],1)},staticRenderFns:[]}},900:function(t,e,n){function i(t){n(901)}var s=n(25)(n(902),n(903),i,"data-v-2c38f2aa",null);t.exports=s.exports},901:function(t,e){},902:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(153),s=n.n(i),o=n(88);e.default={props:["current","total"],computed:{canPrev:function(){return this.current>1},canNext:function(){return this.current<this.total},list:function(){var t=this.current,e=this.total;return e<=6?Object(o.a)(1,e):t<=4?[].concat(s()(Object(o.a)(1,4)),[!1,e]):t>=e-4?[1,!1].concat(s()(Object(o.a)(e-4,e))):[1,!1,t,t+1,!1,e]}},methods:{prev:function(){this.update(this.current-1)},next:function(){this.update(this.current+1)},update:function(t){this.$emit("update",t)},onItemClick:function(t){t&&this.update(t)}}}},903:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"pagination"},[t.canPrev?n("li",{staticClass:"item",on:{click:t.prev}},[t._v("上一页")]):t._e(),t._l(t.list,function(e){return n("li",{staticClass:"item",class:{ellipsis:!e,current:e==t.current},on:{click:function(n){t.onItemClick(e)}}},[t._v(t._s(e||"..."))])}),t.canNext?n("li",{staticClass:"item",on:{click:t.next}},[t._v("下一页")]):t._e()],2)},staticRenderFns:[]}},904:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"subCommentBox",staticClass:"sub-comment-box",class:{"sub-comment-box__m":t.isMobile}},[n("div",{staticClass:"sub-comment-box__top"},[n("div",{staticClass:"icon-close",on:{click:t.close}}),n("h3",[t._v("评论")])]),n("div",{ref:"subCommentBoxInner",staticClass:"sub-comment-box__inner"},[t.empty?n("div",{staticClass:"empty-comment"},[t._m(0)]):n("div",[n("ul",{staticClass:"sub-comment-list"},t._l(t.list,function(e){return n("li",{key:e.id,staticClass:"item"},[n("sub-comment",{staticClass:"sub-comment",class:{"sub-comment__m":t.isMobile},attrs:{comment:e,tarUser:t.getTarUser(e)},on:{reply:function(n){t.prepareReply(e)}}})],1)})),t.totalPage>1?n("pagination",{staticClass:"pagination",attrs:{total:t.totalPage,current:t.page},on:{update:t.gotoPage}}):t._e()],1),n("form",{staticClass:"reply-form",on:{submit:function(t){t.preventDefault()},keyup:function(e){e.stopPropagation(),t.listenerKeyup(e)},keydown:t.listenerKeykown}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.replyForm.content,expression:"replyForm.content"}],ref:"replyInput",attrs:{rows:"1",maxlength:"1024",placeholder:t.replyPlaceholder},domProps:{value:t.replyForm.content},on:{keyup:t.quickSubmit,input:function(e){e.target.composing||t.$set(t.replyForm,"content",e.target.value)}}}),n("button",{staticClass:"reply-btn",on:{click:t.onReplyBtnClick}},[t._v(t._s(t.replyBtnTitle))])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dl",[i("dt",[i("img",{attrs:{src:n(905)}})]),i("dd",[t._v("暂无评论")])])}]}},905:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+MTEyODdEMEYtNDY1MS00ODkzLUI5MTUtNDY0OTYyRDMwRDk5PC90aXRsZT48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0wIDBoNjB2NjBIMHoiLz48cGF0aCBkPSJNMTEgMzl2NS41bDcuMDcxLTUuNWgyMC45MjJBMyAzIDAgMCAwIDQyIDM2LjAwNlYxMi45OTRBMyAzIDAgMCAwIDM4Ljk5MyAxMEg5LjAwN0EzIDMgMCAwIDAgNiAxMi45OTR2MjMuMDEyQTMgMyAwIDAgMCA5LjAwNyAzOUgxMXoiIGZpbGw9IiNGMkY0RjUiLz48cGF0aCBkPSJNNTAgNDV2NS41TDQyLjkyOSA0NUgyMi4wMDdBMyAzIDAgMCAxIDE5IDQyLjAwNlYxOC45OTRBMyAzIDAgMCAxIDIyLjAwNyAxNmgyOS45ODZBMyAzIDAgMCAxIDU1IDE4Ljk5NHYyMy4wMTJBMyAzIDAgMCAxIDUxLjk5MyA0NUg1MHoiIGZpbGw9IiNEQ0RERTAiLz48cGF0aCBkPSJNNDYuNDkxIDI4SDI3LjUxQTEuNTA0IDEuNTA0IDAgMCAxIDI2IDI2LjVjMC0uODI5LjY3NS0xLjUgMS41MDktMS41SDQ2LjQ5Yy44MzQgMCAxLjUwOS42NzEgMS41MDkgMS41cy0uNjc1IDEuNS0xLjUwOSAxLjVNMjcuNTA5IDM2QTEuNTA0IDEuNTA0IDAgMCAxIDI2IDM0LjVjMC0uODI5LjY3NS0xLjUgMS41MDktMS41SDQwLjQ5Yy44MzQgMCAxLjUwOS42NzEgMS41MDkgMS41cy0uNjc1IDEuNS0xLjUwOSAxLjVIMjcuNTF6IiBmaWxsPSIjRjJGNEY2Ii8+PC9nPjwvc3ZnPg=="},906:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment"},[n("user-popover",{attrs:{userId:t.comment.user.id}},[n("app-link",{attrs:{to:t.$userRoute(t.comment.user),blank:!0}},[n("avatar",{staticClass:"avatar",attrs:{user:t.comment.user,decorative:!0}})],1)],1),n("div",{staticClass:"content-box"},[n("div",{staticClass:"header"},[n("div",{staticClass:"user-info"},[n("user-popover",{attrs:{userId:t.comment.user.id}},[n("app-link",{staticClass:"username",attrs:{to:t.$userRoute(t.comment.user),blank:!0}},[t._v(t._s(t.comment.user.username))])],1),n("div",{staticClass:"position"},[t._v(t._s(t.$userPosition(t.comment.user)))])],1)]),n("div",{staticClass:"content"},[t.comment.reply?n("span",[t._v("回复"),n("router-link",{attrs:{to:t.$userRoute(t.comment.reply.user)}},[n("span",{staticClass:"username"},[t._v(t._s(t.comment.reply.user.username))])]),t._v("：")],1):t._e(),t.collapsed?n("span",{staticClass:"content-html collapsed"},[t._v(t._s(t.limitedContent))]):n("span",{directives:[{name:"parse-url",rawName:"v-parse-url",value:t.comment.content,expression:"comment.content"}],staticClass:"content-html"}),t.collapsed?n("span",{staticClass:"show-all",on:{click:function(e){t.isShowAll=!0}}},[t._v("展开全部")]):t._e()]),n("div",{staticClass:"footer"},[n("button",{staticClass:"like-btn",class:{liked:t.comment.liked},on:{click:t.toggleLike}},[n("i",{staticClass:"collection-arrow-ion ion-arrow-up-b"}),n("span",[t._v(t._s(t.displayedLikeCount))])]),n("span",{staticClass:"sub-comment-btn text-pointer",on:{click:function(e){t.isSubCommentBoxActive=!t.isSubCommentBoxActive}}},[n("span",{staticClass:"title"},[t._v(t._s(t.toggleSubCommentBtnTitle))]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isSubCommentBoxActive,expression:"isSubCommentBoxActive"}],staticClass:"sub-comment--arrow"})]),n("span",{staticClass:"date"},[t._v(t._s(t.date))])]),t.isSubCommentBoxActive?n("sub-comment-box",{staticClass:"sub-comment-box",attrs:{parent:t.comment,entry:t.entry,type:t.type},on:{close:function(e){t.isSubCommentBoxActive=!1}}}):t._e()],1)],1)},staticRenderFns:[]}},907:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{ref:"list",staticClass:"comment-list",attrs:{"st:block":"commentList"}},t._l(t.list,function(e,i){return n("li",{key:i,staticClass:"item"},[n("comment",{attrs:{comment:e,entry:t.entry,type:t.type}})],1)}))},staticRenderFns:[]}},908:function(t,e,n){function i(t){n(909)}var s=n(25)(n(910),n(911),i,"data-v-1a304592",null);t.exports=s.exports},909:function(t,e){},910:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(110),s=n(804),o=n.n(s),a=n(813),r=n.n(a);e.default={components:{Thumb:o.a,SidebarBlock:r.a},props:["place","category"],data:function(){return{fetched:!1,recommendData:{category:"",data:[]}}},computed:{categoryTitle:function(){var t="你可能感兴趣的小册";if("timeline"!==this.place){var e=i.a[this.recommendData.category];t=e&&"阅读"!==e?e+"系列小册推荐":t}return t}},watch:{category:function(t){var e=t;this.getBooks(e)}},methods:{toBookInfo:function(t){this.$router.push({name:"bookInfo",params:{id:t}})},tryRead:function(t){this.$router.push({name:"bookSection",params:{id:t}})},getBooks:function(t){var e=this;this.fetched||(this.fetched=!0,this.$getBean("xiaoceBusiness").getRecommendBooks({category:t}).then(function(t){e.recommendData=t}))}},mounted:function(){this.category&&this.getBooks(this.category)},beforeDestroy:function(){}}},911:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.recommendData.data.length?n("sidebar-block",{staticClass:"recommend recommend-index",attrs:{title:t.categoryTitle}},[n("div",{staticClass:"book-list"},t._l(t.recommendData.data,function(e){return n("div",{staticClass:"book",on:{click:function(n){t.toBookInfo(e._id)}}},[n("div",{staticClass:"poster"},[n("thumb",{staticClass:"poster-img",attrs:{alt:"小册封面图",url:e.img,quality:95,width:200,height:280}})],1),n("div",{staticClass:"info"},[n("div",{staticClass:"title"},[t._v(t._s(e.title))]),n("div",{staticClass:"bought"},[n("span",{staticClass:"num"},[t._v(t._s(e.buyCount)+"人已购买")]),n("span",{staticClass:"try-read",on:{click:function(n){n.stopPropagation(),n.preventDefault(),t.tryRead(e._id)}}},[t._v("试读")])])])])}))]):t._e()},staticRenderFns:[]}},912:function(t,e,n){/**
 * juejin-lazyload v0.1.5
 * (c) 2017 WEBuster <webuster@xitu.io>
 * @license MIT
 */
!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.addEventListener(e,n,i),function(){t.removeEventListener(e,n,i)}}!function(){function t(t){this.value=t}function e(e){function n(s,o){try{var a=e[s](o),r=a.value;r instanceof t?Promise.resolve(r.value).then(function(t){n("next",t)},function(t){n("throw",t)}):i(a.done?"return":"normal",a.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":s.resolve({value:e,done:!0});break;case"throw":s.reject(e);break;default:s.resolve({value:e,done:!1})}(s=s.next)?n(s.key,s.arg):o=null}var s,o;this._invoke=function(t,e){return new Promise(function(i,a){var r={key:t,arg:e,resolve:i,reject:a,next:null};o?o=o.next=r:(s=o=r,n(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}();var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},s={threshold:0,interval:200,debounce:!1,reactive:!0,eagerShowing:!1,infoGetter:null,visibleAreaGetter:null,onStateChange:null},o="__JUEJIN_LAZYLOAD";return function(){function a(t,n){e(this,a),this.setOptions(n),this.addOrUpdateElement(t),this.initEventListener()}return n(a,[{key:"setOptions",value:function(t){this.options=i({},s,t)}},{key:"initEventListener",value:function(){var e=this;if(this.options.reactive){var n=this.options.debounce?function(t,e){var n=0;return function(){for(var i=this,s=arguments.length,o=Array(s),a=0;a<s;a++)o[a]=arguments[a];clearTimeout(n),n=setTimeout(function(){return t.apply(i,o)},e)}}(function(){return e.updateState()},this.options.interval):function(t,e){var n=0;return e/=2,function(){for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];Date.now()-n>=e&&(n=Date.now(),setTimeout(function(){t.apply(null,s)},e))}}(function(){return e.updateState()},this.options.interval);this.removeScrollEventListener=t(window,"scroll",n),this.removeResizeEventListener=t(window,"resize",n)}}},{key:"removeEventListener",value:function(){this.removeScrollEventListener&&this.removeScrollEventListener(),this.removeResizeEventListener&&this.removeResizeEventListener()}},{key:"addOrUpdateElement",value:function(t){var e=this.getElementList(t),n=e.filter(function(t){return!t[o]});this.elementList=(this.elementList||[]).concat(n),e.forEach(this.initElement.bind(this)),this.updateState()}},{key:"removeElement",value:function(t){var e=this.getElementList(t);this.elementList=this.elementList.filter(function(t){return-1===e.indexOf(t)}),e.forEach(this.removeInfo.bind(this))}},{key:"clean",value:function(){this.elementList.forEach(this.removeInfo.bind(this)),this.elementList=[]}},{key:"getElementList",value:function(t){return t?"string"==typeof t?[].slice.call(document.querySelectorAll(t)):"number"==typeof t.length?[].slice.call(t):[t]:[]}},{key:"initElement",value:function(t){this.attachInfo(t),this.setPlaceholder(t),this.updateElementClassByState("inited",t),this.invokeStateHook("inited",t)}},{key:"attachInfo",value:function(t){var e=this.options.infoGetter&&this.options.infoGetter(t),n=i({},e,{loading:!1});t[o]=n}},{key:"setPlaceholder",value:function(t){var e=t[o];"IMG"===t.nodeName&&e.width&&e.height&&(t.src=function(t,e){return["data:image/svg+xml;utf8,",'<?xml version="1.0"?>','<svg xmlns="http://www.w3.org/2000/svg" version="1.1" ','width="'+t+'" height="'+e+'"',"></svg>"].join("")}(e.width,e.height))}},{key:"removeInfo",value:function(t){t[o]&&(t[o]=null)}},{key:"updateState",value:function(){var t=this;if(this.elementList.length){var e=this.getActiveArea();this.elementList.forEach(function(n){var i=n[o].loading,s=n.getBoundingClientRect(),a=function(t,e){return!(e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}(e,s);!i&&a&&t.loadIamge(n)})}}},{key:"getActiveArea",value:function(){var t=this.getVisibleArea(),e=this.options.threshold||0;return{top:t.top-e,left:t.left-e,right:t.right+e,bottom:t.bottom+e}}},{key:"getVisibleArea",value:function(){if(this.options.visibleAreaGetter)return this.options.visibleAreaGetter();var t=function(){var t=document.documentElement;return{width:Math.max(t.clientWidth,window.innerWidth||0),height:Math.max(t.clientHeight,window.innerHeight||0)}}();return{top:0,left:0,right:t.width,bottom:t.height}}},{key:"loadIamge",value:function(t){var e=this,n=t[o],i=n.url;n.loading=!0,this.updateElementClassByState("loading",t),this.invokeStateHook("loading",t),function(t,e){var n=e.onStart,i=e.onLoaded,s=e.onError,o=new Image;o.onload=function(){i&&i(t,o)},o.onerror=function(){s&&s(t,o)},o.src=t,n&&n(t,o)}(i,{onStart:function(n,i){e.options.eagerShowing&&e.onMetaLoaded(i,function(){t.removeAttribute("src"),t.setAttribute("src",n)})},onLoaded:function(){e.setElementWithImageUrl(i,t),e.updateElementClassByState("loaded",t),e.invokeStateHook("loaded",t),e.removeElement(t)},onError:function(){e.updateElementClassByState("error",t),e.invokeStateHook("error",t),e.removeElement(t)}})}},{key:"updateElementClassByState",value:function(t,e){switch(t){case"inited":e.classList.add("inited"),e.classList.remove("loading"),e.classList.remove("loaded"),e.classList.remove("error");break;case"loading":e.classList.add("loading");break;case"loaded":e.classList.remove("loading"),e.classList.add("loaded");break;case"error":e.classList.remove("loading"),e.classList.add("error")}}},{key:"invokeStateHook",value:function(t,e){if(this.options.onStateChange){var n=e[o].url;this.options.onStateChange(t,n,e,this)}}},{key:"setElementWithImageUrl",value:function(t,e){"IMG"===e.nodeName?e.src=t:e.style.backgroundImage="url("+t+")"}},{key:"onMetaLoaded",value:function(e,n){var i=setInterval(function(){e.naturalWidth&&(s(),n())},300),s=function(){return clearInterval(i)};t(e,"load",s),t(e,"error",s)}},{key:"destroy",value:function(){this.removeEventListener(),this.clean(),this.setOptions({})}}]),a}()})},913:function(t,e,n){function i(t){n(982)}var s=n(25)(n(983),n(996),i,"data-v-a0f279e6",null);t.exports=s.exports},922:function(t,e,n){function i(t){n(923)}var s=n(25)(n(924),n(925),i,"data-v-00a4671b",null);t.exports=s.exports},923:function(t,e){},924:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(49);e.default={props:["category","resourceType","resourceId","noPromotion"],data:function(){return{popupText:"",canOpenInApp:!1}},computed:{promotion:function(){return(this.category||"")+"高手都在看"}},methods:{onClick:function(){if(this.canOpenInApp){this.$getBean("openInAppBusiness").openInApp(this.resourceType,this.resourceId)}else this.downloadApp()},downloadApp:function(){this.$getBean("openInAppBusiness").openAppDownloadPage()}},mounted:function(){var t=this,e=this.$getBean("openInAppBusiness");this.canOpenInApp=e.canOpenInApp(this.$route.path),this.removeEventListener=Object(i.e)(document,function(){if(!t.noPromotion){var e=document.documentElement.offsetHeight,n=window.screen.height,i=window.pageYOffset,s=e-n-i<=50;t.popupText=s?t.promotion:""}})},beforeDestroy:function(){this.removeEventListener()}}},925:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mobile-bottom-bar",attrs:{"st:block":"mobileBottomBar"}},[n("div",{staticClass:"bar-container"},[t._m(0),n("a",{staticClass:"button",attrs:{"st:name":"openInAppBtn"},on:{click:t.onClick}},[t._v(t._s(t.canOpenInApp?"打开应用":"立即下载")),n("div",{directives:[{name:"show",rawName:"v-show",value:t.popupText,expression:"popupText"}],staticClass:"pop-up"},[n("a",{staticClass:"pop-up-content"},[t._v(t._s(t.popupText))])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"left",attrs:{href:"https://juejin.im/about"}},[n("img",{attrs:{src:"https://gold-cdn.xitu.io/images/logo-bold.svg"}}),n("span",[t._v("一个帮助开发者成长的社区")])])}]}},955:function(t,e,n){"use strict";function i(t,e){t=t||{},e=e||t.parsedContent;var n=t.title||"",i=s(e)||t.content;return{title:n,keywords:o((t.tags||[]).map(function(t){return t.title})),description:a(i)}}function s(t){return(t||"").replace(/<.*?>/g,"")}function o(t){return t=t||[],t.join(",").replace(/[\r\n\s]+/g," ")}function a(t){return t=(t||"").trim().slice(0,130),t.replace(/[\r\n\s]+/g," ")}e.a=i,e.c=o,e.b=a;n(216)},957:function(t,e,n){var i,s,o;!function(a,r){s=[t,n(1008),n(1010),n(1011)],i=r,void 0!==(o="function"==typeof i?i.apply(e,s):i)&&(t.exports=o)}(0,function(t,e,n,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=s(e),u=s(n),d=s(i),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),p=function(t){function e(t,n){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.resolveOptions(n),i.listenClick(t),i}return r(e,t),f(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===h(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,d.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return c("action",t)}},{key:"defaultTarget",value:function(t){var e=c("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return c("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(u.default);t.exports=p})},979:function(t,e,n){function i(t){n(980)}var s=n(25)(n(981),n(997),i,"data-v-1988842d",null);t.exports=s.exports},980:function(t,e){},981:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(913),s=n.n(i),o=n(813),a=n.n(o);e.default={components:{WechatBanner:s.a,SidebarBlock:a.a},props:["category","closeable"],data:function(){return{visible:!1}},methods:{close:function(){window.localStorage.setItem("HIDE_WECHAT_SIDEBAR_BLOCK",!0),this.visible=!1}},mounted:function(){this.closeable?this.visible=!window.localStorage.getItem("HIDE_WECHAT_SIDEBAR_BLOCK"):this.visible=!0}}},982:function(t,e){},983:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={default:[n(984),n(985)],frontend:[n(986),n(987)],backend:[n(988),n(989)],android:[n(990),n(991)],ios:[n(992),n(993)],ai:[n(994),n(995)]};e.default={props:["category","square"],computed:{imageUrl:function(){return(i[this.category]||i.default)[this.square?1:0]}}}},984:function(t,e,n){t.exports=n.p+"static/img/default.433c776.png"},985:function(t,e,n){t.exports=n.p+"static/img/default.2e13e97.png"},986:function(t,e,n){t.exports=n.p+"static/img/frontend.882325d.png"},987:function(t,e,n){t.exports=n.p+"static/img/frontend.fa388ca.png"},988:function(t,e,n){t.exports=n.p+"static/img/backend.ca17578.png"},989:function(t,e,n){t.exports=n.p+"static/img/backend.53f0af7.png"},990:function(t,e,n){t.exports=n.p+"static/img/android.adc945b.png"},991:function(t,e,n){t.exports=n.p+"static/img/android.fef4da1.png"},992:function(t,e,n){t.exports=n.p+"static/img/ios.f827b0c.png"},993:function(t,e,n){t.exports=n.p+"static/img/ios.c0a0c8c.png"},994:function(t,e,n){t.exports=n.p+"static/img/ai.1ca3d6b.png"},995:function(t,e,n){t.exports=n.p+"static/img/ai.b28659d.png"},996:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wechat-banner"},[n("img",{staticClass:"wechat-img",attrs:{src:t.imageUrl}})])},staticRenderFns:[]}},997:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("sidebar-block",{staticClass:"wechat-sidebar-block",attrs:{pure:!0}},[n("wechat-banner",{attrs:{category:t.category,square:!0}}),t.closeable?n("div",{staticClass:"close-btn ion-close-round",attrs:{title:"关闭"},on:{click:t.close}}):t._e()],1):t._e()},staticRenderFns:[]}},998:function(t,e,n){function i(t){n(999)}var s=n(25)(n(1e3),n(1016),i,"data-v-27de1b66",null);t.exports=s.exports},999:function(t,e){}});