webpackJsonp([13],{1003:function(e,t,o){t=e.exports=o(889)(!1),t.push([e.i,'._1Rb5hzxfh3kwe9QXjPVRZ0{-webkit-align-items:center;-ms-flex-align:center;align-items:center;background:#fff;border:1px solid #999;border-radius:4px;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;min-height:64px;min-width:64px;padding:4px;pointer-events:none;position:fixed;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);z-index:3}[data-app-dm] ._1Rb5hzxfh3kwe9QXjPVRZ0{background:#222;border-color:#777}._1Rb5hzxfh3kwe9QXjPVRZ0:after,._1Rb5hzxfh3kwe9QXjPVRZ0:before{border:0 solid transparent;content:"";left:50%;position:absolute}._1Rb5hzxfh3kwe9QXjPVRZ0:before{border-width:9px;margin-left:-9px}._1Rb5hzxfh3kwe9QXjPVRZ0:after{border-width:8px;margin-left:-8px}._1Rb5hzxfh3kwe9QXjPVRZ0._1W0btuS97j7c_wx6BNgkBY:before{border-bottom-color:#999;top:-18px}[data-app-dm] ._1Rb5hzxfh3kwe9QXjPVRZ0._1W0btuS97j7c_wx6BNgkBY:before{border-bottom-color:#777}._1Rb5hzxfh3kwe9QXjPVRZ0._14l3aLYdyw0LREJ9XSRFhE:before{border-top-color:#999;bottom:-18px}[data-app-dm] ._1Rb5hzxfh3kwe9QXjPVRZ0._14l3aLYdyw0LREJ9XSRFhE:before{border-top-color:#777}._1Rb5hzxfh3kwe9QXjPVRZ0._1W0btuS97j7c_wx6BNgkBY:after{border-bottom-color:#fff;top:-16px}[data-app-dm] ._1Rb5hzxfh3kwe9QXjPVRZ0._1W0btuS97j7c_wx6BNgkBY:after{border-bottom-color:#222}._1Rb5hzxfh3kwe9QXjPVRZ0._14l3aLYdyw0LREJ9XSRFhE:after{border-top-color:#fff;bottom:-16px}[data-app-dm] ._1Rb5hzxfh3kwe9QXjPVRZ0._14l3aLYdyw0LREJ9XSRFhE:after{border-top-color:#222}._1Rb5hzxfh3kwe9QXjPVRZ0>img{vertical-align:bottom}',""]),t.locals={preview:"_1Rb5hzxfh3kwe9QXjPVRZ0",topArrow:"_1W0btuS97j7c_wx6BNgkBY",bottomArrow:"_14l3aLYdyw0LREJ9XSRFhE"}},1018:function(e,t,o){var r=o(1003);"string"===typeof r&&(r=[[e.i,r,""]]);var n={};n.transform=void 0;o(890)(r,n);r.locals&&(e.exports=r.locals)},897:function(e,t,o){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=o(1),l=o.n(i),f=o(7),c=o(6),s=o(1018),p=o.n(s),d=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),h=[],b=function(e){return{isMobile:e.app.isMobile,linkPreviewData:e.ui.linkPreviewData}},u=function(e){function t(){var e,o,a,i;r(this,t);for(var l=arguments.length,f=Array(l),c=0;c<l;c++)f[c]=arguments[c];return o=a=n(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),a.state={url:null,rect:null,imageLoaded:!1},a.setImageLoaded=function(){return a.setState({imageLoaded:!0})},i=o,n(a,i)}return a(t,e),d(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,o=e.isMobile,r=e.linkPreviewData,n=r.url,a=r.rect;if(!o&&n&&a&&h.indexOf(n)<0){var i=new window.Image;i.onload=function(){t.shouldShowPreview&&t.setState({url:n,rect:a})},i.onerror=function(){h.indexOf(n)<0&&h.push(n)},i.src="https://i.lihkg.com/1/"+n,this.shouldShowPreview=!0}else this.setState.call(this,{url:null,rect:null}),this.shouldShowPreview=!1;this.setState({imageLoaded:!1})}},{key:"render",value:function(){var e=this,t=this.state,o=t.url,r=t.rect,n=t.imageLoaded;return o&&r&&function(){var t=Math.min(.5*window.innerHeight,.5*window.innerWidth),a={};return a.left=r.left+r.width/2,a.top=r.top+r.height+16,a.top+t>window.innerHeight&&(delete a.top,delete a.marginTop,a.bottom=window.innerHeight-r.top+16),l.a.createElement("div",{className:p.a.preview+" "+(a.top?p.a.topArrow:p.a.bottomArrow),style:a},l.a.createElement("img",{alt:"",src:o,style:{maxHeight:t,maxWidth:t,opacity:+n},onLoad:e.setImageLoaded}),n||l.a.createElement(c.g,{size:20}))}()}}]),t}(l.a.Component);t.default=o.i(f.b)(b)(u)}});