webpackJsonp([8],{1004:function(e,t,a){var r=a(891);t=e.exports=a(889)(!1),t.push([e.i,".fZrQ-JOhcAqBseUp0k4BQ{background:url("+r(a(1042))+") 50% no-repeat;background-color:#dbdbdb;background-size:cover;border-bottom:1px solid rgba(128,128,128,.25);border-radius:4px 4px 0 0;height:144px;margin:-1rem 0 0 -1rem;width:calc(100% + 1rem * 2)}[data-app-dm] .fZrQ-JOhcAqBseUp0k4BQ{background-color:#1d1d1d}@media (max-width:767px){.fZrQ-JOhcAqBseUp0k4BQ{margin:-1rem 0 0 -1rem;width:calc(100% + 1rem * 2)}}.VdIzUkVVdckQewTfEfpxo{-webkit-flex:1 1 0%;-ms-flex:1 1 0%;flex:1 1 0%;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto}._1O_zro4frlyw2HXGJHVxLF{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:.6rem}._1PHah_Mw_J9UhXHn698lT0,.MhD1YGecYBLwia2NEH-O4{color:#aaa;display:inline-block;font-size:.8rem;padding:0 .6rem}a._34cUtoG0T0YVrAhtYdrX-V{color:#aaa}[data-app-dm] a._34cUtoG0T0YVrAhtYdrX-V{color:#888}",""]),t.locals={banner:"fZrQ-JOhcAqBseUp0k4BQ",form:"VdIzUkVVdckQewTfEfpxo",actionsContainer:"_1O_zro4frlyw2HXGJHVxLF",forgetPassword:"_1PHah_Mw_J9UhXHn698lT0",resendEmail:"MhD1YGecYBLwia2NEH-O4",disable:"_34cUtoG0T0YVrAhtYdrX-V"}},1019:function(e,t,a){var r=a(1004);"string"===typeof r&&(r=[[e.i,r,""]]);var o={};o.transform=void 0;a(890)(r,o);r.locals&&(e.exports=r.locals)},1042:function(e,t,a){e.exports=a.p+"static/1801293969/media/login-banner.png"},898:function(e,t,a){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function r(o,n){try{var i=t[o](n),l=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}return r("next")})}}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(23),c=a.n(s),d=a(1),f=a.n(d),u=a(10),p=a(7),h=a(14),m=a(6),g=a(9),b=a(1019),w=a.n(b),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),v=function(e){return{darkMode:a.i(h.a)(e).darkMode}},k={loginUser:u._28},E=function(e){function t(){var e,a,l,s,d=this;n(this,t);for(var f=arguments.length,u=Array(f),p=0;p<f;p++)u[p]=arguments[p];return a=l=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),l.state={email:"",password:"",isLoading:!1,showRegisterModal:!1,showForgotPasswordModal:!1,showEmailModal:!1},l.handleChange=function(e){var t=e.target,a=t.name,r=t.value;l.setState(o({},a,r))},l.handleKeyPress=function(e){13!==e.which&&13!==e.keyCode||l.handleLogin(e)},l.handleLogin=function(){var e=r(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l.state.isLoading){e.next=7;break}return l.setState({isLoading:!0}),e.next=5,l.props.loginUser(l.state.email,l.state.password);case 5:a=e.sent,a.success||l.setState({isLoading:!1});case 7:case"end":return e.stop()}},e,d)}));return function(t){return e.apply(this,arguments)}}(),l.toggleRegisterModal=function(e){e.preventDefault(),l.setState(function(e){return{showRegisterModal:!e.showRegisterModal}})},l.toggleForgotPasswordModal=function(e){e.preventDefault(),l.setState(function(e){return{showForgotPasswordModal:!e.showForgotPasswordModal}})},l.toggleEmailModal=function(e){e.preventDefault(),l.setState(function(e){return{showEmailModal:!e.showEmailModal}})},s=a,i(l,s)}return l(t,e),y(t,[{key:"componentDidUpdate",value:function(e){var t=e.visible;this.props.visible&&!t?(g.a.disableScrolling(),this.email.focus()):!this.props.visible&&t&&g.a.enableScrolling()}},{key:"componentWillUnmount",value:function(){g.a.enableScrolling()}},{key:"render",value:function(){var e=this,t=this.state,a=t.email,r=t.password,o=t.showRegisterModal,n=t.showForgotPasswordModal,i=t.showEmailModal,l=t.isLoading,s=this.props,c=s.visible,u=s.onClose,p=s.darkMode;return f.a.createElement(d.Fragment,null,f.a.createElement(m.e,{footerActions:[f.a.createElement("a",{key:"signup",href:"https://lihkg.com/register",onClick:this.toggleRegisterModal},"\u6703\u54e1\u8a3b\u518a"),f.a.createElement("a",{key:"signin",href:"#login",className:l?w.a.disable:"",onClick:this.handleLogin},l?"\u767b\u5165\u4e2d...":"\u767b\u5165")],visible:c&&!o,onClose:u},f.a.createElement("form",{action:"#",className:w.a.form,onSubmit:this.handleLogin},f.a.createElement("div",{className:w.a.banner}),f.a.createElement("br",null),f.a.createElement(m.c.Input,{inputRef:function(t){e.email=t},type:"email",name:"email",placeholder:"\u767b\u5165\u96fb\u90f5",value:a,onChange:this.handleChange,autoComplete:"off",onKeyPress:this.handleKeyPress}),f.a.createElement("br",null),f.a.createElement(m.c.Input,{type:"password",name:"password",placeholder:"\u5bc6\u78bc",value:r,onChange:this.handleChange,autoComplete:"off",onKeyPress:this.handleKeyPress}),f.a.createElement("br",null),f.a.createElement("div",{className:w.a.actionsContainer},f.a.createElement("a",{className:w.a.resendEmail,href:"https://lihkg.com/resend-activate-email",target:"_blank",rel:"noopener noreferrer",onClick:this.toggleEmailModal},"\u91cd\u65b0\u767c\u9001\u9a57\u8a3c\u96fb\u90f5"),f.a.createElement("a",{className:w.a.forgetPassword,href:"https://lihkg.com/forget-password",target:"_blank",rel:"noopener noreferrer",onClick:this.toggleForgotPasswordModal},"\u5fd8\u8a18\u5bc6\u78bc\uff1f")))),f.a.createElement(m.e,{title:"LIHKG \u6703\u54e1",visible:o,onClose:this.toggleRegisterModal,bodyStyle:{padding:0}},f.a.createElement("iframe",{src:"https://lihkg.com/register#"+(p?"dark":"light"),frameBorder:"0"})),f.a.createElement(m.e,{title:"\u5fd8\u8a18\u5bc6\u78bc",visible:n,onClose:this.toggleForgotPasswordModal,bodyStyle:{padding:0}},f.a.createElement("iframe",{src:"https://lihkg.com/forget-password#"+(p?"dark":"light"),frameBorder:"0"})),f.a.createElement(m.e,{title:"\u91cd\u65b0\u767c\u9001\u9a57\u8a3c\u96fb\u90f5",visible:i,onClose:this.toggleEmailModal,bodyStyle:{padding:0}},f.a.createElement("iframe",{src:"https://lihkg.com/resend-activate-email#"+(p?"dark":"light"),frameBorder:"0"})))}}]),t}(f.a.PureComponent);t.default=a.i(p.b)(v,k)(E)}});