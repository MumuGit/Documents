webpackJsonp([1],[function(e,t,n){n(5),e.exports={"formatTime":function(e){if(e){var t=(new Date).getTime()/1e3,n=t-e,o="";if(n<1)o="刚刚";else if(n<60)o=parseInt(n)+"秒钟前";else if(n<3600)o=Math.floor(n/60)+"分钟前";else if(n<86400)o=Math.floor(n/3600)+"小时前";else if(n<604800)o=Math.floor(n/86400)+"天前";else{var i=new Date(1e3*e);o=i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDate()}return o}},"generateToken":function(e){var t=2013;if(e)for(var n=0,o=e.length;n<o;n++)t+=(t<<5)+e.charCodeAt(n);return 2147483647&t},"getTextCount":function(e){return e=$.trim(e||""),e?Math.ceil(e.replace(/[^\x00-\xff]/g,"aa").length/2):0},"refreshIframeHeight":function(){var e=window.parent;if(e!==window){var t=$(document.body).innerHeight(),n=e.document,o=n.getElementById("commentIframe1")||n.getElementById("commentIframe");o&&(o.style.height=t+"px"),e.registerCoralEvent&&e.registerCoralEvent.iframeHeight&&e.registerCoralEvent.iframeHeight()}},"getVipClassName":function(e){var t="";return parseInt(e.hwvip,10)&&(t="icon-"+(e.hwannual?"y":""),t+="vip"+e.hwlevel),t},"removeUrlProtocol":function(e){return e?e.replace(/^http[s]?:/,""):""},"parseInt":function(e){return parseInt(e,10)},"log":function(e){window.console&&console.log(e)},"jsonStringify":function(e){return JSON.stringify(e)},"jsonParse":function(e){return JSON.parse(e)}}},function(e,t){var n=window.parent,o="coral.qq.com",i={"site":"","source":1,"subsource":0,"code":0,"commentHot":!1,"commentNums":10,"listHiden":!1,"reportBtn":!0,"commentLink":!0,"userPop":!0,"sort":!1},r=n.registerCoralEvent||{},a=$.extend({},i,r);a.code=0,a.site&&(o=a.site+"."+o),a.host="//"+o,i=null,e.exports=a},function(e,t,n){function o(e){u&&(u.remove(),clearTimeout(h)),u=$(l({"text":e,"style":d})),c.append(u);var t=u.width(),n=r.pageYOffset||s.scrollTop||a.documentElement.scrollTop||0;u.css({"opacity":1,"margin-left":"-"+t/2+"px","top":n+(r.innerHeight||a.documentElement.clientHeight)/2-25+"px"}),h=setTimeout(function(){u.animate({"opacity":0},1e3,"linear",function(){$(this).remove()})},2e3)}var i=n(1),r=window===window.top?window:window.top,a=r.document,s=a.body,c=$(s),l=n(17),p=i.theme,m={"dark":"color:#999;background-color:#121216;"},d="",u=$(a.getElementById("J_CommentToast")),h=null;p&&m[p]&&(d+=m[p]),u.remove(),e.exports=o},function(e,t){e.exports=function(e){if(e&&e.xhrUrl){var t=e.xhrData||{};$.ajax({"url":e.xhrUrl,"dataType":"jsonp","timeout":5e3,"data":t,"success":function(t){0===t.errCode?e.success&&e.success(t.data):e.error&&e.error()},"error":function(t){e.error&&e.error(t)}})}}},function(e,t){var n="J_CommentIframe";e.exports=function(e,t,o){var i=document.getElementById(n),r=document.getElementById("J_CommentForm"),a=document.body;i&&a.removeChild(i),r&&a.removeChild(r),r=document.createElement("form"),r.method="POST",r.enctype="multipart/form-data",r.action=e,r.target=n,r.style.display="none",r.id="J_CommentForm",i=document.createElement("iframe"),i.src='javascript:void(function(){document.open();document.domain="qq.com";document.close();}())',i.style.display="none",i.id=n,i.name=n;var s=o.getLoginParams(),c={"format":"SCRIPT","_method":"put"},l=$.extend({},c,t,s);for(var p in l){var m=document.createElement("input");m.type="hidden",m.name=p,m.value=l[p],r.appendChild(m)}a.appendChild(r),a.appendChild(i),r.submit()}},,function(e,t){e.exports={"moredeepbtn":"查看更多解读","loadingbtn":"加载中...","errormorebtn":"加载失败，点击重新加载","moreshortbtn":"查看更多评论","commentnone":"没有更多评论了","error":"网络错误，请稍后再试..."}},function(e,t,n){var o=n(1),i=n(0),r=n(29),a=n(30),s=n(31),c=n(11),l=n(32),p=n(12),m=n(13);e.exports={"init":function(e){e.config=o,$("#J_Header").html(r(e)),i.refreshIframeHeight()},"short":function(e){$("#J_Short").html(a(e)),i.refreshIframeHeight()},"shortComment":function(e,t){var n=$("#J_ShortComment");e.utils=i,e.config=o;var r=s(e);t?n.prepend(r):n.append(r),!e.hasnext&&$("#J_Short").append(m()),i.refreshIframeHeight()},"replyBox":function(e,t){e.after(c(t)),i.refreshIframeHeight()},"replyLatest":function(e,t,n){t.utils=i,t.config=o;var r=l(t);n?e.prepend(r):e.append(r),i.refreshIframeHeight()},"commentNone":function(){$(document.body).append(p()),i.refreshIframeHeight()}}},function(e,t,n){n(25);var o=n(1),i=n(0),r=n(3),a=n(34),s=n(10),c=$("#J_Post"),l={"logined":!1,"userInfo":{},"init":function(){var e=this;this.logoutRender(),window.publicLogined=function(t,n,o){var r=null;r="object"==typeof t?t:{"uin":t,"nick":n,"head":o},l.logined=!0,c.html(a({"utils":i,"userInfo":r})),e.userInfo=r,e.getUserInfo(),i.refreshIframeHeight()},window.publicLogout=function(){l.logined=!1,e.userInfo={},e.logoutRender()}},"isLogin":function(){return l.logined},"logoutRender":function(){c.html(s()),i.refreshIframeHeight()},"openLogin":function(){o.loginEvent&&o.loginEvent()},"getKey":function(){return $.cookie("skey")||$.cookie("lskey")},"getLoginParams":function(){return{"g_tk":i.generateToken(l.getKey())}},"getUserInfo":function(e){var t={"source":o.source};r({"xhrUrl":"//coral.qq.com/user/0","xhrData":t,"success":function(t){l.userInfo=t,e&&e(t)}})}};l.init(),e.exports=l},function(e,t){var n=window.externalstyle;if(n){var o=window!==window.top?window.top:window,i=o.document.head||o.document.getElementsByTagName("head")[0],r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=n,i.appendChild(r)}},function(e,t){e.exports=function(e){return function(){return'<div class="common-avatar"></div><div class="box-content box-logout"> <div class="box-textarea-block"> <textarea class="box-textarea" id="J_Textarea" placeholder="说两句吧..."></textarea> </div> <span class="box-loginBtn J_PostBtn">登录</span></div>'}()}},function(e,t){e.exports=function(e){return function(e,t,n,o){var i='<div class="reply-box J_ReplyBox" id="J_ReplyBox';return i+=e,i+='"> <div class="reply-box-block"> <textarea class="reply-box-textarea J_ReplyTextArea"></textarea> </div> <div class="reply-box-btn J_ReplyBtn" id="J_ReplyBtn" data-targetid="',i+=t,i+='" data-id="',i+=e,i+='" data-nick="',i+=n||"",i+='" data-userid="',i+=o||"",i+='">回复</div></div>'}(e.id,e.targetid,e.nick,e.userid)}},function(e,t){e.exports=function(e){return function(){return'<p class="comment-none" id="J_CommentNone">暂无评论哦，快来评论一下吧！</p>'}()}},function(e,t){e.exports=function(e){return function(){return'<div class="comment-noMore">没有更多评论了</div>'}()}},function(e,t,n){var o=n(0),i=n(15),r=n(16),a=window===window.top?window:window.top,s=a.document,c=s.body,l=$(c),p="comment-viewer-list--cur",m={"init":function(){this.event()},"show":function(e,t){if(e&&t){var n=this,r=a.innerHeight||s.documentElement.clientHeight,c=e.length,p=110*c-10;c>1&&n.preloading(e),t=parseInt(t,10);var m=e[t],d={"utils":o,"pictures":e,"picture":m,"image":n.calu(m),"total":c,"cur":t};d.style={"blockHeight":r},d.listStyle={"width":p},l.append(i(d)),this.pictures=e,this.cur=t,this.total=c,this.$list=l.find("#J_PictureViewerList li"),this.$block=l.find("#J_CommentViewerBlock")}},"event":function(){var e=this;l.on("click",".J_CommentViewer",function(){var t=$(this);t.next().remove(),t.remove(),e.images=e.$list=null}),l.on("click",".J_CommentViewerOperate",function(t){var n=e.total;if(t.stopPropagation(),1!==n){var o=e.cur;0===(-1!==this.className.indexOf("left")?0:1)?e.change(0===o?n-1:--o):e.change(o===n-1?0:++o)}}),l.on("click",".J_PictureViewerList li",function(t){var n=$(this),o=n.index();t.stopPropagation(),o!==e.cur&&e.change(o)})},"change":function(e){var t=this,n=t.cur,i=t.pictures[e],a={"utils":o,"picture":i,"image":t.calu(i),"cur":e,"total":t.total};t.$list.eq(n).removeClass(p),t.$list.eq(e).addClass(p),t.$block.html(r(a)),t.cur=e},"calu":function(e){var t=a.innerHeight||s.documentElement.clientHeight,n=a.innerWidth||s.documentElement.clientWidth,o=parseInt(e.width,10),i=parseInt(e.height,10),r=.9*(t-130),c=o,l=i;return i>=r&&(l=r,c=l*o/i),c>=n&&(c=.9*n,l=c*i/o),{"width":Math.floor(c),"height":Math.floor(l)}},"preloading":function(e){e.length>1&&$.each(e,function(e,t){(new Image).src=t.url+"/0"})}};m.init(),e.exports=m},function(e,t){e.exports=function(e){return function(e,t,n,o,i,r,a,s,c,l,p){var m='<div class="comment-viewer J_CommentViewer" id="J_CommentViewer" style="height: ';m+=e.blockHeight,m+='px"> <div class="comment-viewer-wp"> <div class="comment-viewer-block',1===t&&(m+=" comment-viewer-only"),m+='" id="J_CommentViewerBlock"> <div class="comment-viewer-image" id="J_CommentViewerImage" style="width: ',m+=n.width,m+="px;height: ",m+=n.height,m+='px;"> <img src="',m+=o.removeUrlProtocol(i.url),m+='/0"> <i class="comment-viewer-left J_CommentViewerOperate"></i> <i class="comment-viewer-right J_CommentViewerOperate"></i></div> </div> </div> <ul class="comment-viewer-list J_PictureViewerList" style="margin-left: -',m+=r.width/2,m+='px;" id="J_PictureViewerList"> ';for(var s=0,c=a.length;s<c;s++){var p=a[s];m+=" <li ",s===l&&(m+='class="comment-viewer-list--cur"'),s===c-1&&(m+='style="margin-right:0"'),m+='> <img src="',m+=o.removeUrlProtocol(p.url),m+='/100" width="100%" height="100%"> </li> '}return m+=' </ul></div><div class="comment-pop-bg J_CommentViewerBg" id="J_CommentViewerBg" style="height: ',m+=e.blockHeight,m+='px;"></div>'}(e.style,e.total,e.image,e.utils,e.picture,e.listStyle,e.pictures,e.i,e.len,e.cur,e.item)}},function(e,t){e.exports=function(e){return function(e,t,n){var o='<div class="comment-viewer-image" id="J_CommentViewerImage" style="width: ';return o+=e.width,o+="px;height: ",o+=e.height,o+='px;"> <img src="',o+=t.removeUrlProtocol(n.url),o+='/0"> <i class="comment-viewer-left J_CommentViewerOperate"></i> <i class="comment-viewer-right J_CommentViewerOperate"></i></div>'}(e.image,e.utils,e.picture)}},function(e,t){e.exports=function(e){return function(e,t){var n='<div id="J_CommentToast" class="comment-toast" style="';return n+=e,n+='"> ',n+=t,n+="</div>"}(e.style,e.text)}},function(e,t,n){var o=n(0),i=n(2),r=n(19),a=n(20),s=null,c=$("#J_Post"),l=!1,p=null,m={"init":function(e){return s=e,$(document.body).append(r()),this.callback(),this.event(),this},"event":function(){var e=this;c.on("click change",".J_Upload",function(t){return"click"===t.type?e.clickHandle():e.uploadImg($(this))}),c.on("click",".J_ImageDelete",function(){var e=$(this).parent(),t=e.parent(),n=t.children().size();9==n-1&&$("#J_AddImage").show(),e.remove(),2===n&&$("#J_Images").hide(),o.refreshIframeHeight()})},"clickHandle":function(){return!l&&(s.isLogin()?$("#J_Images").children().size()-1>=9?(i("最多上传9张图片哦！"),!1):void 0:(s.openLogin(),!1))},"uploadImg":function(e){var t=this,n=e.val();if(""!==n){if(!s.isLogin())return s.openLogin(),void e.val("");if(!/\.(gif|jpg|jpeg|png)$/i.test(n))return i("图片类型必须是.gif/.jpg/.png"),void e.val("");l=!0;var o=e.parent(),r=o.find(".J_UploadParams"),a=s.getLoginParams(),c="";for(var m in a)c+='<input type="hidden" name="'+m+'" value="'+a[m]+'">';r.html(c),o.submit(),e.val(""),r.html(""),p=setTimeout(function(){t.error()},2e4)}},"getUploading":function(){return l},"callback":function(){window["upLoadImg"]=function(e){var t=e.errCode;if(0===t){var n=$("#J_AddImage"),r=$("#J_Images");n.before(a(e.data.picture[0])),r.show(),o.refreshIframeHeight(),r.children().size()-1>=9&&n.hide()}else i(26===t?"图片不能大于5M！":"图片上传失败，请稍后再试...");l=!1,clearTimeout(p)}},"error":function(){l=!1,i("图片上传失败，请稍后再试...")}};e.exports=m},function(e,t){e.exports=function(e){return function(){return'<iframe id="J_UploadIframe" name="J_UploadIframe" style="display:none"> <script type="text/javascript">document.domain = "qq.com";<\/script></iframe>'}()}},function(e,t){e.exports=function(e){return function(e,t,n){var o='<li class="box-images-pic J_ImagesItem" data-url="';return o+=e,o+='" data-width="',o+=t,o+='" data-height="',o+=n,o+='"> <img src="',o+=e,o+='/100" width="100%" height="100%" /> <div class="box-images-bg"></div> <span class="box-images-delete J_ImageDelete"> <i class="icon-picture_delete"></i> </span></li>'}(e.url,e.width,e.height)}},function(e,t){e.exports=function(e){return function(){return'<div class="reply J_ReplyBlock"> <div class="J_ReplyLatest"></div></div>'}()}},function(e,t,n){var o=n(4),i=n(2),r=n(0),a=n(23),s=$("#J_Short"),c=!1,l="comment-report--click",p=null,m=null,d="",u={"init":function(e){var t=this;m=e,s.on("click",".J_Report",this.show),s.on("click",".J_ReplyReport",this.replyShow),s.on("click",".J_ReportRemove",function(e){e.stopPropagation(),t.close($(this).parent())}),s.on("click",".J_ReportCancel",function(e){e.stopPropagation(),t.close($(this).parent().parent())}),s.on("click",".J_ReportItem li",this.select),s.on("click",".J_ReportConfirm",this.post)},"show":function(){var e=$(this);if(u.judge(e)&&-1===this.className.indexOf(l)){var t=e.parent(),n=t.parent(),o=t.index(),i=n.children().size(),r="",a=e.data("id");o+1===i&&(r="report-revert",0===o&&1===i&&(r+="--first")),u.remove(),d=a,e.addClass(l),u.render(e.parent(),{"targetid":e.data("targetid"),"id":a,"className":r,"type":"comment"})}},"replyShow":function(){var e=$(this),t="report-reply",n=e.data("id");u.judge(e)&&(u.remove(),d=n,$(document.body).height()-e.offset().top<280&&(t+=" report-revert"),u.render(e.parent().parent(),{"targetid":e.data("targetid"),"id":n,"className":t,"type":"reply"}))},"judge":function(e){return!c&&(m.isLogin()?e.attr("data-userid")!==m.userInfo.userid||(i("不能举报自己发表的评论！"),!1):(m.openLogin(),!1))},"render":function(e,t){e.append(a(t))},"remove":function(){""!==d&&(s.find("."+l).removeClass(l),s.find("#J_ReportBlock"+d).remove(),d="")},"close":function(e){e.prev().removeClass(l),e.remove(),d=""},"select":function(e){var t=$(this);e.stopPropagation(),t.parent().children().removeClass("report-item--select"),t.addClass("report-item--select")},"post":function(e){var t=$(this),n=t.parent().parent(),a=n.find(".J_ReportItem .report-item--select");if(e.stopPropagation(),0===a.size())return void i("您必须选择一项才能举报");var s=$.trim(n.find(".J_ReportInput").val());if(s&&r.getTextCount(s)>64)return void i("描述不能超过64个字哦~");var c={"targetid":n.data("targetid"),"type":a.data("id"),"desc":s,"enterapp":"web","commentid":n.data("id"),"callback":"parent.reportComment"};u.callback(),p=setTimeout(function(){u.timeout()},5e3),o("//w.coral.qq.com/report/comment/0",c,m)},"callback":function(){window["reportComment"]=function(e){var t=e.errCode,n="举报失败,请稍后再试...";if(0===t){var o=e.data.commentid;""!==d&&(s.find("#J_ReportBlock"+d).remove(),d="");var r=s.find("#J_Report"+o);if(0!==r.size())r.removeClass(l+" J_Report").addClass("comment-report--visited").html("已举报，正在审核中");else{var a=s.find("#J_ReplyReport"+o);0!==a.size()&&a.removeClass("J_ReplyReport reply-operate-item").html("已举报，正在审核中")}n="举报成功"}else 21===t&&(n="您已经举报过此条评论了...");i(n),clearTimeout(p),c=!1,delete window["reportComment"]}},"timeout":function(){delete window["reportComment"],c=!1,i("举报失败,请稍后再试...")}};e.exports=u},function(e,t){e.exports=function(e){return function(e,t,n,o){var i='<div class="report-block J_ReportBlock ';return i+=e,i+='" id="J_ReportBlock',i+=t,i+='" data-targetid="',i+=n,i+='" data-id="',i+=t,i+='" data-type="',i+=o,i+='"> <p class="report-title">举报</p> <div class="report-content"> <p class="report-text">您为什么要举报此信息？</p> </div> <ul class="report-item J_ReportItem"> <li data-id="1">色情淫秽</li> <li data-id="8">骚扰谩骂</li> <li data-id="1024">广告欺诈</li> <li data-id="32">地域攻击</li> <li data-id="0">其他</li> </ul> <p class="report-info">举报说明(可选)</p> <span class="report-remove J_ReportRemove"><i class="report-remove-icon"></i></span> <div class="report-input"> <input type="text" class="J_ReportInput" placeholder="描述恶意行为" /> </div> <div class="report-btn"> <span class="report-btn-cancel J_ReportCancel">取消</span> <span class="report-btn-confirm J_ReportConfirm">确定</span> <i class="report-btn-line"></i> </div></div>'}(e.className,e.id,e.targetid,e.type)}},function(e,t,n){var o=n(1),i=n(3),r=o.host;e.exports={"total":function(e){e&&e.targetid&&(e.xhrUrl=r+"/article/"+e.targetid+"/commentnum",i(e))},"short":function(e){if(e&&e.targetid){var t={"orinum":e.commentNums||10,"oriorder":e.sort?"t":"o","pageflag":"1","cursor":0,"scorecursor":0,"orirepnum":2,"reporder":"o","reppageflag":1,"source":o.source};e.last&&(t.cursor=e.last),e.xhrData=t,e.xhrUrl=r+"/article/"+e.targetid+"/comment/v2",i(e)}}}},,,,,function(e,t){e.exports=function(e){return function(e,t){var n="";return e.removeTitle||(n+=' <h1 class="header-title">网友评论</h1>'),n+='<p class="header-protocol">文明上网理性发言，请遵守<a href="http://www.qq.com/coral/coralBeta2/coralinfo.htm" target="_blank">新闻评论服务协议</a></p>',e.commentLink?(n+=' <a class="header-number" href="http://coral.qq.com/',n+=t,n+='"> <i id="J_CommentTotal">--</i>条评论 </a>'):n+=' <p class="header-number"><i id="J_CommentTotal">--</i>条评论</p>',n}(e.config,e.targetid)}},function(e,t){e.exports=function(e){return function(e,t,n,o){var i='<div class="comment-title"> <p class="comment-all">全部评论<span>/</span></p> <a class="comment-my" href="http://ilike.qq.com/?type=Comment">我的评论</a> <p class="comment-sort"> <span data-targetid="';return i+=e,i+='" data-sort="1" class="J_CommentSort ',t&&(i+="comment-sort-cur"),i+='">最新</span> &nbsp/&nbsp <span data-targetid="',i+=e,i+='" data-sort="0" class="J_CommentSort ',t||(i+="comment-sort-cur"),i+='">最热</span> </p></div><div id="J_ShortComment"></div>',n&&(i+='<div class="comment-moreBtn J_shortMore" data-last="',i+=o,i+='" data-targetid="',i+=e,i+='">查看更多评论</div>'),i}(e.targetid,e.sort,e.hasnext,e.last)}},function(e,t){e.exports=function(e){return function(e,t,n,o,i,r,a,s,c,l,p,m,d,u,h,f,v,g,y){for(var b="",t=0,n=e.length;t<n;t++){var i=e[t],s=o?o[i.userid]:i.userinfo,m=!!r&&r[i.id],h="",y=a.parseInt(i.orireplynum);if(b+='<div class="comment" id="J_Comment',b+=i.id,b+='"> <div class="common-avatar J_User" data-userid="',b+=s.userid,b+='"> <img src="',b+=a.removeUrlProtocol(s.head),b+='" width="100%" height="100%" /> </div> <div class="comment-block" id="J_CommentBlock',b+=i.id,b+='"> <p class="comment-user"> <span class="comment-username J_User" data-userid="',b+=s.userid,b+='"> ',b+=s.nick,b+=' </span> <span class="comment-time">',b+=a.formatTime(i.time),b+='</span> </p> <div class="comment-content J_CommentContent">',b+=i.content,b+="</div> ",i.picture&&i.picture.length>0){var c=i.picture;b+='<ul class="comment-images J_CommentImages" data-picture=',b+=a.jsonStringify(c),b+="> ";for(var l=0,p=c.length;l<p;l++)b+=' <li data-order="',b+=l,b+='"> <img src="',b+=a.removeUrlProtocol(c[l].url),b+='/100" width="100%" height="100%" /> </li> ';b+="</ul>"}if(m&&m.length>0){b+=' <div class="reply J_ReplyBlock"> ';for(var l=0,d=m.length;l<d;l++){var u=m[l],f=o[u.userid];h+=u.id+"|",b+=' <div class="reply-block"> <div class="reply-content"> <span class="reply-user"> ',b+=f.nick,u.parent!==u.rootid&&(b+=' <i class="reply-reply">回复</i> ',b+=o[u.puserid].nick),b+=" :&nbsp </span> ",b+=u.content,b+=' </div> <div class="reply-operate reply-operate--hot" data-id="',b+=u.id,b+='" data-targetid="',b+=v,b+='"> <span class="J_Vote reply-operate-item reply-up">赞<i>',b+=a.parseInt(u.up)?u.up:"",b+='</i></span> <i class="reply-dot">·</i> ',g.poke&&(b+=' <span class="J_Vote reply-operate-item reply-poke">踩<i>',b+=a.parseInt(u.pokenum)?u.pokenum:"",b+='</i></span> <i class="reply-dot">·</i> '),b+=' <span class="J_Reply reply-operate-item" id="J_Reply',b+=u.id,b+='" data-nick="',b+=f.nick,b+='" data-userid="',b+=f.userid,b+='">回复</span> <i class="reply-dot">·</i> <span>',b+=a.formatTime(u.time),b+='</span> <i class="reply-dot reply-operate-report">·</i> <span class="reply-operate-item reply-operate-report J_ReplyReport" id="J_ReplyReport',b+=u.id,b+='" data-userid="',b+=f.userid,b+='" data-targetid="',b+=v,b+='" data-id="',b+=u.id,b+='">举报</span> </div> </div> '}b+=' <div class="J_ReplyLatest"></div> ',y>m.length&&(b+=' <span class="reply-allBtn J_ReplyMoreBtn" data-targetid="',b+=v,b+='" data-id="',b+=i.id,b+='" data-replyhotid="',b+=h,b+='"> 查看全部',b+=y,b+="条回复 </span> "),b+=" </div> "}else y>0&&(b+=' <div class="J_ReplyBlock"> <div class="J_ReplyLatest"></div> <span class="reply-allBtn J_ReplyMoreBtn" data-targetid="',b+=v,b+='" data-id="',b+=i.id,b+='" data-replyhotid="',b+=h,b+='"> 查看全部',b+=y,b+="条回复 </span> </div> ");b+=' <div class="comment-operate J_CommentOperate clearfix" data-targetid="',b+=v,b+='" data-id="',b+=i.id,b+='"> <span class="J_Vote comment-operate-item comment-operate-up">赞<i>',b+=a.parseInt(i.up)?i.up:"",b+="</i></span> ",g.poke&&(b+=' <span class="J_Vote comment-operate-item comment-operate-poke">踩<i>',b+=a.parseInt(i.pokenum)?i.pokenum:"",b+="</i></span> "),b+=' <span class="J_Reply comment-operate-item comment-operate-reply" id="J_Reply',b+=i.id,b+='"> 回复 </span> </div> </div> <div class="J_Report comment-report" id="J_Report',b+=i.id,b+='" data-userid="',b+=s.userid,b+='" data-targetid="',b+=v,b+='" data-id="',b+=i.id,b+='">举报</div></div>'}return b}(e.oriCommList,e.i,e.len,e.userList,e.item,e.repCommList,e.utils,e.userinfo,e.picture,e.j,e.plen,e.reply,e.rlen,e.ritem,e.replyHotId,e.ruserinfo,e.targetid,e.config,e.orireplynum)}},function(e,t){e.exports=function(e){return function(e,t,n,o,i,r,a,s,c,l){var p="";e||(p+='<div class="reply-title"> <p class="reply-title-text">更多回复</p> <span class="reply-title-mark"></span> <div class="reply-title-line"><span></span></div></div><div class="J_ReplyLatestBlock">');for(var n=0,o=t.length;n<o;n++){var i=t[n],a=i.userinfo?i.userinfo:r[i.userid];p+=' <div class="reply-block"> <p class="reply-content"> <span class="reply-user"> ',p+=a.nick,i.parent!==i.rootid&&(p+=' <i class="reply-reply">回复</i> ',p+=r[i.puserid].nick),p+=" :&nbsp</span> ",p+=i.content,p+=' </p> <div class="reply-operate" data-id="',p+=i.id,p+='" data-targetid="',p+=s,p+='"> <span class="J_Vote reply-operate-item reply-up">赞<i>',p+=c.parseInt(i.up)?i.up:"",p+='</i></span> <i class="reply-dot">·</i> ',l.poke&&(p+=' <span class="J_Vote reply-operate-item reply-poke">踩<i>',p+=c.parseInt(i.poke)?i.poke:"",p+='</i></span> <i class="reply-dot">·</i> '),p+=' <span class="J_Reply reply-operate-item" id="J_Reply',p+=i.id,p+='" data-nick="',p+=a.nick,p+='" data-userid="',p+=a.userid,p+='">回复</span> <i class="reply-dot">·</i> <span>',p+=c.formatTime(i.time),p+='</span> <i class="reply-dot reply-operate-report-dot">·</i> <span class="reply-operate-item reply-operate-report J_ReplyReport" id="J_ReplyReport',p+=i.id,p+='" data-userid="',p+=a.userid,p+='" data-targetid="',p+=s,p+='" data-id="',p+=i.id,p+='">举报</span> </div> </div> '}return e||(p+="</div>"),p}(e.hasLatest,e.repCommList,e.i,e.len,e.item,e.userList,e.userinfo,e.targetid,e.utils,e.config)}},function(e,t,n){var o=n(24),i=n(6),r=n(7),a=n(14),s=n(0),c=n(2),l=n(1),p=n(3),m=$("#J_Short"),d=l.sort,u=function(e,t){if(t&&0===e.oriCommList.length)return void r.commentNone();t&&(m.html(""),e.sort=d,r["short"](e)),r.shortComment(e)},h={"init":function(e){this.getFirstShort(e),this.event()},"event":function(){var e=this;m.on("click",".J_shortMore",this.getNextShort),m.on("click",".J_Vote",this.vote),m.on("click",".J_ReplyMoreBtn",this.moreReply),m.on("click",".J_CommentSort ",function(){e.sortHandle(this)}),$(document.body).on("click",".J_CommentImages li",this.showImages)},"getNextShort":function(){if(!this.fetching){var e=this,t=$(this);e.fetching=!0,t.html(i.loadingbtn),o["short"]({"targetid":t.data("targetid"),"last":t.data("last"),"sort":d,"success":function(n){u(n),t.data("last",n.last),n.hasnext?t.html(i.moreshortbtn):t.remove(),e.fetching=!1},"error":function(){t.text(i.errormorebtn),e.fetching=!1}})}},"getFirstShort":function(e){o["short"]({"targetid":e,"commentNums":l.commentNums,"sort":d,"success":function(e){u(e,!0)}})},"vote":function(){var e=$(this),t=e.parent();if(!t.hasClass("disable")){var n=e.find("i"),o=n.html(),i=!0,r="//w.coral.qq.com/article/comment/up/to/"+t.data("id"),a={};a.targetid=t.data("targetid"),o=o?Number(o):0,o++,-1!==this.className.indexOf("poke")&&(i=!1),!i&&(a.uptype=1),t.addClass("disable"),e.addClass("operate-visited"),n.html(o),p({"xhrUrl":r,"xhrData":a})}},"moreReply":function(){if(!this.fetching){var e=this,t=$(this),n={"1":"last","2":"first"},o=n[2],a={"targetid":t.data("targetid"),"reqnum":10,"pageflag":2,"source":l.source};-1!==this.className.indexOf("reply-allBtn")?t.removeClass("reply-allBtn").addClass("reply-moreBtn"):a.cursor=t.data(o),e.fetching=!0,t.html(i.loadingbtn),p({"xhrUrl":"//coral.qq.com/comment/"+t.data("id")+"/reply/v2","xhrData":a,"success":function(n){var i=null,a=t.data("replyhotid").split("|"),l=[],p=t.prev(),m=p.find(".J_ReplyLatestBlock"),d=t.parent();if(a.pop(),a.length>0&&($.each(n.repCommList,function(e,t){-1===$.inArray(t.id,a)&&l.push(t)}),n.repCommList=l.reverse()),0===n.repCommList.length)return c("暂无更多回复！"),t.remove(),void s.refreshIframeHeight();0===m.size()?i=p:(i=m,n.hasLatest=!0),t.next().css({"display":"inline-block"}),n.hasnext?(t.html("查看更多回复"),e.fetching=!1):t.remove(),!d.hasClass("reply")&&d.addClass("reply"),r.replyLatest(i,n),t.data(o,n[o])},"error":function(){t.text(i.errormorebtn),e.fetching=!1}})}},"sortHandle":function(e){var t=$(e),n=!!t.data("sort");if(d!==n){var o="comment-sort-cur";d=n,t.parent().find(".J_CommentSort ").removeClass(o),t.addClass(o),this.getFirstShort(e.getAttribute("data-targetid"))}},"showImages":function(){var e=$(this),t=e.parent().data("picture"),n=this.getAttribute("data-order");a.show(t,n)}};e.exports=h},function(e,t){e.exports=function(e){return function(e,t){var n='<div class="common-avatar"> ';return e.head&&(n+=' <img src="',n+=t.removeUrlProtocol(e.head),n+='" width="100%" height="100%" /> '),n+='</div><div class="box-content box-login"> <div class="box-textarea-block"> <textarea class="box-textarea J_Textarea" id="J_Textarea" placeholder="说两句吧..."></textarea> </div> <ul class="box-images" id="J_Images"> <li class="box-images-add" id="J_AddImage">+<form class="box-upload-form" action="//upload.coral.qq.com/image/upload" method="post" enctype="multipart/form-data" target="J_UploadIframe"> <input class="box-upload-file J_Upload" type="file" name="picture" accept="image/*"> <input name="type" type="hidden" value="1"> <input name="format" type="hidden" value="SCRIPT"> <input name="_method" type="hidden" value="put"> <input name="code" type="hidden" value="0"> <input name="source" type="hidden" value="1"> <input name="callback" type="hidden" value="parent.upLoadImg"> <div class="J_UploadParams"></div></form></li> </ul> <div class="box-info"> <div class="box-operate"> <span class="box-avatar"> <img src="',n+=t.removeUrlProtocol(e.head),n+='" width="100%" height="100%" /> </span> <b class="box-username">',n+=e.nick,n+='</b> <span class="box-tab J_ChangeUser">切换用户</span> <span class="box-operate-line">|</span> <div class="box-upload J_BoxUpload"> <span class="box-upload-icon J_boxUploadIcon"></span> <form class="box-upload-form" action="//upload.coral.qq.com/image/upload" method="post" enctype="multipart/form-data" target="J_UploadIframe"> <input class="box-upload-file J_Upload" type="file" name="picture" accept="image/*"> <input name="type" type="hidden" value="1"> <input name="format" type="hidden" value="SCRIPT"> <input name="_method" type="hidden" value="put"> <input name="code" type="hidden" value="0"> <input name="source" type="hidden" value="1"> <input name="callback" type="hidden" value="parent.upLoadImg"> <div class="J_UploadParams"></div></form> </div> </div> <div class="box-commentBtn box-commentBtn--able J_PostBtn" id="J_PostBtn">发布评论</div> </div></div>'}(e.userInfo,e.utils)}},function(e,t,n){n(5);var o=n(8),i=n(7),r=n(0),a=n(1),s=n(18),c=n(36),l=n(2),p=n(21),m="",d=$("#J_Post"),u=$("#J_Short"),h=null,f=null,v=!1,g=!1,y={"short":{"url":"//w.coral.qq.com/article/comment","callback":"window.parent.shortComment","code":a.code,"source":a.source,"subsource":a.subsource,"type":1},"reply":{"url":"//w.coral.qq.com/article/comment/to/","callback":"window.parent.replyCallback","code":a.code,"source":a.source,"subsource":a.subsource,"type":1}},b={"init":function(e){y["short"].targetid=m=e.targetid,this.event(),this.callback(),s.init(o)},"event":function(){this.replyEvent();d.on("click",".J_PostBtn",b.post),d.on("click",".J_ChangeUser",o.openLogin),d.on("mouseenter",".J_BoxUpload",function(){$(this).find(".J_boxUploadIcon").addClass("box-upload-icon--hover")}),d.on("mouseleave",".J_BoxUpload",function(){$(this).find(".J_boxUploadIcon").removeClass("box-upload-icon--hover")})},"replyEvent":function(){u.on("click",".J_Reply",b.reply),u.on("click",".J_ReplyBtn",b.replyPost)},"post":function(){var e=$("#J_Textarea");if(!o.isLogin())return void o.openLogin();if(!v){var t=$.trim(e.val());if(""===t)return void l("请输入评论内容");if(r.getTextCount(t)>1e3)return void l("短评不能超过1000字哦~");var n=y["short"],i={"content":t},a="",s=b.getImages();s.length>0&&(i.picture=JSON.stringify(s)),a=n.url,$.extend(i,n),delete i.url,v=!0,$(this).html("发布中..."),c(a,i),h=setTimeout(function(){b.timeout()},5e3)}},"callback":function(){var e=this;window["shortComment"]=function(t){var n=t.errCode;if(0===n){if(e.end(),l("发送成功"),a.listHiden)return void r.refreshIframeHeight();var s=t.data,c={"content":s.content,"picture":s.picture,"userinfo":o.userInfo,"id":s.commentid,"time":s.time,"up":0,"pokenum":0},p=$("#J_CommentNone");0!==p.size()&&(p.remove(),i["short"]({"hasnext":!1})),i.shortComment({"targetid":m,"hasnext":!0,"oriCommList":[c]},!0)}else e.end(!0),e.errorToast(n)},window["replyCallback"]=function(t){var n=t.errCode;if(clearTimeout(f),0===t.errCode){var o=t.data;$("#J_ReplyBox"+o.parent).remove(),$("#J_Reply"+o.parent).removeClass("operate-visited").html("回复"),l("回复成功"),e.replySuccessRender(o)}else $("#J_ReplyBtn").text("回复"),e.errorToast(n);g=!1}},"errorToast":function(e){var t="网络错误，请稍后再试...";if(e)switch(e){case 12:t="您的发送频率太高啦！";break;case 14:t="请不要发表重复的评论！";break;case 8:t="登录信息失效，请重新登录！",o.openLogin();break;case 9:case 13:case 16:case 17:t="您无权发表这条评论！"}l(t)},"replySuccessRender":function(e){var t=e.rootid,n=$("#J_CommentBlock"+t),r=n.find(".J_ReplyBlock"),a=!1,s=null,c=null;0===r.size()?(r=$(p()),n.find(".J_CommentOperate").before(r),c=r.find(".J_ReplyLatest")):(!r.hasClass("reply")&&r.addClass("reply"),s=r.find(".J_ReplyLatestBlock"),0===s.size()?c=r.find(".J_ReplyLatest"):(a=!0,c=s));var l={"id":e.commentid,"content":e.content,"up":0,"poke":0,"userinfo":o.userInfo,"parent":e.parent,"rootid":e.rootid,"time":(new Date).getTime()},d={"targetid":m,"hasLatest":a,"repCommList":[l]},u=e.thirdid,h=u.split("|");if(u&&2===h.length){var f=h[1],v={};v[f]={"nick":h[0],"userid":f},d.repCommList[0].puserid=f,d.userList=v}i.replyLatest(c,d,!0)},"getImages":function(){var e=$("#J_Images").find(".J_ImagesItem"),t=[];return e.size()>0&&e.each(function(e,n){var o=$(n);t.push({"url":o.data("url"),"width":o.data("width"),"height":o.data("height")})}),t},"reply":function(){if(!o.isLogin())return void o.openLogin();if(!g){var e=$(this),t=e.parent(),n="J_ReplyVisited",r="operate-visited "+n;e.hasClass(n)?(e.removeClass(r).html("回复"),t.next().remove()):(u.find("."+n).removeClass(r).html("回复"),u.find(".J_ReplyBox").remove(),e.addClass(r).html("收起"),i.replyBox(t,{"id":t.data("id"),"targetid":t.data("targetid"),"nick":e.data("nick")||"","userid":this.getAttribute("data-userid")||""}),t.next().find(".J_ReplyTextArea").focus())}},"replyPost":function(){if(!g){if(!o.isLogin())return void o.openLogin();var e=$(this),t=e.parent().parent(),n=$.trim(t.find(".J_ReplyTextArea").val());if(""===n)return void l("请输入回复内容");if(r.getTextCount(n)>1e3)return void l("回复不能超过1000字哦~");var i=y["reply"],a=i.url+e.data("id");e.html("回复中...");var s={"content":n,"targetid":e.data("targetid")},p=e.data("nick"),m=this.getAttribute("data-userid");p&&m&&(s.thirdid=p+"|"+m),$.extend(s,i),g=!0,delete s.url,f=setTimeout(function(){b.replyTimeout(e)},5e3),c(a,s)}},"replyTimeout":function(e){g=!1,l("回复失败，请稍后再试..."),e.html("回复")},"timeout":function(){this.end(!0),l("网络错误，请稍后再试...")},"end":function(e){$("#J_PostBtn").html("发布评论"),v=!1,clearTimeout(h),e||($("#J_Images").hide().find(".J_ImagesItem").remove(),$("#J_Textarea").val(""))}};e.exports=b},function(e,t,n){var o=n(4),i=n(8);e.exports=function(e,t){o(e,t,i)}},function(e,t,n){n(38);var o=n(1),i=n(0),r=n(3),a=n(6),s=n(2),c=o.host,l=n(39),p=n(40),m=window===window.top?window:window.top,d=m.document,u=d.body,h=$(u),f=!1,v=!1,g=null,y=function(e){if(e&&e.userid){var t={"pageflag":1,"reqnum":10,"needparent":1};e.last&&(t.commentid=e.last),e.xhrData=t,e.xhrUrl=c+"/user/"+e.userid+"/comment/v2",r(e)}};({"init":function(){o.userPop&&($(document.body).addClass("user-click"),this.event())},"event":function(){var e=this;$(document.body).on("click",".J_User",function(){var t=this.getAttribute("data-userid");t&&e.show(t)}),h.on("click",".J_CommentUserPopBg",e.close),h.on("click",".J_CommentPopClose",e.close),h.on("click",".J_CommentPopMore",function(){e.fetchMore(this.getAttribute("data-userid"),this.getAttribute("data-last"),this)}),h.on("click",".J_CommentPopContentShow",function(){$(this).parent().parent().addClass("comment-pop-content-showAll"),g.update("relative")}),h.on("click",".J_CommentPopContentHide",function(){$(this).parent().removeClass("comment-pop-content-showAll"),g.update("relative")})},"show":function(e){v||(this.fetchPop(e),v=!0)},"popRender":function(e){var t=m.innerHeight||d.documentElement.clientHeight,n=d.documentElement.clientWidth;e.utils=i,e.style={"innerHeight":t,"popHeight":parseInt(.8*t,10),"popTop":parseInt(.1*t,10),"popLeft":parseInt((n-800)/2,10)},h.append(l(e));var o=h.find("#J_CommentPopBlock");o.tinyscrollbar(),g=o.data("plugin_tinyscrollbar")},"fetchPop":function(e){if(!f){f=!0;var t=this;y({"userid":e,"success":function(e){t.popRender(e),f=!1},"error":function(){f=v=!1,s(a.error)}})}},"fetchMore":function(e,t,n){if(!f&&e){var o=this,i=$(n);f=!0,i.html(a.loadingbtn),y({"userid":e,"last":t,"success":function(e){f=!1,o.moreRender(e,i),e.hasnext?(n.setAttribute("data-last",e.last),i.html(a.moreshortbtn)):(n.className="comment-pop-none",i.html(a.commentnone))},"error":function(){f=!1,i.html(a.errormorebtn)}})}},"moreRender":function(e,t){e.utils=i,t.prev().append(p(e)),g.update("relative")},"close":function(){h.find("#J_CommentUserPopBg").remove(),h.find("#J_CommentPop").remove(),f=v=!1,g=null}}).init()},function(e,t){!function(e){"use strict";function t(t,s){function c(){w.css(I,v.thumbPosition),y.css(I,-v.contentPosition),b.css(k,v.trackSize),_.css(k,v.trackSize),w.css(k,v.thumbSize)}function l(){J&&(g[0].ontouchstart=function(e){1===e.touches.length&&(e.stopPropagation(),d(e.touches[0]))}),w.bind("mousedown",function(e){e.stopPropagation(),d(e)}),_.bind("mousedown",function(e){d(e,!0)}),e(n).resize(function(){v.update("relative")}),v.options.wheel&&n.addEventListener?t[0].addEventListener(x,u,!1):v.options.wheel&&(t[0].onmousewheel=u)}function p(){return v.contentPosition>0}function m(){return v.contentPosition<=v.contentSize-v.viewportSize-5}function d(t,n){v.hasContentToSroll&&(e(i).addClass("tinyscrollbar-noSelect"),R=n?w.offset()[I]:C?t.pageX:t.pageY,J&&(o.ontouchmove=function(e){(v.options.touchLock||p()&&m())&&e.preventDefault(),e.touches[0][r+"Touch"]=1,h(e.touches[0])},o.ontouchend=f),e(o).bind("mousemove",h),e(o).bind("mouseup",f),w.bind("mouseup",f),_.bind("mouseup",f),h(t))}function u(o){if(v.hasContentToSroll){var i=o||n.event,r=-(i.deltaY||i.detail||-1/3*i.wheelDelta)/40,a=1===i.deltaMode?v.options.wheelSpeed:1;v.contentPosition-=r*a*v.options.wheelSpeed,v.contentPosition=Math.min(v.contentSize-v.viewportSize,Math.max(0,v.contentPosition)),v.thumbPosition=v.contentPosition/v.trackRatio,t.trigger("move"),w.css(I,v.thumbPosition),y.css(I,-v.contentPosition),(v.options.wheelLock||p()&&m())&&(i=e.event.fix(i),i.preventDefault())}o.stopPropagation()}function h(e){if(v.hasContentToSroll){var n=C?e.pageX:e.pageY,o=e[r+"Touch"]?R-n:n-R,i=Math.min(v.trackSize-v.thumbSize,Math.max(0,v.thumbPosition+o));v.contentPosition=i*v.trackRatio,t.trigger("move"),w.css(I,i),y.css(I,-v.contentPosition)}}function f(){v.thumbPosition=parseInt(w.css(I),10)||0,e(i).removeClass("tinyscrollbar-noSelect"),e(o).unbind("mousemove",h),e(o).unbind("mouseup",f),w.unbind("mouseup",f),_.unbind("mouseup",f),o.ontouchmove=o.ontouchend=null}this.options=e.extend({},a,s),this._defaults=a,this._name=r;var v=this,g=t.find(".tinyscrollbar-viewport"),y=t.find(".tinyscrollbar-overview"),b=t.find(".tinyscrollbar-scrollbar"),_=b.find(".tinyscrollbar-track"),w=b.find(".tinyscrollbar-thumb"),J="ontouchstart"in o.documentElement,x="onwheel"in o.createElement("div")?"wheel":void 0!==o.onmousewheel?"mousewheel":"DOMMouseScroll",C="x"===this.options.axis,k=C?"width":"height",I=C?"left":"top",R=0;return this.contentPosition=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.trackSize=0,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.hasContentToSroll=!1,this.update=function(e){var t=k.charAt(0).toUpperCase()+k.slice(1).toLowerCase();switch(this.viewportSize=g[0]["offset"+t],this.contentSize=y[0]["scroll"+t],this.contentRatio=this.viewportSize/this.contentSize,this.trackSize=this.options.trackSize||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(this.options.thumbSizeMin,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize),this.hasContentToSroll=this.contentRatio<1,b.toggleClass("tinyscrollbar-disable",!this.hasContentToSroll),e){case"bottom":this.contentPosition=Math.max(this.contentSize-this.viewportSize,0);break;case"relative":this.contentPosition=Math.min(Math.max(this.contentSize-this.viewportSize,0),Math.max(0,this.contentPosition));break;default:this.contentPosition=parseInt(e,10)||0}return this.thumbPosition=this.contentPosition/this.trackRatio,c(),v},function(){return v.update(),l(),v}()}var n=window===window.top?window:window.top,o=n.document,i=o.body,r="tinyscrollbar",a={"axis":"y","wheel":!0,"wheelSpeed":40,"wheelLock":!0,"touchLock":!0,"trackSize":!1,"thumbSize":!1,"thumbSizeMin":20};e.fn[r]=function(n){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new t(e(this),n))})}}(jQuery)},function(e,t){e.exports=function(e){return function(e,t,n,o,i,r,a,s,c,l,p,m,d,u,h,f,v,g){var y='<div class="comment-pop-bg J_CommentUserPopBg" id="J_CommentUserPopBg" style="height:';y+=e.innerHeight,y+='px;"></div><div class="comment-pop" id="J_CommentPop" style="height: ',y+=e.popHeight,y+="px;top:",y+=e.popTop,y+="px;left: ",y+=e.popLeft,y+='px;"> <div class="comment-pop-close J_CommentPopClose"><i class="comment-pop-icon"></i></div> <div class="comment-pop-header"> <div class="comment-pop-avatar"> <img src="',y+=t.removeUrlProtocol(n.head),y+='" width="100%" height="100%" /> </div> <div class="comment-pop-userinfo"> <p class="comment-pop-username">',y+=n.nick,y+='</p> <p class="comment-pop-loc">',y+="::"!==n.region?n.region.replace(/:/g," "):"腾讯网友",y+='</p> <p class="comment-pop-total"> <span class="comment-pop-icon comment-pop-icon-up">',y+=n.upnum,y+='</span> <i></i> <span class="comment-pop-icon comment-pop-icon-reply">',y+=n.commentnum,y+='</span> </p> </div> </div> <div class="comment-pop-block" id="J_CommentPopBlock"> <div class="tinyscrollbar-scrollbar"><div class="tinyscrollbar-track"><div class="tinyscrollbar-thumb"></div></div></div> <div class="tinyscrollbar-viewport" style="height: ',y+=e.popHeight-160,y+='px"> <div class="tinyscrollbar-overview"> <div class="comment-pop-wp" id="J_CommentPopWp"> ';for(var i=0,r=o.length;i<r;i++){var a=o[i],d=a.pictures,l=s&&s[a.parent],f=c[a.targetid];if(y+=' <div class="comment-pop-comment"> <div class="comment-pop-content"> <b class="comment-pop-bold"> ',l){var m=p[l.userid];y+=" 回复 ",y+=m.nick,y+="： "}else y+=" 发表评论： ";if(y+=" </b> ",a.content.length<=120?y+=a.content:(y+=' <span class="comment-pop-content-abstract"> ',y+=a.content.substr(0,120),y+='...<i class="comment-pop-content-btn comment-pop-content-btn-show J_CommentPopContentShow">展开</i> </span> <span class="comment-pop-content-all">',y+=a.content,y+='</span> <i class="comment-pop-content-btn comment-pop-content-btn-hide J_CommentPopContentHide">收起</i> '),y+=" </div> ",d&&d.length>0){y+=' <ul class="comment-pop-images"> ';for(var u=0,h=d.length;u<h;u++)y+=" <li ",u===h-1&&(y+='style="margin-right: 0"'),y+='><img src="',y+=d[u].url,y+='/100" width="100%" height="100%" /></li> ';y+=" </ul> "}l&&(y+=' <p class="comment-pop-reply"> <b class="comment-pop-bold">',y+=m.nick,y+="：</b>",y+=l.content,f&&(y+=' <span class="comment-pop-reply-line"></span> '),y+=" </p> "),f&&(y+=' <a class="comment-pop-link" href="',y+=f.url,y+='" target="_blank"> <span class="comment-pop-icon comment-pop-link-icon"></span> ',y+=f.title,y+=" </a> "),y+=' <p class="comment-pop-number"> <span class="comment-pop-number-item comment-pop-icon comment-pop-icon-up">',y+=a.up,y+='</span> <span class="comment-pop-number-item comment-pop-icon comment-pop-icon-reply">',y+=a.repnum,y+='</span> <span class="comment-pop-time">',y+=t.formatTime(a.time),y+="</span> </p> </div>"}return y+=" </div> ",v?(y+=' <div class="comment-pop-more J_CommentPopMore" data-userid="',y+=n.userid,y+='" data-last="',y+=g,y+='"> 查看更多评论 </div> '):y+=' <div class="comment-pop-none">没有更多评论了</div> ',y+=" </div> </div> </div></div>"}(e.style,e.utils,e.usermeta,e.comments,e.i,e.len,e.item,e.parentComments,e.articles,e.parentinfo,e.users,e.parentUserinfo,e.pictures,e.j,e.jLen,e.article,e.hasnext,e.last)}},function(e,t){e.exports=function(e){return function(e,t,n,o,i,r,a,s,c,l,p,m,d,u){for(var h="",t=0,n=e.length;t<n;t++){var o=e[t],l=o.pictures,a=i&&i[o.parent],d=r[o.targetid];if(h+=' <div class="comment-pop-comment"> <div class="comment-pop-content"> <b class="comment-pop-bold"> ',a){var c=s[a.userid];h+=" 回复 ",h+=c.nick,h+="： "}else h+=" 发表评论： ";if(h+=" </b> ",o.content.length<=120?h+=o.content:(h+=' <span class="comment-pop-content-abstract"> ',h+=o.content.substr(0,120),h+='...<i class="comment-pop-content-btn comment-pop-content-btn-show J_CommentPopContentShow">展开</i> </span> <span class="comment-pop-content-all">',h+=o.content,h+='</span> <i class="comment-pop-content-btn comment-pop-content-btn-hide J_CommentPopContentHide">收起</i> '),h+=" </div> ",l&&l.length>0){h+=' <ul class="comment-pop-images"> ';for(var p=0,m=l.length;p<m;p++)h+=" <li ",p===m-1&&(h+='style="margin-right: 0"'),h+='><img src="',h+=l[p].url,h+='/100" width="100%" height="100%" /></li> ';h+=" </ul> "}a&&(h+=' <p class="comment-pop-reply"> <b class="comment-pop-bold">',h+=c.nick,h+="：</b>",h+=a.content,d&&(h+=' <span class="comment-pop-reply-line"></span> '),h+=" </p> "),d&&(h+=' <a class="comment-pop-link" href="',h+=d.url,h+='" target="_blank"> <span class="comment-pop-icon comment-pop-link-icon"></span> ',h+=d.title,h+=" </a> "),h+=' <p class="comment-pop-number"> <span class="comment-pop-number-item comment-pop-icon comment-pop-icon-up">',h+=o.up,h+='</span> <span class="comment-pop-number-item comment-pop-icon comment-pop-icon-reply">',h+=o.repnum,h+='</span> <span class="comment-pop-time">',h+=u.formatTime(o.time),h+="</span> </p> </div>"}return h}(e.comments,e.i,e.len,e.item,e.parentComments,e.articles,e.parentinfo,e.users,e.parentUserinfo,e.pictures,e.j,e.jLen,e.article,e.utils)}},,,,,,,,,,,,,,,,,,,,function(e,t,n){n(61);var o=n(1),i=n(7),r=n(33),a=n(24),s=n(8),c=n(35),l=n(22);n(9),n(37);var p=window.parent,m=p.cmt_id;o.theme&&$(document.body).addClass(o.theme),m&&(i.init({"targetid":m}),c.init({"targetid":m}),a.total({"targetid":m,"success":function(e){$("#J_CommentTotal").html(e.commentnum)}}),o.listHiden?$("#J_Post").addClass("box-only"):(r.init(m),l.init(s)))},function(e,t){}],[60]);/*  |xGv00|b57d333c63164cee43f7e4bbb9e160b6 */