<!DOCTYPE html>
<!-- saved from url=(0038)https://www.jianshu.com/p/94d47da32656 -->
<html><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">

  <!-- Start of Baidu Transcode -->
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta name="applicable-device" content="pc,mobile">
  <meta name="MobileOptimized" content="width">
  <meta name="HandheldFriendly" content="true">
  <meta name="mobile-agent" content="format=html5;url=https://www.jianshu.com/p/94d47da32656">
  <!-- End of Baidu Transcode -->

    <meta name="description" content="标签： Android Dagger2 更新 伴随着 Android Gradle 插件 2.2 版本的发布，近期 android-apt 作者在官网发表声明证实了后续将不会继续维护 android-apt，并推荐大家使用 Android 官方插件提供的相同能力。也就是说，大约三年前推出的 android-apt 即将告别开发者，退出历史舞台，Android Gradle 插件提供了名为 a...">

  <meta name="360-site-verification" content="604a14b53c6b871206001285921e81d8">
  <meta property="wb:webmaster" content="294ec9de89e7fadb">
  <meta property="qc:admins" content="104102651453316562112116375">
  <meta property="qc:admins" content="11635613706305617">
  <meta property="qc:admins" content="1163561616621163056375">
  <meta name="google-site-verification" content="cV4-qkUJZR6gmFeajx_UyPe47GW9vY6cnCrYtCHYNh4">
  <meta name="google-site-verification" content="HF7lfF8YEGs1qtCE-kPml8Z469e2RHhGajy6JPVy5XI">
  <meta http-equiv="mobile-agent" content="format=html5; url=https://www.jianshu.com/p/94d47da32656">

  <!-- Apple -->
  <meta name="apple-mobile-web-app-title" content="简书">

    <!--  Meta for Smart App Banner -->
  <meta name="apple-itunes-app" content="app-id=888237539, app-argument=jianshu://notes/4692528">
  <!-- End -->

  <!--  Meta for Twitter Card -->
  <meta content="summary" property="twitter:card">
  <meta content="@jianshucom" property="twitter:site">
  <meta content="Dagger2 使用详解" property="twitter:title">
  <meta content="标签： Android Dagger2 更新 伴随着 Android Gradle 插件 2.2 版本的发布，近期 android-apt 作者在官网发表声明证实了后续将不会继续维护 android-apt，并推荐大家使用 Android 官方插件提供的相同能力。也就是说，大约三年前推出的 android-apt 即将告别开发者，退出历史舞台，Android Gradle 插件提供了名为 annotationProcessor 的功能来完全代替 android-apt。所以新的配置信息可以更加简单，在Project的 build.gradle文件添加以下内容: 然后在Module下的bu..." property="twitter:description">
  <meta content="https://www.jianshu.com/p/94d47da32656" property="twitter:url">
  <!-- End -->

  <!--  Meta for OpenGraph -->
  <meta property="fb:app_id" content="865829053512461">
  <meta property="og:site_name" content="简书">
  <meta property="og:title" content="Dagger2 使用详解">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://www.jianshu.com/p/94d47da32656">
  <meta property="og:description" content="标签： Android Dagger2 更新 伴随着 Android Gradle 插件 2.2 版本的发布，近期 android-apt 作者在官网发表声明证实了后续将不会继续维护 andro...">
  <!-- End -->

  <!--  Meta for Facebook Applinks -->
  <meta property="al:ios:url" content="jianshu://notes/4692528">
  <meta property="al:ios:app_store_id" content="888237539">
  <meta property="al:ios:app_name" content="简书">

  <meta property="al:android:url" content="jianshu://notes/4692528">
  <meta property="al:android:package" content="com.jianshu.haruki">
  <meta property="al:android:app_name" content="简书">
  <!-- End -->


    <title>Dagger2 使用详解 - 简书</title>

  <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="GBUE/YfrPJgcsa7h1pq7uGh7B/b7EbrGX+FSD4va6Lbmn2hL3uW2Wd94iw88RJw+pme05tzNzQOJoqL0tarhCw==">

  <link rel="stylesheet" media="all" href="./Dagger2 使用详解 - 简书_files/web-9a426ac97f34593e6662.css">
  
  <link rel="stylesheet" media="all" href="./Dagger2 使用详解 - 简书_files/entry-a5d96d4884b6cddc11f7.css">

  <link href="https://cdn2.jianshu.io/assets/favicons/favicon-03411b154a430b85d807b4366489c21122fb983a38f3d7ca926f882e6367b13e.ico" rel="icon">
      <link rel="apple-touch-icon-precomposed" href="https://cdn2.jianshu.io/assets/apple-touch-icons/57-a6f1f1ee62ace44f6dc2f6a08575abd3c3b163288881c78dd8d75247682a4b27.png" sizes="57x57">
      <link rel="apple-touch-icon-precomposed" href="https://cdn2.jianshu.io/assets/apple-touch-icons/72-fb9834bcfce738fd7b9c5e31363e79443e09a81a8e931170b58bc815387c1562.png" sizes="72x72">
      <link rel="apple-touch-icon-precomposed" href="https://cdn2.jianshu.io/assets/apple-touch-icons/76-49d88e539ff2489475d603994988d871219141ecaa0b1a7a9a1914f4fe3182d6.png" sizes="76x76">
      <link rel="apple-touch-icon-precomposed" href="https://cdn2.jianshu.io/assets/apple-touch-icons/114-24252fe693524ed3a9d0905e49bff3cbd0228f25a320aa09053c2ebb4955de97.png" sizes="114x114">
      <link rel="apple-touch-icon-precomposed" href="https://cdn2.jianshu.io/assets/apple-touch-icons/120-1bb7371f5e87f93ce780a5f1a05ff1b176828ee0d1d130e768575918a2e05834.png" sizes="120x120">
      <link rel="apple-touch-icon-precomposed" href="https://cdn2.jianshu.io/assets/apple-touch-icons/152-bf209460fc1c17bfd3e2b84c8e758bc11ca3e570fd411c3bbd84149b97453b99.png" sizes="152x152">

  <!-- Start of 访问统计 -->
    <script src="./Dagger2 使用详解 - 简书_files/push.js.下载"></script><script src="./Dagger2 使用详解 - 简书_files/hm.js.下载"></script><script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?0c0e9d9b1e7d617b3e6842e85b9fb068";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>

  <!-- End of 访问统计 -->
<style type="text/css">
@charset "UTF-8";
/*
 * 变量
*/
.main {
  position: relative;
  margin: 0 auto;
  padding: 0 0 30px 0;
  width: 620px;
}
.main .title {
    padding-left: 8px;
    border-left: 3px solid #EA6F5A;
    line-height: 1;
    font-size: 15px;
}
.main .collection-settings {
    position: absolute;
    top: 2px;
    right: 0;
    font-size: 13px;
    color: #A0A0A0;
}
.main .collection-settings span {
      padding-left: 4px;
}
.main .include-collection {
    width: 100%;
    padding-top: 20px;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: horizontal;
    -webkit-box-direction: normal;
    -webkit-flex-direction: row;
        -ms-flex-direction: row;
            flex-direction: row;
    -webkit-box-pack: start;
    -webkit-justify-content: flex-start;
        -ms-flex-pack: start;
            justify-content: flex-start;
    -webkit-box-align: center;
    -webkit-align-items: center;
        -ms-flex-align: center;
            align-items: center;
    -webkit-flex-wrap: wrap;
        -ms-flex-wrap: wrap;
            flex-wrap: wrap;
}
.main .include-collection .item {
      display: inline-block;
      margin: 0 12px 12px 0;
      min-height: 32px;
      background-color: white;
      border: 1px solid #DCDCDC;
      border-radius: 4px;
      vertical-align: top;
      overflow: hidden;
}
.main .include-collection .item img {
        width: 32px;
        height: 32px;
}
.main .include-collection .item .name {
        display: inline-block;
        padding: 0 10px;
        font-size: 14px;
}
.main .include-collection .add-collection-wrap {
      margin: 0 12px 12px 0;
}
.main .include-collection .add-collection {
      padding: 8px 12px;
      font-size: 14px;
      border: 1px solid #DCDCDC;
      border-radius: 4px;
}
.main .include-collection .add-collection i {
        margin-right: 4px;
        color: #969696;
}
.main .recommend-note a {
    position: relative;
    margin: 20px 2px 0 0;
    width: 200px;
    height: 160px;
    display: inline-block;
}
.main .recommend-note a:after {
      content: "";
      position: absolute;
      width: 200px;
      height: 160px;
      border-radius: 0 0 4px 4px;
      -webkit-box-shadow: inset 0px -80px 50px -22px rgba(0, 0, 0, 0.6);
              box-shadow: inset 0px -80px 50px -22px rgba(0, 0, 0, 0.6);
      top: 0;
      left: 0;
      z-index: 1;
}
.main .recommend-note .name {
    position: absolute;
    bottom: 40px;
    left: 10px;
    right: 10px;
    font-size: 17px;
    font-weight: bold;
    color: #ffffff;
    z-index: 2;
}
.main .recommend-note .author {
    position: absolute;
    bottom: 10px;
    left: 10px;
    right: 10px;
    z-index: 2;
}
.main .recommend-note .avatar {
    width: 20px;
    height: 20px;
    display: inline-block;
}
.main .recommend-note .avatar img {
      border-radius: 50%;
}
.main .recommend-note .author-name {
    font-size: 12px;
    color: #ffffff;
    display: inline-block;
    vertical-align: -1px;
}
.main .show-more {
    margin: 0 12px 12px 0;
    font-size: 14px;
    color: #A0A0A0;
}
</style><style type="text/css">
@charset "UTF-8";
/*
 * 变量
*/
.pc-bind-phone-modal .modal-content, .pc-bind-phone-modal .modal-body {
  overflow: visible;
}
.pc-bind-phone-modal .dropdown-menu {
  max-height: 300px;
  overflow: auto;
}
.pc-bind-phone-modal .dropdown-menu .tag {
    background-color: #efefef;
    color: #4A4A4A;
    height: 28px;
    line-height: 28px;
    padding-left: 25px;
    font-size: 12px;
}
.reader-night-mode .pc-bind-phone-modal .dropdown-menu .tag {
  background-color: #2F2F2F;
  color: #999999;
}
</style><style type="text/css">
@charset "UTF-8";
/*
 * 变量
*/
.tips-card-loading[data-v-f3bf5228], .tips-card[data-v-f3bf5228] {
  width: 460px;
  position: relative;
  left: 0;
  top: 0;
  border-radius: 6px;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  background-color: #ffffff;
  -webkit-box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
          box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
  border: 1px solid #d9d9d9;
}
.tips-card-loading[data-v-f3bf5228] {
  height: 200px;
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
  -webkit-flex-direction: row;
      -ms-flex-direction: row;
          flex-direction: row;
  -webkit-box-pack: center;
  -webkit-justify-content: center;
      -ms-flex-pack: center;
          justify-content: center;
  -webkit-box-align: center;
  -webkit-align-items: center;
      -ms-flex-align: center;
          align-items: center;
  position: relative;
}
.tips-card-loading div[data-v-f3bf5228] {
    background-color: #EAEAEA;
}
.tips-card-loading .avatar[data-v-f3bf5228] {
    width: 72px !important;
    height: 72px !important;
    border-radius: 50%;
    position: absolute;
    left: 20px;
    top: 20px;
}
.tips-card-loading .name[data-v-f3bf5228] {
    width: 120px;
    height: 20px;
    position: absolute;
    left: 110px;
    top: 31px;
}
.tips-card-loading .content[data-v-f3bf5228] {
    position: absolute;
    left: 110px;
    top: 62px;
    width: 238px;
    height: 39.2px;
    background-color: transparent;
}
.tips-card-loading .content .text[data-v-f3bf5228], .tips-card-loading .content .text-delay[data-v-f3bf5228] {
      height: 14px;
      position: absolute;
      left: 0;
      width: 100%;
}
.tips-card-loading .content .text[data-v-f3bf5228] {
      top: 2px;
      -webkit-animation: loading-data-v-f3bf5228 1s ease-in-out infinite;
      animation: loading-data-v-f3bf5228 1s ease-in-out infinite;
}
.tips-card-loading .content .text-delay[data-v-f3bf5228] {
      bottom: 3px;
      -webkit-animation: loading-data-v-f3bf5228 1s ease-in-out -0.5s infinite;
      animation: loading-data-v-f3bf5228 1s ease-in-out -0.5s infinite;
}
@keyframes loading-data-v-f3bf5228 {
0% {
    width: 60%;
}
50% {
    width: 100%;
}
100% {
    width: 60%;
}
}
@-webkit-keyframes loading {
0% {
    width: 60%;
}
50% {
    width: 100%;
}
100% {
    width: 60%;
}
}
.tips-card-loading .meta[data-v-f3bf5228] {
    width: 30px;
    height: 42px;
    position: absolute;
    bottom: 20px;
    background-color: transparent;
}
.tips-card-loading .meta.meta-1[data-v-f3bf5228] {
      left: 30px;
}
.tips-card-loading .meta.meta-2[data-v-f3bf5228] {
      left: 90px;
}
.tips-card-loading .meta.meta-3[data-v-f3bf5228] {
      left: 150px;
}
.tips-card-loading .meta .count[data-v-f3bf5228], .tips-card-loading .meta .type[data-v-f3bf5228] {
      position: absolute;
}
.tips-card-loading .meta .count[data-v-f3bf5228] {
      left: -5px;
      top: 6px;
      height: 18px;
      width: 40px;
}
.tips-card-loading .meta .type[data-v-f3bf5228] {
      left: 1px;
      bottom: 2px;
      height: 13px;
      width: 28px;
}
.tips-card-loading .button[data-v-f3bf5228] {
    position: absolute;
    bottom: 17px;
    width: 90px;
    height: 40px;
    border-radius: 40px;
}
.tips-card-loading .message[data-v-f3bf5228] {
    right: 120px;
}
.tips-card-loading .follow[data-v-f3bf5228] {
    right: 17px;
}
.tips-card[data-v-f3bf5228] {
  z-index: 10;
}
.tips-card .card-content[data-v-f3bf5228] {
    padding: 20px 20px 0 20px;
}
.tips-card .card-content .summary[data-v-f3bf5228] {
      padding: 8px 0 20px 90px;
      min-height: 92px;
      position: relative;
}
.tips-card .card-content .summary .avatar[data-v-f3bf5228] {
        position: absolute;
        left: 0;
        top: 0;
        width: 72px;
        height: 72px;
        cursor: pointer;
        border-radius: 50%;
        background-color: #EAEAEA;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
}
.tips-card .card-content .summary .name[data-v-f3bf5228] {
        height: 26px;
        margin-right: 3px;
        margin-bottom: 8px;
        display: -webkit-box;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-orient: horizontal;
        -webkit-box-direction: normal;
        -webkit-flex-direction: row;
            -ms-flex-direction: row;
                flex-direction: row;
        -webkit-box-pack: start;
        -webkit-justify-content: flex-start;
            -ms-flex-pack: start;
                justify-content: flex-start;
        -webkit-box-align: center;
        -webkit-align-items: center;
            -ms-flex-align: center;
                align-items: center;
}
.tips-card .card-content .summary .name .nickname[data-v-f3bf5228] {
          color: #333333;
          font-size: 19px;
          font-weight: bold;
          overflow: hidden;
          -o-text-overflow: ellipsis;
             text-overflow: ellipsis;
          white-space: nowrap;
          cursor: pointer;
}
.tips-card .card-content .summary .name .sex[data-v-f3bf5228], .tips-card .card-content .summary .name .badge[data-v-f3bf5228] {
          -webkit-flex-shrink: 0;
              -ms-flex-negative: 0;
                  flex-shrink: 0;
          display: inline-block;
}
.tips-card .card-content .summary .name .sex[data-v-f3bf5228] {
          font-size: 19px;
          width: 19px;
          margin: 0 4px;
}
.tips-card .card-content .summary .intro[data-v-f3bf5228] {
        overflow: hidden;
        -o-text-overflow: ellipsis;
           text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        margin-bottom: 12px;
        font-size: 14px;
        line-height: 1.5;
        color: #333333;
}
.tips-card .card-content .summary .intro.block[data-v-f3bf5228] {
          color: #999999;
}
.tips-card .card-content .summary .list .item[data-v-f3bf5228] {
        display: block;
        margin-bottom: 5px;
        font-size: 13px;
        color: #999999;
        cursor: pointer;
        overflow: hidden;
        -o-text-overflow: ellipsis;
           text-overflow: ellipsis;
        white-space: nowrap;
}
.tips-card .card-content .summary .list .item i[data-v-f3bf5228] {
          margin-right: 2px;
}
.tips-card .card-footer[data-v-f3bf5228] {
    border-top: 1px solid #F0F0F0;
    padding: 15px;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: horizontal;
    -webkit-box-direction: normal;
    -webkit-flex-direction: row;
        -ms-flex-direction: row;
            flex-direction: row;
    -webkit-box-pack: justify;
    -webkit-justify-content: space-between;
        -ms-flex-pack: justify;
            justify-content: space-between;
    -webkit-box-align: center;
    -webkit-align-items: center;
        -ms-flex-align: center;
            align-items: center;
    overflow: hidden;
    _zoom: 1;
}
.tips-card .card-footer .profile[data-v-f3bf5228] {
      width: 198px;
      overflow: hidden;
      _zoom: 1;
      float: left;
}
.tips-card .card-footer .profile div[data-v-f3bf5228] {
        float: left;
        width: 60px;
        height: 44px;
        display: -webkit-box;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-orient: vertical;
        -webkit-box-direction: normal;
        -webkit-flex-direction: column;
            -ms-flex-direction: column;
                flex-direction: column;
        -webkit-box-pack: center;
        -webkit-justify-content: center;
            -ms-flex-pack: center;
                justify-content: center;
        -webkit-box-align: center;
        -webkit-align-items: center;
            -ms-flex-align: center;
                align-items: center;
}
.tips-card .card-footer .profile div span[data-v-f3bf5228] {
          display: block;
          width: 100%;
          text-align: center;
}
.tips-card .card-footer .profile div .type[data-v-f3bf5228] {
          font-size: 13px;
          color: #999999;
}
.tips-card .card-footer .profile div .count[data-v-f3bf5228] {
          font-size: 18px;
          color: #333333;
}
.tips-card .card-footer .social[data-v-f3bf5228] {
      display: -webkit-box;
      display: -webkit-flex;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: horizontal;
      -webkit-box-direction: normal;
      -webkit-flex-direction: row;
          -ms-flex-direction: row;
              flex-direction: row;
      -webkit-box-pack: end;
      -webkit-justify-content: flex-end;
          -ms-flex-pack: end;
              justify-content: flex-end;
      -webkit-box-align: center;
      -webkit-align-items: center;
          -ms-flex-align: center;
              align-items: center;
      float: right;
      overflow: hidden;
      _zoom: 1;
}
.tips-card .card-footer .social .message[data-v-f3bf5228] {
        border: 1px solid rgba(59, 194, 29, 0.7);
        color: #42C02E;
        margin: 0 10px 0 16px;
        font-size: 15px;
        padding: 8px 0;
        width: 90px;
        border-radius: 40px;
        text-align: center;
        cursor: pointer;
        float: left;
        -webkit-box-sizing: border-box;
                box-sizing: border-box;
}
.tips-card .card-footer .social .message[data-v-f3bf5228]:hover {
          border: 1px solid #42C02E;
          color: #42C02E;
          background-color: rgba(59, 194, 29, 0.05);
}
.tips-card .card-footer .social .user-follow-button[data-v-f3bf5228] {
        font-size: 15px;
        padding: 8px 0;
        width: 100px;
}
.arrow[data-v-f3bf5228] {
  position: absolute;
  width: 100%;
  height: 10px;
  left: 0;
  z-index: 20;
  pointer-events: none;
}
.arrow i[data-v-f3bf5228] {
    position: absolute;
    left: 50%;
    margin: 0;
    margin-left: -10px;
    border-width: 10px;
    border-color: transparent;
    padding: 0;
}
.arrow em[data-v-f3bf5228] {
    display: block;
    position: absolute;
    left: -9px;
    border-width: 9px;
    border-color: transparent;
    margin: 0;
    padding: 0;
}
.arrow-type-top[data-v-f3bf5228] {
  bottom: 1px;
}
.arrow-type-top i[data-v-f3bf5228] {
    border-top-color: #d9d9d9;
    border-style: solid dashed dashed;
    top: 0;
}
.arrow-type-top em[data-v-f3bf5228] {
    border-style: solid dashed dashed;
    border-top-color: #ffffff;
    top: -10px;
}
.arrow-type-bottom[data-v-f3bf5228] {
  top: 1px;
}
.arrow-type-bottom i[data-v-f3bf5228] {
    border-bottom-color: #d9d9d9;
    border-style: dashed dashed solid;
    top: -10px;
}
.arrow-type-bottom em[data-v-f3bf5228] {
    border-style: dashed dashed solid;
    border-bottom-color: #ffffff;
    top: -8px;
}
.reader-night-mode .tips-card-loading[data-v-f3bf5228] {
  background-color: #3F3F3F;
  border-color: #2F2F2F;
}
.reader-night-mode .tips-card-loading .avatar[data-v-f3bf5228], .reader-night-mode .tips-card-loading .name[data-v-f3bf5228], .reader-night-mode .tips-card-loading .text[data-v-f3bf5228], .reader-night-mode .tips-card-loading .text-delay[data-v-f3bf5228], .reader-night-mode .tips-card-loading .count[data-v-f3bf5228], .reader-night-mode .tips-card-loading .type[data-v-f3bf5228], .reader-night-mode .tips-card-loading .button[data-v-f3bf5228] {
    background-color: #545454;
}
.reader-night-mode .tips-card[data-v-f3bf5228] {
  background-color: #3F3F3F;
  border-color: #2F2F2F;
}
.reader-night-mode .tips-card .card-content .summary .name .nickname[data-v-f3bf5228] {
    color: #C8C8C8;
}
.reader-night-mode .tips-card .card-content .summary .name .nickname[data-v-f3bf5228]:hover {
      color: #ffffff;
}
.reader-night-mode .tips-card .card-content .summary .intro[data-v-f3bf5228] {
    color: #C8C8C8;
}
.reader-night-mode .tips-card .card-footer[data-v-f3bf5228] {
    border-top-color: #2F2F2F;
}
.reader-night-mode .tips-card .card-footer .profile div .count[data-v-f3bf5228] {
      color: #C8C8C8;
}
.reader-night-mode .arrow.arrow-type-top em[data-v-f3bf5228] {
  border-top-color: #3F3F3F;
}
.reader-night-mode .arrow.arrow-type-top i[data-v-f3bf5228] {
  border-top-color: #2F2F2F;
}
.reader-night-mode .arrow.arrow-type-bottom em[data-v-f3bf5228] {
  border-bottom-color: #3F3F3F;
}
.reader-night-mode .arrow.arrow-type-bottom i[data-v-f3bf5228] {
  border-bottom-color: #2F2F2F;
}
</style><style type="text/css">
.v-tooltip-container,
.v-tooltip-content {
  display: inline-block;
}
.v-tooltip-container {
  position: relative;
}
.v-tooltip-container .v-tooltip-content {
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
}
.v-tooltip-container .v-tooltip-wrap {
    position: absolute;
}
.v-tooltip-container .v-tooltip-wrap.v-tooltip-wrap-top {
      bottom: 100%;
      left: 50%;
      -webkit-transform: translateX(-50%);
          -ms-transform: translateX(-50%);
              transform: translateX(-50%);
      padding-bottom: 10px;
}
.v-tooltip-container .v-tooltip-wrap.v-tooltip-wrap-bottom {
      top: 100%;
      left: 50%;
      -webkit-transform: translateX(-50%);
          -ms-transform: translateX(-50%);
              transform: translateX(-50%);
      padding-top: 10px;
}
.v-tooltip-container .v-tooltip-wrap.v-tooltip-wrap-left {
      top: 50%;
      right: 100%;
      -webkit-transform: translateY(-50%);
          -ms-transform: translateY(-50%);
              transform: translateY(-50%);
      padding-right: 10px;
}
.v-tooltip-container .v-tooltip-wrap.v-tooltip-wrap-right {
      top: 50%;
      left: 100%;
      -webkit-transform: translateY(-50%);
          -ms-transform: translateY(-50%);
              transform: translateY(-50%);
      padding-left: 10px;
}
.v-tooltip-container .v-tooltip-wrap.v-tooltip-wrap-top-start {
      bottom: 100%;
      left: 0;
      padding-bottom: 10px;
}
.v-tooltip-container .v-tooltip-wrap.v-tooltip-wrap-top-end {
      bottom: 100%;
      right: 0;
      padding-bottom: 10px;
}
.v-tooltip-container .v-tooltip-wrap.v-tooltip-wrap-bottom-start {
      top: 100%;
      left: 0;
      padding-top: 10px;
}
.v-tooltip-container .v-tooltip-wrap.v-tooltip-wrap-bottom-end {
      top: 100%;
      right: 0;
      padding-top: 10px;
}
.v-tooltip-container .v-tooltip-wrap.v-tooltip-wrap-left-start {
      top: 0;
      right: 100%;
      padding-right: 10px;
}
.v-tooltip-container .v-tooltip-wrap.v-tooltip-wrap-left-end {
      bottom: 0;
      right: 100%;
      padding-right: 10px;
}
.v-tooltip-container .v-tooltip-wrap.v-tooltip-wrap-right-start {
      top: 0;
      left: 100%;
      padding-left: 10px;
}
.v-tooltip-container .v-tooltip-wrap.v-tooltip-wrap-right-end {
      bottom: 0;
      left: 100%;
      padding-left: 10px;
}
</style><style type="text/css">
@charset "UTF-8";
/*
 * 变量
*/
.recommend-note {
  margin-bottom: 20px;
}
.recommend-note .meta, .recommend-note .list {
    width: 620px;
    margin: 0 auto;
}
.recommend-note .meta .title {
    padding-left: 8px;
    border-left: 3px solid #EA6F5A;
    line-height: 1;
    font-size: 15px;
}
.recommend-note .meta .title .more {
      float: right;
      font-size: 14px;
      color: #A0A0A0;
}
.recommend-note .list {
    margin-top: 20px;
}
.recommend-note .list .note {
      display: block;
      margin-bottom: 25px;
      padding: 0 0 25px 0;
      border-bottom: 1px solid #DDDDDD;
}
.recommend-note .list .note.have-img {
        min-height: 136px;
}
.recommend-note .list .note .cover {
        float: right;
        margin: -5px 0 0 15px;
        width: 150px;
        height: 120px;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        border-radius: 6px;
}
.recommend-note .list .note .title {
        display: inherit;
        margin-bottom: 4px;
        font-size: 18px;
        line-height: 27px;
        font-weight: bold;
        color: #333333;
        overflow: hidden;
        -o-text-overflow: ellipsis;
           text-overflow: ellipsis;
        white-space: nowrap;
}
.recommend-note .list .note .title:hover {
          text-decoration: underline;
}
.recommend-note .list .note .title:visited {
          color: #999999;
}
.recommend-note .list .note .description {
        margin-bottom: 12px;
        font-size: 13px;
        line-height: 23px;
        color: #333333;
        overflow: hidden;
        -o-text-overflow: ellipsis;
           text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
}
.recommend-note .list .note .author .avatar {
        display: inline-block;
        width: 24px;
        height: 24px;
        margin-right: 3px;
        border-radius: 50%;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        vertical-align: middle;
}
.recommend-note .list .note .author .name {
        font-size: 13px;
        color: #333333;
        vertical-align: middle;
}
</style></head>

  <body lang="zh-CN" class="reader-black-font">
    <!-- 全局顶部导航栏 -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="width-limit">
    <!-- 左上方 Logo -->
    <a class="logo" href="https://www.jianshu.com/"><img src="./Dagger2 使用详解 - 简书_files/nav-logo-4c7bbafe27adc892f3046e6978459bac.png" alt="Nav logo"></a>

    <!-- 右上角 -->
      <!-- 未登录显示登录/注册/写文章 -->
      <a class="btn write-btn" target="_blank" href="https://www.jianshu.com/writer#/">
        <i class="iconfont ic-write"></i>写文章
</a>      <a class="btn sign-up" href="https://www.jianshu.com/sign_up">注册</a>
      <a class="btn log-in" href="https://www.jianshu.com/sign_in">登录</a>

    <!-- 如果用户登录，显示下拉菜单 -->

    <div class="style-mode"><a class="style-mode-btn"><i class="iconfont ic-navigation-mode"></i></a> <div class="popover-modal" style="left: 0px; display: none;"><div class="meta"><i class="iconfont ic-navigation-night"></i><span>夜间模式</span></div> <div class="switch day-night-group"><a class="switch-btn">开</a> <a class="switch-btn active">关</a></div> <hr> <div class="switch font-family-group"><a class="switch-btn font-song">宋体</a> <a class="switch-btn font-hei active">黑体</a></div> <div class="switch"><a class="switch-btn active">简</a> <a class="switch-btn">繁</a></div></div></div>
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu" aria-expanded="false">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse" id="menu">
        <ul class="nav navbar-nav">
            <li class="tab ">
              <a href="https://www.jianshu.com/">
                <span class="menu-text">首页</span><i class="iconfont ic-navigation-discover menu-icon"></i>
</a>            </li>
            <li class="tab ">
              <a id="web-nav-app-download-btn" class="app-download-btn" href="https://www.jianshu.com/apps?utm_medium=desktop&amp;utm_source=navbar-apps"><span class="menu-text">下载App</span><i class="iconfont ic-navigation-download menu-icon"></i></a>
            </li>
          <li class="search">
            <form target="_blank" action="https://www.jianshu.com/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="✓">
              <input type="text" name="q" id="q" value="" autocomplete="off" placeholder="搜索" class="search-input">
              <a class="search-btn" href="javascript:void(null)"><i class="iconfont ic-search"></i></a>
</form>          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>

    
<div class="note">
  <a target="_blank" href="https://www.jianshu.com/apps/download?utm_source=sbc" id="web-note-ad-fixed"><span class="close">×</span></a>
  <div class="post">
    <div class="article">
        <h1 class="title">Dagger2 使用详解</h1>

        <!-- 作者区域 -->
        <div class="author">
          <a class="avatar" href="https://www.jianshu.com/u/8e523dd140ee">
            <img src="./Dagger2 使用详解 - 简书_files/3ae64fc7949f.jpg" alt="96">
</a>          <div class="info">
            <span class="name"><a href="https://www.jianshu.com/u/8e523dd140ee">zpayh</a></span>
            <!-- 关注用户按钮 -->
            <a class="btn btn-success follow"><i class="iconfont ic-follow"></i><span>关注</span></a>
            <!-- 文章数据信息 -->
            <div class="meta">
              <!-- 如果文章更新时间大于发布时间，那么使用 tooltip 显示更新时间 -->
                <span class="publish-time" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="最后编辑于 2017.12.03 07:48">2016.07.07 00:37*</span>
              <span class="wordage">字数 2049</span>
            <span class="views-count">阅读 8941</span><span class="comments-count">评论 84</span><span class="likes-count">喜欢 73</span><span class="rewards-count ">赞赏 1</span></div>
          </div>
          <!-- 如果是当前作者，加入编辑按钮 -->
        </div>
        <!-- -->

        <!-- 文章内容 -->
        <div data-note-content="" class="show-content">
          <p>标签： Android Dagger2</p>
<hr>
<h2>更新</h2>
<p>伴随着 Android Gradle 插件 2.2 版本的发布，近期 <code>android-apt</code> 作者在官网发表声明证实了后续将不会继续维护 <code>android-apt</code>，并推荐大家使用 Android 官方插件提供的相同能力。也就是说，大约三年前推出的 <code>android-apt</code> 即将告别开发者，退出历史舞台，Android Gradle 插件提供了名为 <code>annotationProcessor</code> 的功能来完全代替 <code>android-apt</code>。<br>
所以新的配置信息可以更加简单，在Project的 <code>build.gradle</code>文件添加以下内容:</p>
<pre class="hljs gradle"><code class="gradle"><span class="hljs-keyword">buildscript</span> {
    
    <span class="hljs-keyword">dependencies</span> {
        <span class="hljs-keyword">classpath</span> <span class="hljs-string">'me.tatarka:gradle-retrolambda:3.5.0'</span><span class="hljs-comment">//支持lambda表达式，在Dagger2中可以不用添加</span>
    }
}
</code></pre>
<p>然后在Module下的<code>build.gradle</code>添加以下内容:</p>
<pre class="hljs gradle"><code class="gradle">apply plugin: <span class="hljs-string">'me.tatarka.retrolambda'</span>

android {
    compileOptions {
        <span class="hljs-keyword">sourceCompatibility</span> JavaVersion.VERSION_1_8
        <span class="hljs-keyword">targetCompatibility</span> JavaVersion.VERSION_1_8
    }
}

<span class="hljs-keyword">dependencies</span> {
    annotationProcessor <span class="hljs-string">'com.google.dagger:dagger-compiler:2.4'</span>
    <span class="hljs-keyword">compile</span> <span class="hljs-string">'com.google.dagger:dagger:2.4'</span>
    provided <span class="hljs-string">'org.glassfish:javax.annotation:10.0-b28'</span>
}
</code></pre>
<h2>前言</h2>
<p>Dagger2 是一款使用在Java和Android上的依赖注入的一个类库。</p>
<h2>配置信息</h2>
<p>使用Android Studio 创建一个新的项目，在Project的 <code>build.gradle</code>文件添加以下内容：</p>
<pre class="hljs gradle"><code class="gradle"><span class="hljs-keyword">buildscript</span> {
    
    <span class="hljs-keyword">dependencies</span> {
        <span class="hljs-keyword">classpath</span> <span class="hljs-string">'me.tatarka:gradle-retrolambda:3.2.4'</span>
        <span class="hljs-keyword">classpath</span> <span class="hljs-string">'com.neenbedankt.gradle.plugins:android-apt:1.8'</span>
    }
}
</code></pre>
<p>并在Module下的<code>build.gradle</code>添加以下内容:</p>
<pre class="hljs gradle"><code class="gradle">apply plugin: <span class="hljs-string">'com.neenbedankt.android-apt'</span>
apply plugin: <span class="hljs-string">'me.tatarka.retrolambda'</span>

android {
    compileOptions {
        <span class="hljs-keyword">sourceCompatibility</span> JavaVersion.VERSION_1_8
        <span class="hljs-keyword">targetCompatibility</span> JavaVersion.VERSION_1_8
    }
}

<span class="hljs-keyword">dependencies</span> {
    apt <span class="hljs-string">'com.google.dagger:dagger-compiler:2.4'</span>
    <span class="hljs-keyword">compile</span> <span class="hljs-string">'com.google.dagger:dagger:2.4'</span>
    provided <span class="hljs-string">'org.glassfish:javax.annotation:10.0-b28'</span>
}
</code></pre>
<p>这样就基本完全了Dagger2的配置环境（顺便也配置了支持lambda表达式）。</p>
<h2>Dagger2基本使用</h2>
<p>我们先简单地创建一个类：</p>
<pre class="hljs java"><code class="java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Poetry</span> </span>{
    <span class="hljs-keyword">private</span> String mPemo;

    <span class="hljs-comment">// 用Inject标记构造函数,表示用它来注入到目标对象中去</span>
    <span class="hljs-meta">@Inject</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Poetry</span><span class="hljs-params">()</span> </span>{
        mPemo = <span class="hljs-string">"生活就像海洋"</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getPemo</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> mPemo;
    }
}
</code></pre>
<p>然后我们在MainActivity中使用这个类：</p>
<pre class="hljs java"><code class="java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> </span>{

    <span class="hljs-comment">//添加@Inject注解，表示这个mPoetry是需要注入的</span>
    <span class="hljs-meta">@Inject</span>
    Poetry mPoetry;

    <span class="hljs-keyword">private</span> TextView mTextView;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        initView();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initView</span><span class="hljs-params">()</span> </span>{
        mTextView = (TextView) findViewById(R.id.tv_poetry);
        mTextView.setText(mPoetry.getPoems());
    }
}
</code></pre>
<p>但是这样直接运行是会出错的，此时这样子在MainActivity中的<em>mPoetry</em>对象是无法被注入的，因为MainActivity不知道去哪里找到它的实例去注入生成，这时我们需要一个连接器<em>Component</em>，让上面这两个类产生联系：</p>
<pre class="hljs java"><code class="java"><span class="hljs-comment">//用@Component表示这个接口是一个连接器，能用@Component注解的只</span>
<span class="hljs-comment">//能是interface或者抽象类</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">MainComponent</span> </span>{

    <span class="hljs-comment">/**
     * 需要用到这个连接器的对象，就是这个对象里面有需要注入的属性
     * （被标记为<span class="hljs-doctag">@Inject</span>的属性）
     * 这里inject表示注入的意思，这个方法名可以随意更改，但建议就
     * 用inject即可。
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">inject</span><span class="hljs-params">(MainActivity activity)</span></span>;
}
</code></pre>
<p>先运行一遍，AS会生成一些类，再修改一下MainActivity:</p>
<pre class="hljs java"><code class="java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> </span>{

    <span class="hljs-comment">//添加@Inject注解，表示这个mPoetry是需要注入的</span>
    <span class="hljs-meta">@Inject</span>
    Poetry mPoetry;

    <span class="hljs-keyword">private</span> TextView mTextView;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        <span class="hljs-comment">// 使用Dagger2生成的类 生成组件进行构造，并注入</span>
        DaggerMainComponent.builder()
                .build()
                .inject(<span class="hljs-keyword">this</span>);

        initView();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initView</span><span class="hljs-params">()</span> </span>{
        mTextView = (TextView) findViewById(R.id.tv_poetry);
        mTextView.setText(mPoetry.getPoems());
    }
}
</code></pre>
<p>运行，如下<br>
</p><div class="image-package">
<img src="./Dagger2 使用详解 - 简书_files/001.png" data-original-src="http://o9qzkbu2x.bkt.clouddn.com/001.png?imageMogr2/auto-orient/thumbnail/500x" alt="运行结果" style="cursor: zoom-in;"><div class="image-caption">运行结果</div>
</div><br>
上面<code>MainActivity</code>中的<code>Poetry</code>实例并不直接由MainActivity类创建，而是由<code>MainActivityComponent</code>类注入生成实例。以上就是一个简单的Dagger2示例。<p></p>
<h3>@Module</h3>
<p>有时候我们并不能直接在构造函数里面添加<code>@Inject</code>注解，或者类中存在多个构造函数时，<code>@Inject</code>也只能注解其中一个构造函数，不能注解多个构造函数，这里是会产生<em>歧义性</em>，因为Dagger2无法确认调用哪一个构造函数来生成例的实例对象。另外一种情况是我们在项目中引用第三方类库时，也是无法直接在类构造函数中添加<code>@Inject</code>注解的，所以我们需要用到<code>@Module</code>注解了。<br>
<code>@Module</code>是用来生产实例来注入对象的，它类似一个工厂，集中创建要注入的类的对象实例。下面我们引用一下Gson库来看看<code>@Module</code>是怎么使用的，创建<code>MainModule</code>类：</p>
<pre class="hljs java"><code class="java"><span class="hljs-comment">/*
@Module注解表示这个类提供生成一些实例用于注入
 */</span>
<span class="hljs-meta">@Module</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainModule</span> </span>{

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@Provides</span> 注解表示这个方法是用来创建某个实例对象的，这里我们创建返回Gson对象
     * 方法名随便，一般用provideXXX结构
     * <span class="hljs-doctag">@return</span> 返回注入对象
     */</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Gson <span class="hljs-title">provideGson</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Gson();
    }
}
</code></pre>
<p>添加完这个类后，我们要与之前写的类产生关联，不然谁知道你这里提供了生成Gson实例的方法啊。修改<code>MainCompontent</code>:</p>
<pre class="hljs java"><code class="java"><span class="hljs-comment">//这里表示Component会从MainModule类中拿那些用@Provides注解的方法来生成需要注入的实例</span>
<span class="hljs-meta">@Component</span>(modules = MainModule.class)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">MainComponent</span> </span>{

    <span class="hljs-comment">/**
     * 需要用到这个连接器的对象，就是这个对象里面有需要注入的属性
     * （被标记为<span class="hljs-doctag">@Inject</span>的属性）
     * 这里inject表示注入的意思，这个方法名可以随意更改，但建议就
     * 用inject即可。
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">inject</span><span class="hljs-params">(MainActivity activity)</span></span>;
}
</code></pre>
<p>这里多了一个依赖，依赖<code>MainModule</code>类中的方法生成Gson实例，我们在<code>MainActivity</code>里注入Gson实例：</p>
<pre class="hljs java"><code class="java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> </span>{

    <span class="hljs-comment">//添加@Inject注解，表示这个mPoetry是需要注入的</span>
    <span class="hljs-meta">@Inject</span>
    Poetry mPoetry;

    <span class="hljs-meta">@Inject</span>
    Gson mGson;

    <span class="hljs-keyword">private</span> TextView mTextView;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        <span class="hljs-comment">// 使用Dagger2生成的类 生成组件进行构造，并注入</span>
        DaggerMainComponent.builder()
                .build()
                .inject(<span class="hljs-keyword">this</span>);

        initView();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initView</span><span class="hljs-params">()</span> </span>{
        mTextView = (TextView) findViewById(R.id.tv_poetry);
        String json = mGson.toJson(mPoetry);
        mTextView.setText(json);
    }
}
</code></pre>
<p>运行，结果如下：<br>
</p><div class="image-package">
<img src="./Dagger2 使用详解 - 简书_files/002.png" data-original-src="http://o9qzkbu2x.bkt.clouddn.com/002.png?imageMogr2/auto-orient/thumbnail/500x" alt="运行结果" style="cursor: zoom-in;"><div class="image-caption">运行结果</div>
</div><br>
<code>Component</code>可以依赖多个<code>Module</code>对象，以上的构造方法与生成方法都是无参生成实例的，如果我们带参数应该怎么做了？我们创建多一个<code>PoetryModule</code>用于提供<code>Poetry</code>实例:<p></p>
<pre class="hljs java"><code class="java"><span class="hljs-meta">@Module</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PoetryModule</span> </span>{

    <span class="hljs-comment">// 这个方法需要一个String参数，在Dagger2注入中，这些参数也是注入形式的，也就是</span>
    <span class="hljs-comment">// 要有其他对方提供参数poems的生成，不然会造成编译出错</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Poetry <span class="hljs-title">providePoetry</span><span class="hljs-params">(String poems)</span></span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Poetry(poems);
    }
    
    <span class="hljs-comment">// 这里提供了一个生成String的方法，在这个Module里生成Poetry实例时，会查找到这里</span>
    <span class="hljs-comment">// 可以为上面提供String类型的参数</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">providePoems</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"只有意志坚强的人，才能到达彼岸"</span>;
    }
}
</code></pre>
<p>修改<code>MainComponent</code>依赖:</p>
<pre class="hljs java"><code class="java"><span class="hljs-comment">//这里表示Component会从MainModule类中拿那些用@Provides注解的方法来生成需要注入的实例</span>
<span class="hljs-meta">@Component</span>(modules = {MainModule.class,PoetryModule.class})
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">MainComponent</span> </span>{

    <span class="hljs-comment">/**
     * 需要用到这个连接器的对象，就是这个对象里面有需要注入的属性
     * （被标记为<span class="hljs-doctag">@Inject</span>的属性）
     * 这里inject表示注入的意思，这个方法名可以随意更改，但建议就
     * 用inject即可。
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">inject</span><span class="hljs-params">(MainActivity activity)</span></span>;
}
</code></pre>
<p>运行，就可以看到不同的诗词了：<br>
</p><div class="image-package">
<img src="./Dagger2 使用详解 - 简书_files/003.png" data-original-src="http://o9qzkbu2x.bkt.clouddn.com/003.png?imageMogr2/auto-orient/thumbnail/500x" alt="运行结果" style="cursor: zoom-in;"><div class="image-caption">运行结果</div>
</div><br>
细心的同学就会发现了，我们提供了两个可以生成<code>Poetry</code>实例的方法，一个是在<code>Poetry</code>类的构造函数时候用<code>@Inject</code>提供的实例创建方法，一个是在<code>PoetryModule</code>中的<code>@Privodes</code>注解的<em>providePoetry</em>方法，而在上面的运行结果中我们发现是调用了<code>PoetryModule</code>提供的方法，这里就要说明一下优先级的问题，在上面这种既在构造函数中用<code>@Inject</code>提供注入来源，也在<code>@Module</code>中用<code>@Privodes</code>注解提供注入来源的，Dagger2是先从<code>@Privodes</code>查找类实例，如果找到了就用<code>@Module</code>提供的方法来创建类实例，如果没有就从构造函数里用<code>@Inject</code>注解的生成类实例，如果二者都没有，则报错，简而言之，就是<code>@Module</code>的优先级高于<code>@Inject</code>。<br>
另外这里还要说明一点，在providePoetry(String)方法中，String这个参数也是要注入提供的，必须也要有在同一个连接器里面有提供，其中在构建类实例的时候，会按照以下顺序执行：<p></p>
<ol>
<li>从Module中查找类实例创建方法</li>
<li>Module中存在创建方法，则看此创建方法有没有参数
<ol>
<li>如果有参数，这些参数也是由Component提供的，返回<strong>步骤1</strong>逐一生成参数类实例，最后再生成最终类实例</li>
<li>如果无参数，则直接由这个方法生成最终类实例</li>
</ol>
</li>
<li>Module中没有创建方法，则从构造函数里面找那个用@Inject注解的构造函数
<ol>
<li>如果该构造函数有参数，则也是返回到<strong>步骤1</strong>逐一生成参数类实例，最后调用该构造函数生成类实例</li>
<li>如果该构造函数无参数，则直接调用该构造函数生成类实例</li>
</ol>
</li>
</ol>
<p>以上就是一次注入生成类实例的生成步骤。</p>
<h3>@Scope</h3>
<p>我们创建多一个Activity，这个Activity也注入了Poetry跟Gson对象:</p>
<pre class="hljs java"><code class="java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OtherActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> </span>{

    <span class="hljs-comment">//添加@Inject注解，表示这个mPoetry是需要注入的</span>
    <span class="hljs-meta">@Inject</span>
    Poetry mPoetry;

    <span class="hljs-meta">@Inject</span>
    Gson mGson;

    <span class="hljs-keyword">private</span> TextView mTextView;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_other);

        MainComponent.getInstance()
                .inject(<span class="hljs-keyword">this</span>);

        initView();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initView</span><span class="hljs-params">()</span> </span>{
        mTextView = (TextView) findViewById(R.id.tv_poetry);
        String json = mGson.toJson(mPoetry);
        String text = json + <span class="hljs-string">",mPoetry:"</span>+mPoetry;
        mTextView.setText(text);
    }
}
</code></pre>
<p>我们顺便也把<code>MainComponent</code>改成抽象类的形式，并添加返回<code>MainComponent</code>单例的方法,对应添加MainActivity跳转到OtherActivity的方法.</p>
<pre class="hljs java"><code class="java"><span class="hljs-meta">@Component</span>(modules = {MainModule.class,PoetryModule.class})
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainComponent</span> </span>{

    <span class="hljs-comment">/**
     * 需要用到这个连接器的对象，就是这个对象里面有需要注入的属性
     * （被标记为<span class="hljs-doctag">@Inject</span>的属性）
     * 这里inject表示注入的意思，这个方法名可以随意更改，但建议就
     * 用inject即可。
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">inject</span><span class="hljs-params">(MainActivity activity)</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">inject</span><span class="hljs-params">(OtherActivity activity)</span></span>;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> MainComponent sComponent;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> MainComponent <span class="hljs-title">getInstance</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">if</span> (sComponent == <span class="hljs-keyword">null</span>){
            sComponent = DaggerMainComponent.builder().build();
        }
        <span class="hljs-keyword">return</span> sComponent;
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> </span>{

    <span class="hljs-comment">//添加@Inject注解，表示这个mPoetry是需要注入的</span>
    <span class="hljs-meta">@Inject</span>
    Poetry mPoetry;

    <span class="hljs-meta">@Inject</span>
    Gson mGson;

    <span class="hljs-keyword">private</span> TextView mTextView;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        <span class="hljs-comment">// 使用Dagger2生成的类 生成组件进行构造，并注入</span>
        MainComponent.getInstance()
                .inject(<span class="hljs-keyword">this</span>);

        initView();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initView</span><span class="hljs-params">()</span> </span>{
        mTextView = (TextView) findViewById(R.id.tv_poetry);
        String json = mGson.toJson(mPoetry);
        String text = json + <span class="hljs-string">",mPoetry:"</span>+mPoetry;
        mTextView.setText(text);

        findViewById(R.id.open).setOnClickListener(view -&gt;
                startActivity(<span class="hljs-keyword">new</span> Intent(<span class="hljs-keyword">this</span>,OtherActivity.class)));
    }
}
</code></pre>
<p>运行结果如下：<br>
</p><div class="image-package">
<img src="./Dagger2 使用详解 - 简书_files/006.png" data-original-src="http://o9qzkbu2x.bkt.clouddn.com/006.png?imageMogr2/auto-orient/thumbnail/400x" alt="运行结果" style="cursor: zoom-in;"><div class="image-caption">运行结果</div>
</div><div class="image-package">
<img src="./Dagger2 使用详解 - 简书_files/007.png" data-original-src="http://o9qzkbu2x.bkt.clouddn.com/007.png?imageMogr2/auto-orient/thumbnail/400x" alt="运行结果" style="cursor: zoom-in;"><div class="image-caption">运行结果</div>
</div><br>
可以看到，调用同一个<code>MainComponent</code>实例多次注入的时候每次都重新生成Poetry实例，有时候我们需要只希望生成一个共用实例的时候应该怎么办呢，这里我们就需要用到Dagger2的@Scope属性了，Scope是作用域的意思，我们先自定义一个@Scope注解:<p></p>
<pre class="hljs java"><code class="java"><span class="hljs-meta">@Scope</span>
<span class="hljs-meta">@Retention</span>(RetentionPolicy.RUNTIME)
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> PoetryScope {
}
</code></pre>
<p>同时在Module与Component加上这个自定义Scope:</p>
<pre class="hljs java"><code class="java"><span class="hljs-meta">@PoetryScope</span>
<span class="hljs-meta">@Component</span>(modules = {MainModule.class,PoetryModule.class})
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainComponent</span> </span>{
    <span class="hljs-comment">/**
     * 需要用到这个连接器的对象，就是这个对象里面有需要注入的属性
     * （被标记为<span class="hljs-doctag">@Inject</span>的属性）
     * 这里inject表示注入的意思，这个方法名可以随意更改，但建议就
     * 用inject即可。
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">inject</span><span class="hljs-params">(MainActivity activity)</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">inject</span><span class="hljs-params">(OtherActivity activity)</span></span>;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> MainComponent sComponent;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> MainComponent <span class="hljs-title">getInstance</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">if</span> (sComponent == <span class="hljs-keyword">null</span>){
            sComponent = DaggerMainComponent.builder().build();
        }
        <span class="hljs-keyword">return</span> sComponent;
    }
}

<span class="hljs-meta">@Module</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PoetryModule</span> </span>{

    <span class="hljs-comment">// 这个方法需要一个String参数，在Dagger2注入中，这些参数也是注入形式的，也就是</span>
    <span class="hljs-comment">// 要有其他对方提供参数poems的生成，不然会造成编译出错</span>
    <span class="hljs-meta">@PoetryScope</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Poetry <span class="hljs-title">providePoetry</span><span class="hljs-params">(String poems)</span></span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Poetry(poems);
    }

    <span class="hljs-comment">// 这里提供了一个生成String的方法，在这个Module里生成Poetry实例时，会查找到这里</span>
    <span class="hljs-comment">// 可以为上面提供String类型的参数</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">providePoems</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"只有意志坚强的人，才能到达彼岸"</span>;
    }
}
</code></pre>
<p>重新运行：</p>
<br>
<div class="image-package">
<img src="./Dagger2 使用详解 - 简书_files/004.png" data-original-src="http://o9qzkbu2x.bkt.clouddn.com/004.png?imageMogr2/auto-orient/thumbnail/400x" alt="运行结果" style="cursor: zoom-in;"><div class="image-caption">运行结果</div>
</div><div class="image-package">
<img src="./Dagger2 使用详解 - 简书_files/005.png" data-original-src="http://o9qzkbu2x.bkt.clouddn.com/005.png?imageMogr2/auto-orient/thumbnail/400x" alt="运行结果" style="cursor: zoom-in;"><div class="image-caption">运行结果</div>
</div><br>
<p>这时你会发现这两个Poetry实例是同一个实例来的，通过实现自定义@Scope注解，标记当前生成对象的使用范围，标识一个类型的注射器只实例化一次，在同一个作用域内，只会生成一个实例，然后在此作用域内共用一个实例。这样看起来很像单例模式，我们可以查看@Singleton其实就是@Scope的一个默认实现而已。当然，你得是同一个Component对象来生成，这点我们应该可以理解的吧。<br>
我们可以通过自定义Scope来组织Component的作用域，使得每个Component的作用域清晰明了，各施其职。</p>

<h3>组织Component</h3>
<p>我们在一个项目之中不可能只使用一个Component连接器来注入对象完成注入工作，一般除了一个全局的ApplicationComponent之外，还有一些作用域在Activity/Fragment的Component，Component之间存在依赖关系与从属关系。如果我们已经创建好了一个全局的ApplicationComponent，然后其它的Component刚好需要ApplicationComponent里面的一个全局属性，想要与ApplicationComponent共享同一个实例，这时就需要用到依赖关系了。</p>
<h4>依赖方式</h4>
<p>一个Component可以依赖一个或多个Component，并拿到被依赖Component暴露出来的实例，Component的<strong>dependencies</strong>属性就是确定依赖关系的实现。<br>
这里的有点像数学里面的交集方式，被依赖的Component主动暴露对象给二者共享，如我们在ApplicationModule提供了一个全局的Gson对象，我们想要提供给其他Component时，要在ApplicationComponent显式的提供一个接口:</p>
<pre class="hljs java"><code class="java"><span class="hljs-meta">@Module</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApplicationModule</span> </span>{

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@Provides</span> 注解表示这个方法是用来创建某个实例对象的，这里我们创建返回Gson对象
     * 方法名随便，一般用provideXXX结构
     * <span class="hljs-doctag">@return</span> 返回注入对象
     */</span>
    <span class="hljs-meta">@Singleton</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Gson <span class="hljs-title">provideGson</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Gson();
    }
}

<span class="hljs-meta">@Singleton</span>
<span class="hljs-meta">@Component</span>(modules = ApplicationModule.class)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ApplicationComponent</span> </span>{

    <span class="hljs-function">Gson <span class="hljs-title">getGson</span><span class="hljs-params">()</span></span>;<span class="hljs-comment">// 暴露Gson对象接口</span>
}
</code></pre>
<p>并在自定义的MainApplication中初始化它，更改MainComponent:</p>
<pre class="hljs java"><code class="java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainApplication</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Application</span> </span>{

    <span class="hljs-keyword">private</span> ApplicationComponent mApplicationComponent;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> MainApplication sApplication;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> MainApplication <span class="hljs-title">getInstance</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> sApplication;
    }
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate();
        sApplication = <span class="hljs-keyword">this</span>;

        mApplicationComponent = DaggerApplicationComponent.builder().build();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ApplicationComponent <span class="hljs-title">getApplicationComponent</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> mApplicationComponent;
    }
}

<span class="hljs-comment">//这里表示Component会从MainModule类中拿那些用@Provides注解的方法来生成需要注入的实例</span>
<span class="hljs-meta">@PoetryScope</span>
<span class="hljs-meta">@Component</span>(dependencies = ApplicationComponent.class, modules = {MainModule.class,PoetryModule.class})
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainComponent</span> </span>{

    <span class="hljs-comment">/**
     * 需要用到这个连接器的对象，就是这个对象里面有需要注入的属性
     * （被标记为<span class="hljs-doctag">@Inject</span>的属性）
     * 这里inject表示注入的意思，这个方法名可以随意更改，但建议就
     * 用inject即可。
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">inject</span><span class="hljs-params">(MainActivity activity)</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">inject</span><span class="hljs-params">(OtherActivity activity)</span></span>;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> MainComponent sComponent;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> MainComponent <span class="hljs-title">getInstance</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">if</span> (sComponent == <span class="hljs-keyword">null</span>){
            sComponent = DaggerMainComponent.builder()
                    .applicationComponent(MainApplication.getInstance()
                    .getApplicationComponent())
                    .build();
        }
        <span class="hljs-keyword">return</span> sComponent;
    }
}
</code></pre>
<p>这样就达到了MainComponent依赖ApplicationComponent。并且这里需要注意的是，MainComponent的作用域不能和ApplicationComponent的作用域一样，否则会报错，一般来讲，我们应该对每个Component都定义不同的作用域。</p>
<h4>包含方式（从属方式）@SubComponent</h4>
<p>如果我们需要父组件全部的提供对象，这时我们可以用包含方式而不是用依赖方式，相比于依赖方式，包含方式不需要父组件显式显露对象，就可以拿到父组件全部对象。且SubComponent只需要在父Component接口中声明就可以了。添加多一个AActivity,AComponent:</p>
<pre class="hljs java"><code class="java"><span class="hljs-meta">@Scope</span>
<span class="hljs-meta">@Retention</span>(RetentionPolicy.RUNTIME)
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> AScope {
}

<span class="hljs-meta">@Module</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AModule</span> </span>{

    <span class="hljs-meta">@AScope</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Poetry <span class="hljs-title">getPoetry</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Poetry(<span class="hljs-string">"万物美好"</span>);
    }
}

<span class="hljs-meta">@AScope</span>
<span class="hljs-meta">@Subcomponent</span>(modules = AModule.class)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">AComponent</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">inject</span><span class="hljs-params">(AActivity activity)</span></span>;
}

<span class="hljs-meta">@Singleton</span>
<span class="hljs-meta">@Component</span>(modules = ApplicationModule.class)
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ApplicationComponent</span> </span>{

    <span class="hljs-function">Gson <span class="hljs-title">getGson</span><span class="hljs-params">()</span></span>;<span class="hljs-comment">// 暴露Gson对象接口</span>

    <span class="hljs-comment">//AComponent plus();</span>
    <span class="hljs-function">AComponent <span class="hljs-title">plus</span><span class="hljs-params">(AModule <span class="hljs-keyword">module</span>)</span></span>;<span class="hljs-comment">//添加声明</span>
}


<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainApplication</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Application</span> </span>{

    <span class="hljs-keyword">private</span> ApplicationComponent mApplicationComponent;
    <span class="hljs-keyword">private</span> AComponent mAComponent;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> MainApplication sApplication;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> MainApplication <span class="hljs-title">getInstance</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> sApplication;
    }
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate();
        sApplication = <span class="hljs-keyword">this</span>;

        mApplicationComponent = DaggerApplicationComponent.builder().build();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> ApplicationComponent <span class="hljs-title">getApplicationComponent</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> mApplicationComponent;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> AComponent <span class="hljs-title">getAComponent</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (mAComponent == <span class="hljs-keyword">null</span>){
            mAComponent = mApplicationComponent.plus(<span class="hljs-keyword">new</span> AModule());
        }
        <span class="hljs-keyword">return</span> mAComponent;
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> </span>{
    TextView mTextView;

    <span class="hljs-meta">@Inject</span>
    Gson mGson;

    <span class="hljs-meta">@Inject</span>
    Poetry mPoetry;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_a);

        MainApplication.getInstance()
                .getAComponent()
                .inject(<span class="hljs-keyword">this</span>);

        mTextView = (TextView) findViewById(R.id.text);
        String text = mPoetry.getPoems()+<span class="hljs-string">",mPoetry:"</span>+mPoetry+(mGson == <span class="hljs-keyword">null</span> ? <span class="hljs-string">"Gson没被注入"</span> : <span class="hljs-string">"Gson已经被注入"</span>);
        mTextView.setText(text);
    }
}
</code></pre>
<p>最后我们在OtherActivity中添加一个按钮跳转到AActivity，运行结果如下:</p>
<br>
<div class="image-package">
<img src="./Dagger2 使用详解 - 简书_files/008.png" data-original-src="http://o9qzkbu2x.bkt.clouddn.com/008.png?imageMogr2/auto-orient/thumbnail/500x" alt="运行结果" style="cursor: zoom-in;"><div class="image-caption">运行结果</div>
</div>
<h3>@Qualifier</h3>
<p>假如在上面的AActivity里面我们想要注入两个不同的Poetry(指peoms不一样)实例，我们可以在AModule下添加多一个生成Poetry的方法:</p>
<pre class="hljs java"><code class="java"><span class="hljs-meta">@Module</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AModule</span> </span>{

    <span class="hljs-meta">@AScope</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Poetry <span class="hljs-title">getPoetry</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Poetry(<span class="hljs-string">"万物美好"</span>);
    }
    
    <span class="hljs-meta">@AScope</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Poetry <span class="hljs-title">getOtherPoetry</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Poetry(<span class="hljs-string">"我在中间"</span>);
    }
}
</code></pre>
<p>但是直接这样做Dagger2是无法区分调用哪个方法生成Poetry实例的，这个时候就需要自定义@Qualifier限定符来匹配注入方法了，添加一个自定义Qualifier并修AMoudule，AActivity:</p>
<pre class="hljs java"><code class="java"><span class="hljs-meta">@Qualifier</span>
<span class="hljs-meta">@Documented</span>
<span class="hljs-meta">@Retention</span>(RetentionPolicy.RUNTIME)
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> PoetryQualifier {
    <span class="hljs-function">String <span class="hljs-title">value</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> ""</span>;
}

<span class="hljs-meta">@Module</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AModule</span> </span>{

    <span class="hljs-meta">@PoetryQualifier</span>(<span class="hljs-string">"A"</span>)
    <span class="hljs-meta">@AScope</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Poetry <span class="hljs-title">getPoetry</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Poetry(<span class="hljs-string">"万物美好"</span>);
    }

    <span class="hljs-meta">@PoetryQualifier</span>(<span class="hljs-string">"B"</span>)
    <span class="hljs-meta">@AScope</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Poetry <span class="hljs-title">getOtherPoetry</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Poetry(<span class="hljs-string">"我在中间"</span>);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> </span>{
    TextView mTextView;

    <span class="hljs-meta">@Inject</span>
    Gson mGson;

    <span class="hljs-comment">// 匹配Module中同样注解的方法</span>
    <span class="hljs-meta">@PoetryQualifier</span>(<span class="hljs-string">"A"</span>)
    <span class="hljs-meta">@Inject</span>
    Poetry mPoetry;
    
    <span class="hljs-comment">// 匹配Module中同样注解的方法</span>
    <span class="hljs-meta">@PoetryQualifier</span>(<span class="hljs-string">"B"</span>)
    <span class="hljs-meta">@Inject</span>
    Poetry mPoetryB;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_a);

        MainApplication.getInstance()
                .getAComponent()
                .inject(<span class="hljs-keyword">this</span>);

        mTextView = (TextView) findViewById(R.id.text);
        String text = mPoetry.getPoems()+<span class="hljs-string">",mPoetryA:"</span>+mPoetry+
                mPoetryB.getPoems()+<span class="hljs-string">",mPoetryB:"</span>+mPoetryB+
                (mGson == <span class="hljs-keyword">null</span> ? <span class="hljs-string">"Gson没被注入"</span> : <span class="hljs-string">"Gson已经被注入"</span>);
        mTextView.setText(text);
    }
}
</code></pre>
<p>重新编译运行：</p>
<br>
<div class="image-package">
<img src="./Dagger2 使用详解 - 简书_files/009.png" data-original-src="http://o9qzkbu2x.bkt.clouddn.com/009.png?imageMogr2/auto-orient/thumbnail/500x" alt="运行结果" style="cursor: zoom-in;"><div class="image-caption">运行结果</div>
</div><br>
<p>而Dagger2已经默认帮我们实现了一个@Named:</p>

<pre class="hljs java"><code class="java"><span class="hljs-meta">@Qualifier</span>
<span class="hljs-meta">@Documented</span>
<span class="hljs-meta">@Retention</span>(RUNTIME)
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Named {

    <span class="hljs-comment">/** The name. */</span>
    <span class="hljs-function">String <span class="hljs-title">value</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> ""</span>;
}
</code></pre>
<p>跟我们自定义的PoetryQualifier其实是一样的。</p>
<h3>后记</h3>
<p>这篇是我参考了其他文章之后自己又重新总结一遍的，错误之处请帮忙指出，大家一起进步。除了以上常用到的注解之外，Dagger还提供了其他一些注解，如Set，Map类的注解，具体可以参考以下文章。</p>
<h3>参考</h3>
<p><a href="https://link.jianshu.com/?t=https://github.com/luxiaoming/dagger2Demo" target="_blank" rel="nofollow">Dagger2图文完全教程</a><br>
<a href="https://www.jianshu.com/p/01d3c014b0b1" target="_blank">Google官方MVP+Dagger2架构详解【从零开始搭建android框架系列（6）】</a><br>
<a href="https://www.jianshu.com/p/cd2c1c9f68d4" target="_blank">Android：dagger2让你爱不释手-基础依赖注入框架篇</a><br>
<a href="https://www.jianshu.com/p/1d42d2e6f4a5" target="_blank">Android：dagger2让你爱不释手-重点概念讲解、融合篇</a><br>
<a href="https://www.jianshu.com/p/65737ac39c44" target="_blank">Android：dagger2让你爱不释手-终结篇</a><br>
<a href="https://www.jianshu.com/p/8fd84680939c" target="_blank">Android:Dagger2学习之由浅入深</a></p>
<h3>Demo地址</h3>
<p><a href="https://link.jianshu.com/?t=https://github.com/EvilBT/-Dagger2Demo" target="_blank" rel="nofollow">https://github.com/EvilBT/-Dagger2Demo</a></p>

        </div>
        <!--  -->

        <div class="show-foot">
          <a class="notebook" href="https://www.jianshu.com/nb/5007822">
            <i class="iconfont ic-search-notebook"></i>
            <span>Android</span>
</a>          <div class="copyright" data-toggle="tooltip" data-html="true" data-original-title="转载请联系作者获得授权，并标注“简书作者”。">
            © 著作权归作者所有
          </div>
          <div class="modal-wrap" data-report-note="">
            <a id="report-modal">举报文章</a>
          </div>
        </div>
    </div>

    <!-- 文章底部作者信息 -->
      <div class="follow-detail">
        <div class="info">
          <a class="avatar" href="https://www.jianshu.com/u/8e523dd140ee">
            <img src="./Dagger2 使用详解 - 简书_files/3ae64fc7949f.jpg" alt="96">
</a>          <a class="btn btn-success follow"><i class="iconfont ic-follow"></i><span>关注</span></a>
          <a class="title" href="https://www.jianshu.com/u/8e523dd140ee">zpayh</a>
          
            <i class="iconfont ic-man"></i>
        <p>写了 6205 字，被 42 人关注，获得了 92 个喜欢</p></div>
          <div class="signature">个人博客地址:http://sherlockzp.cn</div>
      </div>

      <div class="support-author"><p>给我继续写博客的动力吧，喝瓶怡宝</p> <div class="btn btn-pay">赞赏支持</div> <div class="supporter"><ul class="support-list"><li><a target="_blank" href="https://www.jianshu.com/u/3a7a079ea703" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/6-fd30f34c8641f6f32f5494df5d6b8f3c.jpg"></a></li></ul> <!----></div> <!----> <!----></div>

    <div class="meta-bottom">
      <div class="like"><div class="btn like-group"><div class="btn-like"><a href="https://www.jianshu.com/sign_in?utm_source=desktop&amp;utm_medium=not-signed-in-like-button"><i class="iconfont ic-like"></i>喜欢</a></div> <div class="modal-wrap"><a>73</a></div></div> <!----></div>
      <div class="share-group">
        <a class="share-circle" data-action="weixin-share" data-toggle="tooltip" data-original-title="分享到微信">
          <i class="iconfont ic-wechat"></i>
        </a>
        <a class="share-circle" data-action="weibo-share" data-toggle="tooltip" href="javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f=&#39;http://v.t.sina.com.cn/share/share.php?appkey=1881139527&#39;,u=z||d.location,p=[&#39;&amp;url=&#39;,e(u),&#39;&amp;title=&#39;,e(t||d.title),&#39;&amp;source=&#39;,e(r),&#39;&amp;sourceUrl=&#39;,e(l),&#39;&amp;content=&#39;,c||&#39;gb2312&#39;,&#39;&amp;pic=&#39;,e(p||&#39;&#39;)].join(&#39;&#39;);function%20a(){if(!window.open([f,p].join(&#39;&#39;),&#39;mb&#39;,[&#39;toolbar=0,status=0,resizable=1,width=440,height=430,left=&#39;,(s.width-440)/2,&#39;,top=&#39;,(s.height-430)/2].join(&#39;&#39;)))u.href=[f,p].join(&#39;&#39;);};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,&#39;&#39;,&#39;&#39;,&#39;&#39;, &#39;推荐 zpayh 的文章《Dagger2 使用详解》（ 分享自 @简书 ）&#39;,&#39;https://www.jianshu.com/p/94d47da32656?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=weibo&#39;,&#39;页面编码gb2312|utf-8默认gb2312&#39;));" data-original-title="分享到微博">
          <i class="iconfont ic-weibo"></i>
        </a>
          <a class="share-circle" data-toggle="tooltip" href="http://cwb.assets.jianshu.io/notes/images/4692528/weibo/image_98b531c5687f.jpg" target="_blank" data-original-title="下载长微博图片">
            <i class="iconfont ic-picture"></i>
          </a>
        <a class="share-circle more-share" tabindex="0" data-toggle="popover" data-placement="top" data-html="true" data-trigger="focus" href="javascript:void(0);" data-content="
          &lt;ul class=&quot;share-list&quot;&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=&#39;+e(&#39;https://www.jianshu.com/p/94d47da32656?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=qzone&#39;)+&#39;&amp;title=&#39;+e(&#39;推荐 zpayh 的文章《Dagger2 使用详解》&#39;),x=function(){if(!window.open(r,&#39;qzone&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-zone&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到QQ空间&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://twitter.com/share?url=&#39;+e(&#39;https://www.jianshu.com/p/94d47da32656?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=twitter&#39;)+&#39;&amp;text=&#39;+e(&#39;推荐 zpayh 的文章《Dagger2 使用详解》（ 分享自 @jianshucom ）&#39;)+&#39;&amp;related=&#39;+e(&#39;jianshucom&#39;),x=function(){if(!window.open(r,&#39;twitter&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-twitter&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到Twitter&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://www.facebook.com/dialog/share?app_id=483126645039390&amp;display=popup&amp;href=https://www.jianshu.com/p/94d47da32656?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=facebook&#39;,x=function(){if(!window.open(r,&#39;facebook&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-facebook&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到Facebook&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://plus.google.com/share?url=&#39;+e(&#39;https://www.jianshu.com/p/94d47da32656?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=google_plus&#39;),x=function(){if(!window.open(r,&#39;google_plus&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-google&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到Google+&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
            &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,s1=window.getSelection,s2=d.getSelection,s3=d.selection,s=s1?s1():s2?s2():s3?s3.createRange().text:&#39;&#39;,r=&#39;http://www.douban.com/recommend/?url=&#39;+e(&#39;https://www.jianshu.com/p/94d47da32656?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=douban&#39;)+&#39;&amp;title=&#39;+e(&#39;Dagger2 使用详解&#39;)+&#39;&amp;sel=&#39;+e(s)+&#39;&amp;v=1&#39;,x=function(){if(!window.open(r,&#39;douban&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r+&#39;&amp;r=1&#39;};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})()&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-douban&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到豆瓣&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
          &lt;/ul&gt;
        " data-original-title="" title="">更多分享</a>
      </div>
    </div>
      <a id="web-note-ad-1" target="_blank" href="https://www.jianshu.com/apps/download?utm_source=nbc"><img src="./Dagger2 使用详解 - 简书_files/web-note-ad-1-10f08e404d3887d2d45a4bc8f1831403.png" alt="Web note ad 1"></a>
    <div><div id="comment-list" class="comment-list"><div><form class="new-comment"><a class="avatar"><img src="./Dagger2 使用详解 - 简书_files/avatar_default-78d4d1f68984cd6d4379508dd94b4210.png"></a> <div class="sign-container"><a href="https://www.jianshu.com/sign_in?utm_source=desktop&amp;utm_medium=not-signed-in-comment-form" class="btn btn-sign">登录</a> <span>后发表评论</span></div></form> <!----></div> <div id="normal-comment-list" class="normal-comment-list"><div><div><div class="top-title"><span>84条评论</span> <a class="author-only">只看作者</a> <a class="close-btn" style="display: none;">关闭评论</a> <div class="pull-right"><a class="active">按喜欢排序</a><a class="">按时间正序</a><a class="">按时间倒序</a></div></div></div> <!----> <!----> <div class="comments-placeholder" style="display: none;"><div class="author"><div class="avatar"></div> <div class="info"><div class="name"></div> <div class="meta"></div></div></div> <div class="text"></div> <div class="text animation-delay"></div> <div class="tool-group"><i class="iconfont ic-zan-active"></i><div class="zan"></div> <i class="iconfont ic-list-comments"></i><div class="zan"></div></div></div> <div id="comment-3024826" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/68a9b808c748" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/3c2b88d7a9d2.jpg"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/68a9b808c748" target="_blank" class="name">Euterpe</a> <!----> <!----> <div class="meta"><span>2楼 · 2016.07.07 08:28</span></div></div></div> <div class="comment-wrap"><p>讲解得不错   感谢投稿</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>1人赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list"><div id="comment-3038115" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/68a9b808c748" class="maleskine-author" target="_blank" data-user-slug="68a9b808c748">@Euterpe</a> 谢谢支持</span></p> <div class="sub-tool-group"><span>2016.07.08 09:38</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div> <div class="sub-comment more-comment"><a class="add-comment-btn"><i class="iconfont ic-subcomment"></i> <span>添加新评论</span></a> <!----> <!----> <!----></div> <!----></div></div><div id="comment-5534457" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/bd9ecbe52bee" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/ce0a1b1304a2"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/bd9ecbe52bee" target="_blank" class="name">时间在渗透</a> <!----> <!----> <div class="meta"><span>9楼 · 2016.11.10 10:43</span></div></div></div> <div class="comment-wrap"><p>非常不错，看我之后已明白了Dagger的基本使用了...感谢</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>1人赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list"><div id="comment-5542369" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/bd9ecbe52bee" class="maleskine-author" target="_blank" data-user-slug="bd9ecbe52bee">@时间在渗透</a> 最好也去看看我后面给的参考链接，他们写的更加透彻 <img src="./Dagger2 使用详解 - 简书_files/yum.png" alt=":yum:" title=":yum:" class="emoji" width="20" height="20"> </span></p> <div class="sub-tool-group"><span>2016.11.10 16:39</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div><div id="comment-5636983" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/bd9ecbe52bee" target="_blank">时间在渗透</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/8e523dd140ee" class="maleskine-author" target="_blank" data-user-slug="8e523dd140ee">@zpayh</a> 好的， <img src="./Dagger2 使用详解 - 简书_files/+1.png" alt=":+1:" title=":+1:" class="emoji" width="20" height="20"> </span></p> <div class="sub-tool-group"><span>2016.11.14 15:11</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div> <div class="sub-comment more-comment"><a class="add-comment-btn"><i class="iconfont ic-subcomment"></i> <span>添加新评论</span></a> <!----> <!----> <!----></div> <!----></div></div><div id="comment-8580975" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/9efb387f0860" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/cbee03c7-a61a-4054-a527-a5e27bb477c8.jpg"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/9efb387f0860" target="_blank" class="name">阿V很简单</a> <!----> <!----> <div class="meta"><span>13楼 · 2017.03.04 15:07</span></div></div></div> <div class="comment-wrap"><p>通俗易懂,谢谢</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>1人赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list"><div id="comment-8581049" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/9efb387f0860" class="maleskine-author" target="_blank" data-user-slug="9efb387f0860">@阿V很简单</a> 不客气，谢谢点赞</span></p> <div class="sub-tool-group"><span>2017.03.04 15:10</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div> <div class="sub-comment more-comment"><a class="add-comment-btn"><i class="iconfont ic-subcomment"></i> <span>添加新评论</span></a> <!----> <!----> <!----></div> <!----></div></div><div id="comment-3280836" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/3a7a079ea703" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/6-fd30f34c8641f6f32f5494df5d6b8f3c(1).jpg"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/3a7a079ea703" target="_blank" class="name">suxm</a> <!----> <!----> <div class="meta"><span>3楼 · 2016.07.25 18:25</span></div></div></div> <div class="comment-wrap"><p>写的不错,看了一些,迷糊了,楼主思路很清晰</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list"><div id="comment-3289077" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/3a7a079ea703" class="maleskine-author" target="_blank" data-user-slug="3a7a079ea703">@suxm</a> 谢谢，可以参考后面给出的参考</span></p> <div class="sub-tool-group"><span>2016.07.26 09:04</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div> <div class="sub-comment more-comment"><a class="add-comment-btn"><i class="iconfont ic-subcomment"></i> <span>添加新评论</span></a> <!----> <!----> <!----></div> <!----></div></div><div id="comment-3697434" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/d0856f01471d" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/3-9a2bcc21a5d89e21dafc73b39dc5f582.jpg"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/d0856f01471d" target="_blank" class="name">罗雄文</a> <!----> <!----> <div class="meta"><span>4楼 · 2016.08.18 11:02</span></div></div></div> <div class="comment-wrap"><p>我照抄了你的代码来运行，在“依赖方式”的代码就编译出错了。<br>Error:(12, 26) 错误: com.google.gson.Gson is bound multiple times:<br>com.google.gson.Gson com.gmail.luoxwen.trydagger2.ApplicationComponent.getGson()<br>@Provides com.google.gson.Gson com.gmail.luoxwen.trydagger2.MainModule.provideGson()<br>Error:(14, 26) 错误: com.google.gson.Gson is bound multiple times:<br>com.google.gson.Gson com.gmail.luoxwen.trydagger2.ApplicationComponent.getGson()<br>@Provides com.google.gson.Gson com.gmail.luoxwen.trydagger2.MainModule.provideGson()<br>这是哪里出错了？</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list"><div id="comment-3699636" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/d0856f01471d" class="maleskine-author" target="_blank" data-user-slug="d0856f01471d">@罗雄文</a> Gson is bound multiple times被多次绑定了，你看下同一个Component下有没有多个返回Gson的方法，如果有的话，一般要加上自定义@Qualifier，@Named之类的，我上面的例子都是一步一步运行过的，你应该是少写了或者多写了，你检查一下返回Gson的方法</span></p> <div class="sub-tool-group"><span>2016.08.18 13:08</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div><div id="comment-6555984" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/670761ab7280" target="_blank">其实就是天蝎座的天蝎座</a>：
            </div> <!----></div> <span>感谢作者的分享，这个问题确实是被绑定了多次，在MainComponent中 modules既有MainModule.class 同时 dependencies 也有ApplicationComponent.class所以会绑定了两次，去掉MainModule.class就ok了</span></p> <div class="sub-tool-group"><span>2016.12.20 17:22</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div><div id="comment-6556039" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/670761ab7280" class="maleskine-author" target="_blank" data-user-slug="670761ab7280">@其实就是天蝎座的天蝎座</a> 不客气~</span></p> <div class="sub-tool-group"><span>2016.12.20 17:25</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div> <div class="sub-comment more-comment"><a class="add-comment-btn"><i class="iconfont ic-subcomment"></i> <span>添加新评论</span></a> <span class="line-warp">
          还有6条评论，
          <a>展开查看</a></span> <!----> <!----></div> <!----></div></div><div id="comment-4165882" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/f9801a9f64e9" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/9-cceda3cf5072bcdd77e8ca4f21c40998.jpg"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/f9801a9f64e9" target="_blank" class="name">24k纯野生</a> <!----> <!----> <div class="meta"><span>5楼 · 2016.09.13 11:56</span></div></div></div> <div class="comment-wrap"><p>Error:(14, 17) 错误: com.example.wjc.demo.DemoAdapter is listed as a module, but is not annotated with @Module <br><br>这是因为什么</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list"><div id="comment-4165944" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/f9801a9f64e9" class="maleskine-author" target="_blank" data-user-slug="f9801a9f64e9">@24k纯野生</a> 额，翻译一下，你是不是少加了@Module</span></p> <div class="sub-tool-group"><span>2016.09.13 11:59</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div><div id="comment-4166079" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/f9801a9f64e9" target="_blank">24k纯野生</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/8e523dd140ee" class="maleskine-author" target="_blank" data-user-slug="8e523dd140ee">@zpayh</a> 额已解决- -。。粗心了</span></p> <div class="sub-tool-group"><span>2016.09.13 12:06</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div> <div class="sub-comment more-comment"><a class="add-comment-btn"><i class="iconfont ic-subcomment"></i> <span>添加新评论</span></a> <!----> <!----> <!----></div> <!----></div></div><div id="comment-4304954" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/ecffa7e453dd" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/d3f50792410f.jpg"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/ecffa7e453dd" target="_blank" class="name">尘_屠</a> <!----> <!----> <div class="meta"><span>6楼 · 2016.09.20 17:32</span></div></div></div> <div class="comment-wrap"><p>对照敲了一遍代码，然后看了3回你的文章才明白....太笨了，写的很详细，但是dagger真心麻烦....</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list"><div id="comment-4305016" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/ecffa7e453dd" class="maleskine-author" target="_blank" data-user-slug="ecffa7e453dd">@壹分Orz</a> 主要是我上传的代码是最终版的，你如果不照着仔细看敲下来的话可能有些会出错，理解了可以去看我后面分享的大神写的文章，加深理解</span></p> <div class="sub-tool-group"><span>2016.09.20 17:35</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div> <div class="sub-comment more-comment"><a class="add-comment-btn"><i class="iconfont ic-subcomment"></i> <span>添加新评论</span></a> <!----> <!----> <!----></div> <!----></div></div><div id="comment-4305210" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/ecffa7e453dd" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/d3f50792410f.jpg"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/ecffa7e453dd" target="_blank" class="name">尘_屠</a> <!----> <!----> <div class="meta"><span>7楼 · 2016.09.20 17:45</span></div></div></div> <div class="comment-wrap"><p>你这是强行圈粉》。。。。。好吧，我去...差点就从入门到放弃了......</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list hide"><!----> <!----></div></div><div id="comment-4801602" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/d8fa6db7b933" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/9066c594e40f.jpg"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/d8fa6db7b933" target="_blank" class="name">王小追</a> <!----> <!----> <div class="meta"><span>8楼 · 2016.10.13 17:11</span></div></div></div> <div class="comment-wrap"><p>请教你一个问题：<br>我在Module中将一个提供实例的方法A用自定义@Qualifier注解，然后Module中的提供实例的B方法的参数有用到A提供的实例。接着我在Component中暴露A、B方法，A方法同样用该自定义@Qualifier注解，编译时提示cannot be provided without an @Inject constructor or from an @Provides-annotated method.原因是因为暴露的B方法找不到它要是参数实例，也就是A方法提供的实例，可我在Module中明明有写A方法来提供这个实例，这是为什么？我将Module、Component中的自定义@Qualifier去掉或者给A实例的类型的构造方法加上@Inject，就能正常编译了，奇怪！</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list"><div id="comment-4925757" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/d8fa6db7b933" class="maleskine-author" target="_blank" data-user-slug="d8fa6db7b933">@王小追</a> 参数中包含带@Qualifier的类型的好像是无法找到参数实例的，被你@Qualifier的参数一般是无法出现在方法参数里面的，不知道我有没有理解错</span></p> <div class="sub-tool-group"><span>2016.10.18 18:12</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div><div id="comment-4928252" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/d8fa6db7b933" target="_blank">王小追</a>：
            </div> <!----></div> <span> <a href="https://www.jianshu.com/users/8e523dd140ee" class="maleskine-author" target="_blank" data-user-slug="8e523dd140ee">@zpayh</a> 如果是这样的话，还能说的通，我再捣鼓捣鼓，谢谢啦</span></p> <div class="sub-tool-group"><span>2016.10.18 19:38</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div> <div class="sub-comment more-comment"><a class="add-comment-btn"><i class="iconfont ic-subcomment"></i> <span>添加新评论</span></a> <!----> <!----> <!----></div> <!----></div></div><div id="comment-5753464" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/904a91e9ca01" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/6dfa420032bd"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/904a91e9ca01" target="_blank" class="name">OneBelowZero</a> <!----> <!----> <div class="meta"><span>10楼 · 2016.11.18 16:18</span></div></div></div> <div class="comment-wrap"><p>感谢楼主 现在请教一个问题 怎么动态切换baseUrl呢？</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list"><div id="comment-5804554" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/904a91e9ca01" class="maleskine-author" target="_blank" data-user-slug="904a91e9ca01">@OneBelowZero</a> 貌似直接动态切换是不行的吧，我也试过想动态更新BaseUrl，结果报错，说要为final类型的。</span></p> <div class="sub-tool-group"><span>2016.11.20 16:58</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div><div id="comment-5805852" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/904a91e9ca01" target="_blank">OneBelowZero</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/8e523dd140ee" class="maleskine-author" target="_blank" data-user-slug="8e523dd140ee">@zpayh</a> 蛋疼啊 已经用了 现在有三个baseurl切换</span></p> <div class="sub-tool-group"><span>2016.11.20 17:56</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div><div id="comment-5812052" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/904a91e9ca01" target="_blank">OneBelowZero</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/8e523dd140ee" class="maleskine-author" target="_blank" data-user-slug="8e523dd140ee">@zpayh</a> 其实是可以的 已经解决了 Retrofit post全新的url替换就可以 但是Retrofit 请求的时候注意后台返回内容格式 如果是 text/html 的话 直接返回String回报错 返回object就没问题了 不过还是感谢楼主</span></p> <div class="sub-tool-group"><span>2016.11.20 22:08</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div> <div class="sub-comment more-comment"><a class="add-comment-btn"><i class="iconfont ic-subcomment"></i> <span>添加新评论</span></a> <span class="line-warp">
          还有2条评论，
          <a>展开查看</a></span> <!----> <!----></div> <!----></div></div><div id="comment-5832806" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/2b3fa3a63231" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/47ca7cf11ceb"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/2b3fa3a63231" target="_blank" class="name">2b3fa3a63231</a> <!----> <!----> <div class="meta"><span>11楼 · 2016.11.21 17:42</span></div></div></div> <div class="comment-wrap"><p>非常不错，受教了。只是有个问题不明白，MainComponent的 public abstract void inject(MainActivity activity);把参数Mainactivity改为AActivity会报错</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list"><div id="comment-5839348" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/2b3fa3a63231" class="maleskine-author" target="_blank" data-user-slug="2b3fa3a63231">@2b3fa3a63231</a> 不太明白你的意思，或者说AActivity本身有没有其他注入来源？一个类不能同时接受多个Component注入的，最关键的一点，就是你要多想想此类的成员如何从Component中获取，会不会有歧义发生</span></p> <div class="sub-tool-group"><span>2016.11.21 22:02</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div><div id="comment-5887327" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/2b3fa3a63231" target="_blank">2b3fa3a63231</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/8e523dd140ee" class="maleskine-author" target="_blank" data-user-slug="8e523dd140ee">@zpayh</a>  <img src="./Dagger2 使用详解 - 简书_files/clap.png" alt=":clap:" title=":clap:" class="emoji" width="20" height="20"> 你说的没错，是这个原因。例子和你的一样，只不过将Acomponent的注入换成MainActivity。是否Acomponent从属和MainComponent依赖于ApplicationComponent后，两者产生了联系？还有就是我在module里产生一个对象，其有两个相同类型的参数，该怎么处理</span></p> <div class="sub-tool-group"><span>2016.11.23 17:37</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div><div id="comment-5889947" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/2b3fa3a63231" class="maleskine-author" target="_blank" data-user-slug="2b3fa3a63231">@2b3fa3a63231</a> 好像是没办法，尽量避免，这个暂时我不知道如何解决，@Qualifier限定符又不能放在参数里面，Dagger2无法找到匹配的那个</span></p> <div class="sub-tool-group"><span>2016.11.23 19:36</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div> <div class="sub-comment more-comment"><a class="add-comment-btn"><i class="iconfont ic-subcomment"></i> <span>添加新评论</span></a> <span class="line-warp">
          还有1条评论，
          <a>展开查看</a></span> <!----> <!----></div> <!----></div></div><div id="comment-7852997" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/842f235d2458" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/79cfc1ff806e"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/842f235d2458" target="_blank" class="name">hqzxzwb</a> <!----> <!----> <div class="meta"><span>12楼 · 2017.02.09 17:02</span></div></div></div> <div class="comment-wrap"><p>浏览了几篇文章，看到这一篇总算明白一些了。<br>另外目前annotationProcessor已经在android gradle plugin直接支持了。使用<br>annotationProcessor 'com.google.dagger:dagger-compiler:2.0'<br>引入即可。<br>不再需要引入android-apt这个plugin。</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list"><div id="comment-7854542" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span>是么？谢谢哈，我也不知道，多谢提醒<img src="./Dagger2 使用详解 - 简书_files/kissing_heart.png" alt=":kissing_heart:" title=":kissing_heart:" class="emoji" width="20" height="20"> </span></p> <div class="sub-tool-group"><span>2017.02.09 17:51</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div> <div class="sub-comment more-comment"><a class="add-comment-btn"><i class="iconfont ic-subcomment"></i> <span>添加新评论</span></a> <!----> <!----> <!----></div> <!----></div></div><div id="comment-9236144" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/7f484f793cc2" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/2b9aca40e38a.jpg"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/7f484f793cc2" target="_blank" class="name">suit_liu</a> <!----> <!----> <div class="meta"><span>14楼 · 2017.03.21 15:39</span></div></div></div> <div class="comment-wrap"><p>受教了，理解深刻</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list"><div id="comment-9239778" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/7f484f793cc2" class="maleskine-author" target="_blank" data-user-slug="7f484f793cc2">@小开伴儿</a> 您的每个评论都是作者写博客的动力哈，谢谢</span></p> <div class="sub-tool-group"><span>2017.03.21 17:29</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div> <div class="sub-comment more-comment"><a class="add-comment-btn"><i class="iconfont ic-subcomment"></i> <span>添加新评论</span></a> <!----> <!----> <!----></div> <!----></div></div><div id="comment-9389314" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/fe5a9caf5191" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/7bb8cc2c4d9a"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/fe5a9caf5191" target="_blank" class="name">stareme</a> <!----> <!----> <div class="meta"><span>15楼 · 2017.03.25 21:36</span></div></div></div> <div class="comment-wrap"><p>通谷易懂，感谢楼主分享，感觉大部分都理解了， 就差实践了。<br>开头引入apt有点问题，现在都是直接dependencies  里"annotationProcessor 'com.google.dagger:dagger-compiler:2.0'"，没apt啥事了</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list"><div id="comment-9389653" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/fe5a9caf5191" class="maleskine-author" target="_blank" data-user-slug="fe5a9caf5191">@stareme</a> 嗯嗯，更开头已经更新了，毕竟文章写于以前，那时还是在用apt的，谢谢</span></p> <div class="sub-tool-group"><span>2017.03.25 21:44</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div> <div class="sub-comment more-comment"><a class="add-comment-btn"><i class="iconfont ic-subcomment"></i> <span>添加新评论</span></a> <!----> <!----> <!----></div> <!----></div></div><div id="comment-11642711" class="comment"><div><div class="author"><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/96dd6ba4e672" target="_blank" class="avatar"><img src="./Dagger2 使用详解 - 简书_files/1c1e3db97b09"></a>  </div> <!----></div> <div class="info"><a href="https://www.jianshu.com/u/96dd6ba4e672" target="_blank" class="name">准备流浪的雪</a> <!----> <!----> <div class="meta"><span>16楼 · 2017.06.09 11:22</span></div></div></div> <div class="comment-wrap"><p>楼主么么哒</p> <div class="tool-group"><a class=""><i class="iconfont ic-zan"></i> <span>赞</span></a> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div></div> <div class="sub-comment-list"><div id="comment-11744994" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span>嘟嘟么么哒</span></p> <div class="sub-tool-group"><span>2017.06.12 20:27</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div><div id="comment-13280554" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/5c6b64a35685" target="_blank">青春不迷茫_Lee</a>：
            </div> <!----></div> <span>楼主写的很全面，很不错，。希望再来一篇实际项目的集成使用，配合 MVP<br></span></p> <div class="sub-tool-group"><span>2017.07.27 09:52</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div><div id="comment-13296809" class="sub-comment"><p><div data-v-f3bf5228="" class="v-tooltip-container" style="z-index: 0;"><div class="v-tooltip-content"><a href="https://www.jianshu.com/u/8e523dd140ee" target="_blank">zpayh</a>：
            </div> <!----></div> <span><a href="https://www.jianshu.com/users/5c6b64a35685" class="maleskine-author" target="_blank" data-user-slug="5c6b64a35685">@青春不迷茫_Lee</a> <a href="https://github.com/MindorksOpenSource/android-mvp-architecture" rel="nofollow" target="_blank">https://github.com/MindorksOpenSource/android-mvp-architecture</a> 看这个MVP架构吧，我目前正在用它的，用起来很爽</span></p> <div class="sub-tool-group"><span>2017.07.27 17:59</span> <a class=""><i class="iconfont ic-comment"></i> <span>回复</span></a> <!----> <!----></div></div> <div class="sub-comment more-comment"><a class="add-comment-btn"><i class="iconfont ic-subcomment"></i> <span>添加新评论</span></a> <span class="line-warp">
          还有20条评论，
          <a>展开查看</a></span> <!----> <!----></div> <!----></div></div></div></div> <!----> <div><ul class="pagination"><!---->  <li><a href="javascript:void(null)" class="active">1</a></li> <li><a>2</a></li> <li><a>下一页</a></li></ul></div></div></div>
  </div>

  <div class="side-tool"><ul><li data-placement="left" data-toggle="tooltip" data-container="body" data-original-title="回到顶部" style=""><a class="function-button"><i class="iconfont ic-backtop"></i></a></li> <!----> <!----> <li data-placement="left" data-toggle="tooltip" data-container="body" data-original-title="分享文章"><a tabindex="0" role="button" data-toggle="popover" data-placement="left" data-html="true" data-trigger="focus" href="javascript:void(0);" data-content="&lt;ul class=&#39;share-list&#39;&gt;
                &lt;li&gt;&lt;a class=&quot;weixin-share&quot;&gt;&lt;i class=&quot;social-icon-sprite social-icon-weixin&quot;&gt;&lt;/i&gt;&lt;span&gt;分享到微信&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f=&#39;http://v.t.sina.com.cn/share/share.php?appkey=1881139527&#39;,u=z||d.location,p=[&#39;&amp;url=&#39;,e(u),&#39;&amp;title=&#39;,e(t||d.title),&#39;&amp;source=&#39;,e(r),&#39;&amp;sourceUrl=&#39;,e(l),&#39;&amp;content=&#39;,c||&#39;gb2312&#39;,&#39;&amp;pic=&#39;,e(p||&#39;&#39;)].join(&#39;&#39;);function%20a(){if(!window.open([f,p].join(&#39;&#39;),&#39;mb&#39;,[&#39;toolbar=0,status=0,resizable=1,width=440,height=430,left=&#39;,(s.width-440)/2,&#39;,top=&#39;,(s.height-430)/2].join(&#39;&#39;)))u.href=[f,p].join(&#39;&#39;);};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,&#39;&#39;,&#39;&#39;,&#39;&#39;, &#39;推荐 zpayh 的文章《Dagger2 使用详解》（ 分享自 @简书 ）&#39;,&#39;https://www.jianshu.com/p/94d47da32656?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=weibo&#39;,&#39;页面编码gb2312|utf-8默认gb2312&#39;));&quot;&gt;&lt;i class=&#39;social-icon-sprite social-icon-weibo&#39;&gt;&lt;/i&gt;&lt;span&gt;分享到微博&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                
                &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=&#39;+e(&#39;https://www.jianshu.com/p/94d47da32656?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=qzone&#39;)+&#39;&amp;title=&#39;+e(&#39;推荐 zpayh 的文章《Dagger2 使用详解》&#39;),x=function(){if(!window.open(r,&#39;qzone&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&#39;social-icon-sprite social-icon-zone&#39;&gt;&lt;/i&gt;&lt;span&gt;分享到QQ空间&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://twitter.com/share?url=&#39;+e(&#39;https://www.jianshu.com/p/94d47da32656?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=twitter&#39;)+&#39;&amp;text=&#39;+e(&#39;推荐 zpayh 的文章《Dagger2 使用详解》（ 分享自 @jianshucom ）&#39;)+&#39;&amp;related=&#39;+e(&#39;jianshucom&#39;),x=function(){if(!window.open(r,&#39;twitter&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=600,height=600&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&#39;social-icon-sprite social-icon-twitter&#39;&gt;&lt;/i&gt;&lt;span&gt;分享到Twitter&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://www.facebook.com/dialog/share?app_id=483126645039390&amp;display=popup&amp;href=https://www.jianshu.com/p/94d47da32656?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=facebook&#39;,x=function(){if(!window.open(r,&#39;facebook&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&#39;social-icon-sprite social-icon-facebook&#39;&gt;&lt;/i&gt;&lt;span&gt;分享到Facebook&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,r=&#39;https://plus.google.com/share?url=&#39;+e(&#39;https://www.jianshu.com/p/94d47da32656?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=google_plus&#39;),x=function(){if(!window.open(r,&#39;google_plus&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})();&quot;&gt;&lt;i class=&#39;social-icon-sprite social-icon-google&#39;&gt;&lt;/i&gt;&lt;span&gt;分享到Google+&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;javascript:void(function(){var d=document,e=encodeURIComponent,s1=window.getSelection,s2=d.getSelection,s3=d.selection,s=s1?s1():s2?s2():s3?s3.createRange().text:&#39;&#39;,r=&#39;http://www.douban.com/recommend/?url=&#39;+e(&#39;https://www.jianshu.com/p/94d47da32656?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=reader_share&amp;utm_source=douban&#39;)+&#39;&amp;title=&#39;+e(&#39;Dagger2 使用详解&#39;)+&#39;&amp;sel=&#39;+e(s)+&#39;&amp;v=1&#39;,x=function(){if(!window.open(r,&#39;douban&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;))location.href=r+&#39;&amp;r=1&#39;};if(/Firefox/.test(navigator.userAgent)){setTimeout(x,0)}else{x()}})()&quot;&gt;&lt;i class=&#39;social-icon-sprite social-icon-douban&#39;&gt;&lt;/i&gt;&lt;span&gt;分享到豆瓣&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
              &lt;/ul&gt;" data-original-title="" title="" class="function-button"><i class="iconfont ic-share"></i></a> <!----></li> <!----></ul></div>
</div>
<div class="note-bottom">
  <div><div class="main"><div class="title">被以下专题收入，发现更多相似内容</div> <!----> <div class="include-collection"><!----> <a href="https://www.jianshu.com/c/5139d555c94d?utm_source=desktop&amp;utm_medium=notes-included-collection" target="_blank" class="item"><img src="./Dagger2 使用详解 - 简书_files/1416528891_3612.png"><div class="name">Android...</div></a><a href="https://www.jianshu.com/c/0dc880a2c73c?utm_source=desktop&amp;utm_medium=notes-included-collection" target="_blank" class="item"><img src="./Dagger2 使用详解 - 简书_files/ff55916a6a0c2db84ebb1ffdcef539dd.png"><div class="name">Android开发</div></a><a href="https://www.jianshu.com/c/b838b070d6de?utm_source=desktop&amp;utm_medium=notes-included-collection" target="_blank" class="item"><img src="./Dagger2 使用详解 - 简书_files/1467386259.jpg"><div class="name">Android...</div></a><a href="https://www.jianshu.com/c/58b4c20abf2f?utm_source=desktop&amp;utm_medium=notes-included-collection" target="_blank" class="item"><img src="./Dagger2 使用详解 - 简书_files/android.graphics.Bitmap_1329dce8.jpeg"><div class="name">Android...</div></a><a href="https://www.jianshu.com/c/ddfd0f9bb992?utm_source=desktop&amp;utm_medium=notes-included-collection" target="_blank" class="item"><img src="./Dagger2 使用详解 - 简书_files/adce8d3e809bf137183598885225e74e.jpg"><div class="name">Android...</div></a><a href="https://www.jianshu.com/c/b5617afad677?utm_source=desktop&amp;utm_medium=notes-included-collection" target="_blank" class="item"><img src="./Dagger2 使用详解 - 简书_files/1466310899.jpg"><div class="name">Android...</div></a><a href="https://www.jianshu.com/c/4ff69c8033d1?utm_source=desktop&amp;utm_medium=notes-included-collection" target="_blank" class="item"><img src="./Dagger2 使用详解 - 简书_files/android.graphics.Bitmap_44397f1.jpeg"><div class="name">android...</div></a> <a class="show-more">
        展开更多
        <i class="iconfont ic-show"></i></a></div></div> <!----> <!----></div>
  <div><div class="recommend-note"><div class="meta"><div class="title">
        推荐阅读
        <a target="_blank" href="https://www.jianshu.com/" class="more">
           更多精彩内容<i class="iconfont ic-link"></i></a></div></div> <div class="list"><div class="note have-img"><a target="_blank" href="https://www.jianshu.com/p/aa93130483a4?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="cover" style="background-image: url(&quot;//upload-images.jianshu.io/upload_images/2421391-5726f2ea009d8bd6.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/300/h/240&quot;);"></a> <a target="_blank" href="https://www.jianshu.com/p/aa93130483a4?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="title">从零开始学 Vue （二）—— 各种属性绑定</a> <p class="description">绑定title提示信息 除了上一章中的文本插值，我们也可以绑定DOM的其他属性: 在浏览器打开此index.html文件，鼠标停留在文字区域，我们可以看到提示信息显示为现在时间为2017-09-07XXX 的提示信息，由此可以看出来，span中的title属性已经与app.message属性保持一致，上面出现的v-bind的属性在Vue中被称为指令，在Vue中，指令带有前缀v-，用来区分它们属于Vue中的属性。同样的我们也按F12呼出控制台，改变message的值，你会看到title的值也同步更新了。 循环与条件 我们来看下面的例子 在浏览器中它会显示以下效果: Sherlock She...</p> <a target="_blank" href="https://www.jianshu.com/u/8e523dd140ee?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="author"><div class="avatar" style="background-image: url(&quot;//upload.jianshu.io/users/upload_avatars/2421391/3ae64fc7949f.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/24/h/24&quot;);"></div> <span class="name">zpayh</span></a></div><div class="note"><!----> <a target="_blank" href="https://www.jianshu.com/p/b3b0b30f7e82?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="title">基于Agera的EventBus实现库2-添加多进程支持</a> <p class="description">AgeraBus简介 AgeraBus 是基于谷歌开源的Agera实现的Android事件总线，实现了EventBus基本常用的功能，下面将为你一一介绍，如果要了解Agera，可以去看我文章后面推荐的两个地址。 添加依赖 在项目根目录的build.gradle中添加: 基本使用方法 单进程下的基本使用方法可以参考我之前写的文章基于Agera的EventBus实现库。 多进程支持 一般来讲，EventBus只支持单进程下传递事件的，因为使用多进程都会造成如下几个方面的问题： 静态成员和单例模式完全失效。 线程同步机制失效。 Application会多次创建。 造成上面问题的原因是因为不同进...</p> <a target="_blank" href="https://www.jianshu.com/u/8e523dd140ee?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="author"><div class="avatar" style="background-image: url(&quot;//upload.jianshu.io/users/upload_avatars/2421391/3ae64fc7949f.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/24/h/24&quot;);"></div> <span class="name">zpayh</span></a></div><div class="note have-img"><a target="_blank" href="https://www.jianshu.com/p/1be79866ee15?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="cover" style="background-image: url(&quot;//upload-images.jianshu.io/upload_images/5331700-85e87d6d4c1860b0.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/300/h/240&quot;);"></a> <a target="_blank" href="https://www.jianshu.com/p/1be79866ee15?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="title">「我心中最赞的歌手」征文</a> <p class="description">欢迎你，这里是简书征文活动。 你偶然路过街角的小店，耳边响起你最爱听的歌。或许你虽没听过，却被它深深吸引，缘分当真如此奇妙。它牵动你的情绪，触动你的内心，直击你的灵魂。它激励你，抚慰你，为你照亮前路。 我们与歌曲的缘分亦如爱情，用一秒爱上它，却愿用一生陪伴它。 如那首我非常喜欢的歌曲《若问》中： 那些最早的歌者，却随流年飘零辗转何处去了?浮生里执着什么?是爱是恨呢?还是耳畔的歌?夜雾中的灯火? 那些最早的歌者虽已远去，但他的歌声却存留于世，它们陪伴我们成长，甚至是一生。 你最喜欢的歌手是谁？他们唱尽世间爱恨痴缠，让你体会人生百味。 你最爱听谁唱的歌？ 你为什么喜欢这首歌？ 你从小听着谁的...</p> <a target="_blank" href="https://www.jianshu.com/u/3fbc13e7f8cd?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="author"><div class="avatar" style="background-image: url(&quot;//upload.jianshu.io/users/upload_avatars/5331700/9d029a63-7abd-4ce9-8182-d2a317870a69.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/24/h/24&quot;);"></div> <span class="name">若水如意</span></a></div><div class="note have-img"><a target="_blank" href="https://www.jianshu.com/p/6af7a496d815?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="cover" style="background-image: url(&quot;//upload-images.jianshu.io/upload_images/1714291-6ed88e09e4ecbe23.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/300/h/240&quot;);"></a> <a target="_blank" href="https://www.jianshu.com/p/6af7a496d815?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="title">焦虑、抑郁、自杀｜被失眠折磨的90后</a> <p class="description">“ 我已经整整失眠3个月了，从开学到现在，几乎没有一天睡好过，每天都是凌晨2、3点睡着，早上6、7点就醒了，半夜还要醒好几次，我快奔溃了...... ” 01“你没失眠过，你不懂。” 大四的徐浩最近一直被失眠所困扰。 对于最近三个月失眠带给他的折磨，他愈发的感到恐惧。 为了尝试让自己快速入睡，徐浩说他用了很多方法：睡觉时听轻音乐，睡前喝热牛奶，能用的方法都用了，但都不管用。 “知道自己失眠，我现在每天都很早睡，上床前心里还告诉自己，一定要早点睡着，早点睡着，可是根本睡不着。” “越是睡不着，越是焦虑，好几次半夜没睡着打开手机，一看已经1,2点了，可还没睡着，越是担心，就更加难以入睡。 哎...</p> <a target="_blank" href="https://www.jianshu.com/u/a7e0bdc7c757?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="author"><div class="avatar" style="background-image: url(&quot;//upload.jianshu.io/users/upload_avatars/1714291/c7ff14f51e1b?imageMogr2/auto-orient/strip|imageView2/1/w/24/h/24&quot;);"></div> <span class="name">黑眼豆豆写字的地方</span></a></div><div class="note have-img"><a target="_blank" href="https://www.jianshu.com/p/2e8ae0e846f8?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="cover" style="background-image: url(&quot;//upload-images.jianshu.io/upload_images/3814348-d958240cedba5b66.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/300/h/240&quot;);"></a> <a target="_blank" href="https://www.jianshu.com/p/2e8ae0e846f8?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="title">关注咪蒙的好友越多越可怕？不，可怕的是世界正在加速分裂，而你身处孤岛</a> <p class="description">1 咪蒙老师又双叒叕刷屏了。 这几天，类似这样的图片有没有出现在你的微博和朋友圈？ 大概意思是，你的微信朋友里关注咪蒙的人，占比越多，你的人生就越失败。 （那些从来没关注过咪蒙，但人生一样失败的朋友，你们要好好反省一下了） 对于这个说法，咪蒙粉和咪蒙黑又开始选边站队。 这不是咪蒙老师的第一次了。 也不会是最后一次。 咪蒙现象已经和中年焦虑、逃离北上广并列，成为朋友圈三大经典（yue jing）式话题。 如果说中年焦虑反馈的，是伪中产们对抗岁月未遂，反被岁月睡（念出来试试）的不安全感，逃离北上广的背后，是一线的金领白领们，视二三得六、三六十八线城镇广大群众生活水准而不见的矫情，那么咪蒙现象...</p> <a target="_blank" href="https://www.jianshu.com/u/2861fb19123b?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=pc_all_hots&amp;utm_source=recommendation" class="author"><div class="avatar" style="background-image: url(&quot;//upload.jianshu.io/users/upload_avatars/3814348/e2976808d1e8.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/24/h/24&quot;);"></div> <span class="name">格总</span></a></div></div></div></div>
  <!-- 相关文章 -->
  <div class="seo-recommended-notes">

        <div class="note have-img">
          <a class="cover" target="_blank" href="https://www.jianshu.com/p/d3ad9fa7f995?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
            <img src="./Dagger2 使用详解 - 简书_files/1593941-b3c05386be11baa9.png" alt="240">
</a>          <a class="title" target="_blank" href="https://www.jianshu.com/p/d3ad9fa7f995?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">Dagger2使用详解</a>
          <p class="description">什么是Dagger2 1.Dagger2是一个依赖注入框架。如果Class A 内部 有一个Class B，我们称作Class A依赖Class B 例如: public class A{ B b public A(){ b=new B(); } } 上述方法代码耦合度很高...</p>
          <a class="author" target="_blank" href="https://www.jianshu.com/u/021e0ae5957c?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
            <div class="avatar">
              <img src="./Dagger2 使用详解 - 简书_files/23d5a003-e04c-4991-8e7f-16d1774f6f31" alt="48">
            </div>
            <span class="name">天天大保建</span>
</a>        </div>

        <div class="note have-img">
          <a class="cover" target="_blank" href="https://www.jianshu.com/p/b40bcd1a9ec9?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
            <img src="./Dagger2 使用详解 - 简书_files/7293029-081e7d392f00ef67" alt="240">
</a>          <a class="title" target="_blank" href="https://www.jianshu.com/p/b40bcd1a9ec9?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">Android 神兵利器Dagger2使用详解（一）基础使用</a>
          <p class="description">Android 神兵利器Dagger2使用详解（一）基础篇 本系列书写原因：在公司一个新的共同开发项目中，使用到了Dagger2依赖注入，在使用它的时候，因为框架的原因产生了一些问题（代码风格的不同？），发现自己对于Dagger2还是有一些没有理解到位的地方，于是干脆抽个时...</p>
          <a class="author" target="_blank" href="https://www.jianshu.com/u/df76f81fe3ff?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
            <div class="avatar">
              <img src="./Dagger2 使用详解 - 简书_files/42130be5-9eb3-4cf2-8874-1f32e70d81e2" alt="48">
            </div>
            <span class="name">却把清梅嗅2</span>
</a>        </div>

        <div class="note ">
                    <a class="title" target="_blank" href="https://www.jianshu.com/p/dad51f6c9c4d?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">Android - 收藏集  </a>
          <p class="description">用两张图告诉你，为什么你的 App 会卡顿? - Android - 掘金 Cover 有什么料？ 从这篇文章中你能获得这些料： 知道setContentView()之后发生了什么？ ... Android 获取 View 宽高的常用正确方式，避免为零 - 掘金 相信有很多...</p>
          <a class="author" target="_blank" href="https://www.jianshu.com/u/e946d18f163c?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
            <div class="avatar">
              <img src="./Dagger2 使用详解 - 简书_files/4-3397163ecdb3855a0a4139c34a695885.jpg" alt="48">
            </div>
            <span class="name">passiontim</span>
</a>        </div>

        <div class="note ">
                    <a class="title" target="_blank" href="https://www.jianshu.com/p/5ad013eb5364?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">Android - 收藏集 - 掘金</a>
          <p class="description">用两张图告诉你，为什么你的 App 会卡顿? - Android - 掘金Cover 有什么料？ 从这篇文章中你能获得这些料： 知道setContentView()之后发生了什么？ ... Android 获取 View 宽高的常用正确方式，避免为零 - 掘金相信有很多朋友...</p>
          <a class="author" target="_blank" href="https://www.jianshu.com/u/5fc9b6410f4f?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
            <div class="avatar">
              <img src="./Dagger2 使用详解 - 简书_files/6220dd63-bf1a-40a8-8ccc-e364a5c90f13.png" alt="48">
            </div>
            <span class="name">掘金官方</span>
</a>        </div>

        <div class="note have-img">
          <a class="cover" target="_blank" href="https://www.jianshu.com/p/30d48ddefd30?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
            <img src="./Dagger2 使用详解 - 简书_files/7293029-231dfa44a754a00a.jpeg" alt="240">
</a>          <a class="title" target="_blank" href="https://www.jianshu.com/p/30d48ddefd30?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">Android 神兵利器Dagger2使用详解（二）Module&amp;Component源码分析</a>
          <p class="description">前言： 本系列所有文章： Android 神兵利器Dagger2使用详解（一）基础使用  Android 神兵利器Dagger2使用详解（二）Module&amp;Component源码分析 Android 神兵利器Dagger2使用详解（三）MVP架构下的使用 Android 神...</p>
          <a class="author" target="_blank" href="https://www.jianshu.com/u/df76f81fe3ff?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
            <div class="avatar">
              <img src="./Dagger2 使用详解 - 简书_files/42130be5-9eb3-4cf2-8874-1f32e70d81e2" alt="48">
            </div>
            <span class="name">却把清梅嗅2</span>
</a>        </div>

        <div class="note ">
                    <a class="title" target="_blank" href="https://www.jianshu.com/p/329d596444eb?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">庆祝单身八个月！</a>
          <p class="description">医生，医生，我这手，还能治好么？ 别着急，我在分析呢。 那……那好吧！你听我讲讲好吗？ 讲什么？ 我女朋友----啊，现在是前女友了，我这手就是因为她才动不了的。 哦哦，你说吧。 她叫巧克力，因为她爱吃巧克力。 那香子兰爱吃香子兰吗？ 不不不，不是那个巧克力----我说，她...</p>
          <a class="author" target="_blank" href="https://www.jianshu.com/u/1221d2604af3?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
            <div class="avatar">
              <img src="./Dagger2 使用详解 - 简书_files/a7f51c838052.jpg" alt="48">
            </div>
            <span class="name">一只氢键</span>
</a>        </div>

        <div class="note ">
                    <a class="title" target="_blank" href="https://www.jianshu.com/p/e63e36f9d223?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">8句话管窥《道德经》的智慧</a>
          <p class="description">老子，姓李名耳，字聃，春秋时期楚国苦县厉乡曲仁里（在今河南鹿邑县）人，道家思想创始人。所著《老子》5000言，因上下篇首句“道可道，非常道”“上德不德，是以有德”，是以又名《道德经》，不仅在中国影响深远，在全球范围也被译为数十种文字，广为流传，备受推崇。 据传，老子晚年骑青...</p>
          <a class="author" target="_blank" href="https://www.jianshu.com/u/7670cee1ad74?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
            <div class="avatar">
              <img src="./Dagger2 使用详解 - 简书_files/2128c1249da0.jpeg" alt="48">
            </div>
            <span class="name">开心的考拉</span>
</a>        </div>

        <div class="note ">
                    <a class="title" target="_blank" href="https://www.jianshu.com/p/ba8a067d1dda?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">记第一次家长会</a>
          <p class="description">第一次家长会，刚家教完，一路想着讲什么，怎么讲，就这样急匆匆地晕乎乎地走进教室，随意地讲了一通，讲完不知道具体讲了什么，怎么讲？结束之后，感慨这样对待事情的人，是我吗？讲了以下几点：一是月考和半期考的整体情况，好与不好，都有说到，主要还是好的。二是归因分析，先说问题再说措施...</p>
          <a class="author" target="_blank" href="https://www.jianshu.com/u/643f3365d614?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
            <div class="avatar">
              <img src="./Dagger2 使用详解 - 简书_files/3-9a2bcc21a5d89e21dafc73b39dc5f582(1).jpg" alt="48">
            </div>
            <span class="name">scnulym</span>
</a>        </div>

        <div class="note ">
                    <a class="title" target="_blank" href="https://www.jianshu.com/p/04b31492e835?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">写作日课~004~太聪明</a>
          <p class="description">有些人之所以没有成长，就是因为“太聪明”了。他们的聪明才智都用在一个地方：寻找更轻松的方法。但是这样的结果通常是，所有的注意力都用在了找“更好”的方法，最后没有时间和精力去践行。反倒是那些读完文章之后，老老实实实践的人最终取得了进步。提到这个聪明，觉得自己也是在开始耍小聪明...</p>
          <a class="author" target="_blank" href="https://www.jianshu.com/u/e1a1d4d0c87d?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
            <div class="avatar">
              <img src="./Dagger2 使用详解 - 简书_files/d2c2c47d338c" alt="48">
            </div>
            <span class="name">猫哆哩m</span>
</a>        </div>

        <div class="note ">
                    <a class="title" target="_blank" href="https://www.jianshu.com/p/0e81b30dffec?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">当你的孩子向你挥舞拳头的时候，你想到了什么？</a>
          <p class="description">养孩防老，是作为我们中国父母的一大“理想”，在父母的认知世界中，从婴儿到成年，父母永远都是给予的爱，有吃的，有穿的，有学的，有玩的，当孩子长大之后，就应该对父母感恩，否则就是没良心。 这种认知看似合情合理，但是事情往往事与愿违，最后父母往往都会说，我怎么养了这么一个孩子。什...</p>
          <a class="author" target="_blank" href="https://www.jianshu.com/u/aa40853fd612?utm_campaign=maleskine&amp;utm_content=user&amp;utm_medium=seo_notes&amp;utm_source=recommendation">
            <div class="avatar">
              <img src="./Dagger2 使用详解 - 简书_files/f7c966fc-ad7f-45fd-8a57-c56a24c80ac4.jpg" alt="48">
            </div>
            <span class="name">书风化雨</span>
</a>        </div>
  </div>
</div>

    <script type="application/json" data-name="page-data">{"user_signed_in":false,"locale":"zh-CN","os":"windows","read_mode":"day","read_font":"font2","note_show":{"is_martin_user":false,"is_author":false,"is_following_author":false,"is_liked_note":false,"follow_state":0,"uuid":"acef526a-4f51-4a52-8498-a61465de7de1"},"note":{"id":4692528,"slug":"94d47da32656","user_id":2421391,"notebook_id":5007822,"commentable":true,"likes_count":73,"views_count":8941,"public_wordage":2049,"comments_count":84,"total_rewards_count":1,"is_author":false,"author":{"nickname":"zpayh","total_wordage":6205,"followers_count":42,"total_likes_count":92}}}</script>
    
    <script src="./Dagger2 使用详解 - 简书_files/babel-polyfill-e27dec85eeb94683dfc7.js.下载" crossorigin="anonymous"></script>
    <script src="./Dagger2 使用详解 - 简书_files/web-base-b3015ef0dd9886427378.js.下载" crossorigin="anonymous"></script>
<script src="./Dagger2 使用详解 - 简书_files/web-de8b648cc379bdaf1972.js.下载" crossorigin="anonymous"></script>
    
    <script src="./Dagger2 使用详解 - 简书_files/entry-9e28293f23f7fa89210f.js.下载" crossorigin="anonymous"></script>
    <script>
  (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();
</script>

  

<!----><!----></body></html>