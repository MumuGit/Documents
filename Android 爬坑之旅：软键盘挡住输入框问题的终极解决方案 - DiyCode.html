<!DOCTYPE html>
<!-- saved from url=(0033)https://www.diycode.cc/topics/383 -->
<html class="turbolinks-progress-bar"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode</title>
  
  <link rel="shortcut icon" type="image/x-icon" href="https://diycode.b0.upaiyun.com/assets/favicon-6200a4759942579bd403b10460911e7576be30b6ac3d88b6454a2a2544be70b5.ico">
  <meta name="keywords" content="/">
  <meta name="description" content="/">
  <meta name="apple-mobile-web-app-capable" content="no">
  <meta content="True" name="HandheldFriendly">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="alternate" type="application/rss+xml" title="è®¢é˜…æœ€æ–°å¸–" href="https://www.diycode.cc/topics/feed">
  <meta property="wb:webmaster" content="d0ef27f708a14400">
  <link rel="stylesheet" media="screen" href="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/front-b64c4625672b5e1c4398f796ad39f408dd206728481fe2dfc6496aec80daa85f.css" data-turbolinks-track="true">
  <meta name="action-cable-url" content="/cable">
  <script async="" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/analytics.js.ä¸‹è½½"></script><script src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/app-eab2e84baf7da2ad5cd02e0772763bee74ad836eab14d1f5bbc2dc56c8aa4fff.js.ä¸‹è½½" data-turbolinks-track="true"></script><style>html.turbolinks-progress-bar::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  z-index: 2000;
  background-color: #0076ff;
  height: 3px;
  opacity: 0.99;
  width: 0%;
  transition: width 300ms ease-out, opacity 150ms ease-in;
  transform: translate3d(0,0,0);
}</style>
  <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="w+0xbBksmd4nHoGwbhmYSIT90cC58JZC/YhjFlP9CBN0XNPCEiz2KrU1JQmkuVqcxJGOc3vIz5XF5Um+Arr3tw==">
  <script src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/d3.min.js.ä¸‹è½½" data-turbolinks-track="reload" type="text/javascript"></script>
  <script src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/cal-heatmap.min.js.ä¸‹è½½" data-turbolinks-track="reload" type="text/javascript"></script>
  <link rel="dns-prefetch" href="https://assets.youhost.com/">

</head>
<body data-controller-name="topics">
  <div class="header">
    <nav class="navbar navbar-inverse navbar-static-top navbar-default">
      <div class="container">
        <div class="navbar-header" id="navbar-header" data-turbolinks-permanent="">
          <a href="https://www.diycode.cc/" class="navbar-brand"><img src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/a616a86eafa8b6c7a43fc7bbc8f041f1.png" alt="A616a86eafa8b6c7a43fc7bbc8f041f1"></a>
        </div>

        <span id="main-nav-menu" data-turbolinks-temporary="">
          <ul class="nav navbar-nav"><li class="active"><a href="https://www.diycode.cc/topics">ç¤¾åŒº</a></li><li class=""><a href="https://www.diycode.cc/projects">é¡¹ç›®</a></li><li class=""><a href="https://www.diycode.cc/news">News</a></li><li class=""><a href="https://www.diycode.cc/trends">Github Ranking</a></li><li class=""><a href="https://www.diycode.cc/wiki">Wiki</a></li><li class=""><a href="https://www.diycode.cc/sites">é…·ç«™</a></li></ul>
        </span>

        <ul class="nav user-bar navbar-nav navbar-right">
  <li><a href="https://www.diycode.cc/account/sign_up">æ³¨å†Œ</a></li>
  <li><a href="https://www.diycode.cc/account/sign_in">ç™»å½•</a></li>
</ul>


        <ul class="nav navbar-nav navbar-right">
          <li class="nav-search hidden-xs">
            <form class="navbar-form form-search active" action="https://www.diycode.cc/search" method="GET">
              <div class="form-group">
                <input class="form-control" name="q" type="text" value="" placeholder="æœç´¢æœ¬ç«™å†…å®¹">
              </div>
              <i class="fa btn-search fa-search"></i>
            </form>
          </li>
        </ul>
      </div>
    </nav>
  </div>

  <div id="main" class="main-container container">
    
    
    
<div class="row">
  <div class="col-md-9">
    <div class="topic-detail panel panel-default">
      <div class="panel-heading media clearfix">
  <div class="media-body">
    <h1 class="media-heading">Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ</h1>
    <div class="info">
      <a class="node" href="https://www.diycode.cc/topics/node1">Android</a>
       Â·
      <a data-author="true" data-name="Barry" class="hacknews_clear" href="https://www.diycode.cc/barryhappy">barryhappy</a>
       Â·
      äº <abbr class="timeago" title="2016-10-27T00:11:18+08:00">1 å¹´å‰</abbr>å‘å¸ƒ
         Â·
        æœ€åç”± <a data-name="zcc" class="hacknews_clear" href="https://www.diycode.cc/zcc">zcc</a> äº <abbr class="timeago" title="2017-08-29T19:43:51+08:00">2 æœˆå‰</abbr>å›å¤
       Â·
      13166 æ¬¡é˜…è¯»
    </div>
  </div>
  <div class="avatar media-right">
    <a class="hacknews_clear" href="https://www.diycode.cc/barryhappy"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/2553.jpg" alt="2553"></a>
  </div>
</div>

      <div class="panel-body markdown">
        

        <article>
          <blockquote>
<p>æœ¬æ–‡ç”±<a href="https://github.com/barryhappy" target="_blank">BarryZhang</a>åŸåˆ›ï¼ŒåŒæ—¶é¦–å‘äºdiycode.ccã€barryzhang.com ã€github.com/barryhappyï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜ä½œè€…å’ŒåŸæ–‡é“¾æ¥ã€‚</p>
</blockquote>
<h2 id="å‰è¨€">å‰è¨€</h2>
<p>å¼€å‘åšå¾—ä¹…äº†ï¼Œæ€»å…ä¸äº†ä¼šé‡åˆ°å„ç§å‘ã€‚<br>
è€Œåœ¨Androidå¼€å‘çš„è·¯ä¸Šï¼Œã€è½¯é”®ç›˜æŒ¡ä½äº†è¾“å…¥æ¡†ã€è¿™ä¸ªå‘ï¼Œå¯è°“æ˜¯ä¸€ä¸ªæ—·æ—¥æŒä¹…çš„å·¨å‘â€”â€”æ¥æ¥æ¥ï¼Œæˆ‘ä»¬æ…¢æ…¢çœ‹ã€‚</p>
<h2 id="å…¥é—¨ç¯‡">å…¥é—¨ç¯‡</h2>
<p><a href="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/eb8116a5ec56ace24d6860a91cc7da77.png" class="zoom-image fluidbox" data-action="zoom"><div class="fluidbox-wrap" style="z-index: 990;"><img src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/eb8116a5ec56ace24d6860a91cc7da77.png" title="" alt="Base" style="opacity: 1;"><div class="fluidbox-ghost" style="width: 686px; height: 597px; top: 0px; left: 0px;"></div></div></a> </p>

<p>æœ€åŸºæœ¬çš„æƒ…å†µï¼Œå¦‚å›¾æ‰€ç¤ºï¼šåœ¨é¡µé¢åº•éƒ¨æœ‰ä¸€ä¸ªEditTextï¼Œå¦‚æœä¸åšä»»ä½•å¤„ç†ï¼Œé‚£ä¹ˆåœ¨è½¯é”®ç›˜å¼¹å‡ºçš„æ—¶å€™ï¼Œå°±æœ‰å¯èƒ½ä¼šæŒ¡ä½EditTextã€‚<br>
å¯¹äºè¿™ç§æƒ…å†µçš„å¤„ç†å…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨AndroidManifestæ–‡ä»¶ä¸­å¯¹activityè®¾ç½®ï¼š<code>android:windowSoftInputMode</code>çš„å€¼<code>adjustPan</code>æˆ–è€…<code>adjustResize</code>å³å¯ï¼Œåƒè¿™æ ·ï¼š</p>
<pre class="highlight xml"><code><span class="nt">&lt;activity</span>
    <span class="na">android:name=</span><span class="s">".MainActivity"</span>
    <span class="na">android:windowSoftInputMode=</span><span class="s">"adjustPan"</span>  <span class="nt">&gt;</span>
    ...
<span class="nt">&lt;/activity&gt;</span></code></pre>

<p>ä¸€èˆ¬æ¥è¯´ï¼Œä»–ä»¬éƒ½å¯ä»¥è§£å†³é—®é¢˜ï¼Œå½“ç„¶ï¼Œ<code>adjustPan</code>è·Ÿ<code>adjustResize</code>çš„æ•ˆæœç•¥æœ‰åŒºåˆ«ã€‚ </p>

<ul>
<li>
<code>adjustPan</code>æ˜¯æŠŠæ•´ä¸ªç•Œé¢å‘ä¸Šå¹³ç§»ï¼Œä½¿è¾“å…¥æ¡†éœ²å‡ºï¼Œä¸ä¼šæ”¹å˜ç•Œé¢çš„å¸ƒå±€ï¼›</li>
<li>
<code>adjustResize</code>åˆ™æ˜¯é‡æ–°è®¡ç®—å¼¹å‡ºè½¯é”®ç›˜ä¹‹åçš„ç•Œé¢å¤§å°ï¼Œç›¸å½“äºæ˜¯ç”¨æ›´å°‘çš„ç•Œé¢åŒºåŸŸå»æ˜¾ç¤ºå†…å®¹ï¼Œè¾“å…¥æ¡†ä¸€èˆ¬è‡ªç„¶ä¹Ÿå°±åœ¨å†…äº†ã€‚</li>
</ul>

<p>â†‘â†‘â†‘ OKï¼Œè¿™åªæ˜¯å…¥é—¨ï¼ŒåŸºæœ¬ä¸Šåœ°çƒä¸Šæ‰€æœ‰çš„Androidå·¥ç¨‹å¸ˆéƒ½èƒ½æå®šã€‚<br><br>
åˆ«æ€¥ï¼Œçœ‹ä¸‹é¢~</p>
<h2 id="åŠ ä¸ŠWebViewè¯•è¯•çœ‹ï¼Ÿå‘æ¥äº†â€¦â€¦">åŠ ä¸ŠWebViewè¯•è¯•çœ‹ï¼Ÿå‘æ¥äº†â€¦â€¦</h2>
<p>ä¸Šé¢çš„å…¥é—¨ç¯‡ä¸­ï¼Œè½¯é”®ç›˜æ˜¯ç”±åŸç”Ÿçš„EditTextè§¦å‘å¼¹å‡ºçš„ã€‚è€Œåœ¨H5ã€Hybridå‡ ä¹å·²ç»æˆä¸ºAppæ ‡é…çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸è¿˜ä¼šç¢°åˆ°çš„æƒ…å†µæ˜¯ï¼š<strong>è½¯é”®ç›˜æ˜¯ç”±WebViewä¸­çš„ç½‘é¡µå…ƒç´ æ‰€è§¦å‘å¼¹å‡ºçš„</strong>ã€‚  </p>
<h2 id="æƒ…å†µæè¿°">æƒ…å†µæè¿°</h2>
<p>è¿™æ—¶å€™ï¼Œæƒ…å†µå°±ä¼šå˜å¾—å¤æ‚äº†: </p>

<ol>
<li>é¦–å…ˆï¼Œé¡µé¢æ˜¯<code>éå…¨å±æ¨¡å¼</code>çš„æƒ…å†µä¸‹ï¼Œç»™activityè®¾ç½®<code>adjustPan</code>ä¼šå¤±æ•ˆã€‚</li>
<li>å…¶æ¬¡ï¼Œé¡µé¢æ˜¯<code>å…¨å±æ¨¡å¼</code>çš„æƒ…å†µï¼Œ<code>adjustPan</code>è·Ÿ<code>adjustResize</code>éƒ½ä¼šå¤±æ•ˆã€‚</li>
</ol>

<p>â€”â€”è§£é‡Šä¸€ä¸‹ï¼Œè¿™é‡Œçš„<code>å…¨å±æ¨¡å¼</code>å³æ˜¯é¡µé¢æ˜¯å…¨å±çš„ï¼ŒåŒ…æ‹¬Applicationæˆ–activityä½¿ç”¨äº†Fullscreenä¸»é¢˜ã€ä½¿ç”¨äº†ã€çŠ¶æ€è‰²ç€è‰²ã€ã€ã€æ²‰æµ¸å¼çŠ¶æ€æ ã€ã€ã€Immersive Modeã€ç­‰ç­‰â€”â€”æ€»ä¹‹ï¼ŒåŸºæœ¬ä¸Šåªè¦æ˜¯Appè‡ªå·±æ¥ç®¡äº†çŠ¶æ€æ çš„æ§åˆ¶ï¼Œå°±ä¼šäº§ç”Ÿè¿™ç§é—®é¢˜ã€‚ </p>

<p>ä¸‹é¢è¿™ä¸ªè¡¨æ ¼å¯ä»¥ç®€å•åˆ—ä¸¾äº†å…·ä½“çš„æƒ…å†µã€‚ </p>

<p><a href="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/8be2511f709e5a4e696749c3bb4ba09c.jpg" class="zoom-image fluidbox" data-action="zoom"><div class="fluidbox-wrap" style="z-index: 990;"><img src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/8be2511f709e5a4e696749c3bb4ba09c.jpg" title="" alt="è¡¨æ ¼" style="opacity: 1;"><div class="fluidbox-ghost" style="width: 781px; height: 181px; top: 0px; left: 0px;"></div></div></a></p>
<h2 id="ä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯ä¸ªå‘ï¼Ÿ">ä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯ä¸ªå‘ï¼Ÿ"issue 5497"</h2>
<p>ä¸Šé¢è¡¨æ ¼çš„è¿™ç§æƒ…å†µå¹¶éæ˜¯Googleæ‰€æœŸæœ›çš„ï¼Œç†æƒ³çš„æƒ…å†µå½“ç„¶æ˜¯å®ƒä»¬éƒ½èƒ½æ­£å¸¸ç”Ÿæ•ˆæ‰å¯¹â€”â€”æ‰€ä»¥è¿™å…¶å®æ˜¯Androidç³»ç»Ÿæœ¬èº«çš„ä¸€ä¸ªBUGã€‚ </p>

<p>ä¸ºä»€ä¹ˆæ–‡ç« å¼€å¤´è¯´è¿™æ˜¯ä¸ªå‘å‘¢ï¼Ÿ<br>
â€”â€”å› ä¸ºè¿™ä¸ªBUGä»Android1.xæ—¶ä»£ï¼ˆ2009å¹´ï¼‰å°±è¢«æŠ¥å‘Šäº†ï¼Œè€Œä¸€ç›´åˆ°äº†å¦‚ä»Šçš„Android7.0ï¼ˆ2016å¹´ï¼‰è¿˜æ˜¯æ²¡æœ‰ä¿®å¤â€¦â€¦/(ã„’oã„’)/ <br>
å¯ä»¥è¯´è¿™ä¸ä»…æ˜¯ä¸ªå‘ï¼Œè€Œä¸”è¿˜æ˜¯ä¸ªå®˜æ–¹æŒ–çš„å‘~</p>

<p>"issue 5497"ï¼Œè¯¦æƒ…ä¼ é€é—¨ â˜ <a href="https://code.google.com/p/android/issues/detail?id=5497" target="_blank">Issue 5497 - android -WebView adjustResize windowSoftInputMode breaks when activity is fullscreen - Android Open Source Project - Issue Tracker - Google Project Hosting</a></p>

<p>å½“ç„¶äº†ï¼Œä¸ç®¡å‘æ˜¯è°æŒ–çš„ï¼Œæœ€ç»ˆè¿˜æ˜¯è¦å¼€å‘è€…æ¥è§£å†³ã€‚</p>

<p>é‡åˆ°å‘ä¹‹åï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è¿‡å»ï¼šèº²ï¼Œæˆ–è€…å¡«ã€‚</p>
<h2 id="èº²å‘å§¿åŠ¿">èº²å‘å§¿åŠ¿</h2>
<p>å¦‚å‰æ–‡æ‰€ç¤ºï¼Œå‡ºç°å‘çš„æ¡ä»¶æ˜¯ï¼šå¸¦æœ‰WebViewçš„activityä½¿ç”¨äº†<code>å…¨å±æ¨¡å¼</code>æˆ–è€…<code>adjustPan</code>æ¨¡å¼ã€‚<br>
é‚£ä¹ˆèº²å‘çš„å§¿åŠ¿å°±å¾ˆç®€å•äº†â€”â€”<br>
    <strong>å¦‚æœactivityä¸­æœ‰WebViewï¼Œå°±ä¸è¦ä½¿ç”¨<code>å…¨å±æ¨¡å¼</code>ï¼Œå¹¶ä¸”æŠŠå®ƒçš„windowSoftInputModeå€¼è®¾ä¸º<code>adjustResize</code>å°±å¥½äº†å˜›</strong></p>

<p>æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼ŸğŸ˜‘ <br>
<a href="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/7f2a78e90fff74b16c3def880ba2c6a7.jpg" class="zoom-image fluidbox" data-action="zoom"><div class="fluidbox-wrap" style="z-index: 990;"><img src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/7f2a78e90fff74b16c3def880ba2c6a7.jpg" title="" alt="20130927092846557" style="opacity: 1;"><div class="fluidbox-ghost" style="width: 461px; height: 336px; top: 0px; left: 0px;"></div></div></a></p>
<h2 id="å¡«å‘å§¿åŠ¿">å¡«å‘å§¿åŠ¿</h2>
<p>ä½†æ€»æœ‰äº›æ—¶å€™ï¼Œæ˜¯éœ€è¦<code>å…¨å±æ¨¡å¼</code>è·ŸWebViewå…¼å¾—çš„ï¼Œè¿™æ—¶å€™ï¼Œèº²å‘å°±ä¸è¡Œäº†ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ–°çš„å¡«å‘çš„å§¿åŠ¿ã€‚å¹¸å¥½ï¼Œå¼€å‘è€…çš„æ™ºæ…§æ˜¯æ— ç©·çš„ï¼Œè¿™ä¸ªå‘å‡ºç°äº†è¿™ä¹ˆå¤šå¹´ï¼Œè¿˜æ˜¯æœ‰äººæ‰¾åˆ°äº†ä¸€äº›è§£å†³æ–¹æ¡ˆçš„ã€‚ </p>
<h2 id="AndroidBug5497Workaround">AndroidBug5497Workaround</h2>
<p>æˆ‘ä¸ªäººè®¤ä¸ºæœ€å¥½çš„è§£å†³æ–¹æ¡ˆæ˜¯è¿™ä¸ªï¼š<a href="http://stackoverflow.com/a/19494006" target="_blank">AndroidBug5497Workaround</a>ï¼Œåªéœ€è¦ä¸€ä¸ªç¥å¥‡çš„<code>AndroidBug5497Workaround</code>ç±»ã€‚</p>

<p>çœ‹åå­—å°±çŸ¥é“ï¼Œå®ƒæ˜¯ä¸“é—¨ç”¨æ¥å¯¹ä»˜"5497"é—®é¢˜çš„ï¼Œä½¿ç”¨æ­¥éª¤ä¹Ÿæ˜¯è¶…çº§ç®€å•ï¼š</p>

<ol>
<li>æŠŠ<code>AndroidBug5497Workaround</code>ç±»å¤åˆ¶åˆ°é¡¹ç›®ä¸­</li>
<li>åœ¨éœ€è¦å¡«å‘çš„activityçš„onCreateæ–¹æ³•ä¸­æ·»åŠ ä¸€å¥<code>AndroidBug5497Workaround.assistActivity(this)</code>å³å¯ã€‚<br>
</li>
</ol>

<p>ç»è¿‡æµ‹è¯•ï¼ŒåŸºæœ¬åœ¨å„ä¸ªAndroidç‰ˆæœ¬ä¸Šéƒ½å¯ç”¨ï¼Œæ•ˆæœåŸºæœ¬ä¸è®¾ç½®äº†<code>adjustResize</code>ç›¸å½“ã€‚<br>
çœ‹ä¸€ä¸ªå¯¹æ¯”å›¾ï¼š</p>

<p><a href="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/4425e2d8092a6714dd89cefa2c7695db.jpg" class="zoom-image fluidbox" data-action="zoom"><div class="fluidbox-wrap" style="z-index: 990;"><img src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/4425e2d8092a6714dd89cefa2c7695db.jpg" title="" alt="æ•ˆæœå¯¹æ¯”å›¾" style="opacity: 1;"><div class="fluidbox-ghost" style="width: 818px; height: 481px; top: 0px; left: 0px;"></div></div></a></p>

<p>æ¥è‡ªæˆ‘å‚Appçš„æŸä¸ªä½¿ç”¨WebViewçš„<code>å…¨å±æ¨¡å¼</code>Activityé¡µé¢ï¼Œä»å·¦åˆ°å³åˆ†åˆ«æ˜¯ï¼šæ²¡æœ‰è½¯é”®ç›˜çš„æ ·å¼ã€è½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†çš„æ•ˆæœã€ä»¥åŠä½¿ç”¨AndroidBug5497Workaroundä¹‹åçš„æœ€ç»ˆæ•ˆæœã€‚</p>
<h2 id="å®ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ">å®ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>è¿™ä¸ªç‚«é…·AndroidBug5497Workaroundç±»ï¼Œå…¶å®å¹¶ä¸æ˜¯å¾ˆå¤æ‚ï¼Œåªæœ‰å‡ åè¡Œä»£ç ï¼Œå…ˆè´´åœ¨è¿™é‡Œï¼š</p>
<pre class="highlight java"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AndroidBug5497Workaround</span> <span class="o">{</span>

    <span class="c1">// For more information, see https://code.google.com/p/android/issues/detail?id=5497</span>
    <span class="c1">// To use this class, simply invoke assistActivity() on an Activity that already has its content view set.</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="n">assistActivity</span> <span class="o">(</span><span class="n">Activity</span> <span class="n">activity</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">new</span> <span class="n">AndroidBug5497Workaround</span><span class="o">(</span><span class="n">activity</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">View</span> <span class="n">mChildOfContent</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">usableHeightPrevious</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">FrameLayout</span><span class="o">.</span><span class="na">LayoutParams</span> <span class="n">frameLayoutParams</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">AndroidBug5497Workaround</span><span class="o">(</span><span class="n">Activity</span> <span class="n">activity</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">FrameLayout</span> <span class="n">content</span> <span class="o">=</span> <span class="o">(</span><span class="n">FrameLayout</span><span class="o">)</span> <span class="n">activity</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">android</span><span class="o">.</span><span class="na">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">content</span><span class="o">);</span>
        <span class="n">mChildOfContent</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="na">getChildAt</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
        <span class="n">mChildOfContent</span><span class="o">.</span><span class="na">getViewTreeObserver</span><span class="o">().</span><span class="na">addOnGlobalLayoutListener</span><span class="o">(</span><span class="k">new</span> <span class="n">ViewTreeObserver</span><span class="o">.</span><span class="na">OnGlobalLayoutListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="n">onGlobalLayout</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">possiblyResizeChildOfContent</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">frameLayoutParams</span> <span class="o">=</span> <span class="o">(</span><span class="n">FrameLayout</span><span class="o">.</span><span class="na">LayoutParams</span><span class="o">)</span> <span class="n">mChildOfContent</span><span class="o">.</span><span class="na">getLayoutParams</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="n">possiblyResizeChildOfContent</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">usableHeightNow</span> <span class="o">=</span> <span class="n">computeUsableHeight</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">usableHeightNow</span> <span class="o">!=</span> <span class="n">usableHeightPrevious</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">usableHeightSansKeyboard</span> <span class="o">=</span> <span class="n">mChildOfContent</span><span class="o">.</span><span class="na">getRootView</span><span class="o">().</span><span class="na">getHeight</span><span class="o">();</span>
            <span class="kt">int</span> <span class="n">heightDifference</span> <span class="o">=</span> <span class="n">usableHeightSansKeyboard</span> <span class="o">-</span> <span class="n">usableHeightNow</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">heightDifference</span> <span class="o">&gt;</span> <span class="o">(</span><span class="n">usableHeightSansKeyboard</span><span class="o">/</span><span class="mi">4</span><span class="o">))</span> <span class="o">{</span>
                <span class="c1">// keyboard probably just became visible</span>
                <span class="n">frameLayoutParams</span><span class="o">.</span><span class="na">height</span> <span class="o">=</span> <span class="n">usableHeightSansKeyboard</span> <span class="o">-</span> <span class="n">heightDifference</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="c1">// keyboard probably just became hidden</span>
                <span class="n">frameLayoutParams</span><span class="o">.</span><span class="na">height</span> <span class="o">=</span> <span class="n">usableHeightSansKeyboard</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="n">mChildOfContent</span><span class="o">.</span><span class="na">requestLayout</span><span class="o">();</span>
            <span class="n">usableHeightPrevious</span> <span class="o">=</span> <span class="n">usableHeightNow</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="n">computeUsableHeight</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">Rect</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Rect</span><span class="o">();</span>
        <span class="n">mChildOfContent</span><span class="o">.</span><span class="na">getWindowVisibleDisplayFrame</span><span class="o">(</span><span class="n">r</span><span class="o">);</span>
        <span class="k">return</span> <span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">bottom</span> <span class="o">-</span> <span class="n">r</span><span class="o">.</span><span class="na">top</span><span class="o">);</span><span class="c1">// å…¨å±æ¨¡å¼ä¸‹ï¼š return r.bottom</span>
    <span class="o">}</span>

<span class="o">}</span></code></pre>

<p>ä»£ç å¤§è‡´æ˜¯åšäº†è¿™ä¹ˆå‡ ä»¶äº‹ï¼š </p>
<h3 id="1.æ‰¾åˆ°activityçš„æ ¹View">1.æ‰¾åˆ°activityçš„æ ¹View</h3>
<p>çœ‹ä¸€ä¸‹å…¥å£çš„ä»£ç ï¼š</p>
<pre class="highlight java"><code><span class="n">FrameLayout</span> <span class="n">content</span> <span class="o">=</span> <span class="o">(</span><span class="n">FrameLayout</span><span class="o">)</span> <span class="n">activity</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">android</span><span class="o">.</span><span class="na">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">content</span><span class="o">);</span>
<span class="n">mChildOfContent</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="na">getChildAt</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span></code></pre>

<p>å…¶ä¸­ï¼Œç¬¬ä¸€è¡Œä¸­çš„<code>android.R.id.content</code>æ‰€æŒ‡çš„Viewï¼Œæ˜¯Androidæ‰€æœ‰Activityç•Œé¢ä¸Šå¼€å‘è€…æ‰€èƒ½æ§åˆ¶çš„åŒºåŸŸçš„æ ¹Viewã€‚</p>

<blockquote>
<ul>
<li>å¦‚æœActivityæ˜¯<code>å…¨å±æ¨¡å¼</code>ï¼Œé‚£ä¹ˆandroid.R.id.contentå°±æ˜¯å æ»¡å…¨éƒ¨å±å¹•åŒºåŸŸçš„ã€‚</li>
<li>å¦‚æœActivityæ˜¯æ™®é€šçš„<code>éå…¨å±æ¨¡å¼</code>ï¼Œé‚£ä¹ˆandroid.R.id.contentå°±æ˜¯å æ»¡é™¤çŠ¶æ€æ ä¹‹å¤–çš„æ‰€æœ‰åŒºåŸŸã€‚</li>
<li>å…¶ä»–æƒ…å†µï¼Œå¦‚Activityæ˜¯å¼¹çª—ã€æˆ–è€…7.0ä»¥åçš„åˆ†å±æ ·å¼ç­‰ï¼Œandroid.R.id.contentä¹Ÿæ˜¯å¼¹çª—çš„èŒƒå›´æˆ–è€…åˆ†å±æ‰€åœ¨çš„åŠä¸ªå±å¹•â€”â€”è¿™äº›æƒ…å†µè¾ƒå°‘ï¼Œå°±æš‚ä¸”ä¸è€ƒè™‘äº†ã€‚</li>
</ul>
</blockquote>

<p>æˆ‘ä»¬ç»å¸¸ç”¨çš„setContentView(View view)/setContent(int layRes)å…¶å®å°±æ˜¯æŠŠæˆ‘ä»¬æŒ‡å®šçš„Viewæˆ–è€…layResæ”¾åˆ°android.R.id.contenté‡Œé¢ï¼Œæˆä¸ºå®ƒçš„å­Viewã€‚</p>

<p>æ‰€ä»¥ï¼Œç„¶åï¼Œç¬¬äºŒè¡Œcontent.getChildAt(0)è·å–åˆ°çš„<code>mChildOfContent</code>ï¼Œå…¶å®ä¹Ÿå°±æ˜¯ç”¨ä»¥è·å–åˆ°æˆ‘ä»¬ç”¨setContentViewæ”¾è¿›å»çš„Viewã€‚</p>
<h3 id="2.è®¾ç½®ä¸€ä¸ªListenerç›‘å¬Viewæ ‘å˜åŒ–">2.è®¾ç½®ä¸€ä¸ªListenerç›‘å¬Viewæ ‘å˜åŒ–</h3><pre class="highlight java"><code><span class="n">mChildOfContent</span><span class="o">.</span><span class="na">getViewTreeObserver</span><span class="o">().</span><span class="na">addOnGlobalLayoutListener</span><span class="o">({</span> <span class="c1">//ç®€åŒ–äº†å†™æ³•</span>
        <span class="n">possiblyResizeChildOfContent</span><span class="o">();</span>
<span class="o">});</span></code></pre>

<p>View.getViewTreeObserver()å¯ä»¥è·å–ä¸€ä¸ª<code>ViewTreeObserver</code>å¯¹è±¡â€”â€”è¿™ä¸ªå¯¹è±¡æ˜¯ä¸€ä¸ªè§‚å¯Ÿè€…ï¼Œä¸“é—¨ç”¨ä»¥ç›‘å¬å½“å‰Viewæ ‘æ‰€å‘ç”Ÿçš„ä¸€äº›å˜åŒ–ã€‚è¿™é‡Œæ‰€æ³¨å†Œçš„<code>addOnGlobalLayoutListener</code>ï¼Œå°±æ˜¯ä¼šåœ¨å½“å‰çš„Viewæ ‘çš„å…¨å±€å¸ƒå±€ï¼ˆGlobalLayoutï¼‰å‘ç”Ÿå˜åŒ–ã€æˆ–è€…å…¶ä¸­çš„Viewå¯è§†çŠ¶æ€æœ‰å˜åŒ–æ—¶ï¼Œè¿›è¡Œé€šçŸ¥å›è°ƒã€‚</p>

<p>â€”â€”<strong>ã€è½¯é”®ç›˜å¼¹å‡ºã€ï¼Œåˆ™æ˜¯ä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶çš„ä¸€ä¸ªæºã€‚</strong> (è½¯é”®ç›˜å¼¹å‡ºä¼šä½¿GlobalLayoutå‘ç”Ÿå˜åŒ–)</p>

<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨èƒ½ç›‘å¬åˆ°ã€è½¯é”®ç›˜å¼¹å‡ºã€çš„äº‹ä»¶äº†ã€‚ </p>
<h3 id="3.ç•Œé¢å˜åŒ–ä¹‹åï¼Œè·å–">3.ç•Œé¢å˜åŒ–ä¹‹åï¼Œè·å–"å¯ç”¨é«˜åº¦"</h3>
<p>å½“è½¯é”®ç›˜å¼¹å‡ºäº†ä¹‹åï¼Œæ¥ä¸‹æ¥çš„äº‹æƒ…æ˜¯è·å–æ”¹å˜ä¹‹åçš„ç•Œé¢çš„<code>å¯ç”¨é«˜åº¦</code>ï¼ˆå¯ä»¥è¢«å¼€å‘è€…ç”¨ä»¥æ˜¾ç¤ºå†…å®¹çš„é«˜åº¦ï¼‰ã€‚<br>
ç›´æ¥çœ‹ä»£ç ï¼š</p>
<pre class="highlight java"><code>    <span class="kd">private</span> <span class="kt">int</span> <span class="nf">computeUsableHeight</span><span class="p">(</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Rect</span> <span class="n">rect</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Rect</span><span class="o">();</span>
        <span class="n">mChildOfContent</span><span class="o">.</span><span class="na">getWindowVisibleDisplayFrame</span><span class="o">(</span><span class="n">rect</span><span class="o">);</span>
        <span class="c1">// rect.topå…¶å®æ˜¯çŠ¶æ€æ çš„é«˜åº¦ï¼Œå¦‚æœæ˜¯å…¨å±ä¸»é¢˜ï¼Œç›´æ¥ return rect.bottomå°±å¯ä»¥äº†</span>
        <span class="k">return</span> <span class="o">(</span><span class="n">rect</span><span class="o">.</span><span class="na">bottom</span> <span class="o">-</span> <span class="n">rect</span><span class="o">.</span><span class="na">top</span><span class="o">);</span>
    <span class="o">}</span></code></pre>

<p>View.getWindowVisibleDisplayFrame(Rect rect)ï¼Œè¿™è¡Œä»£ç èƒ½å¤Ÿè·å–åˆ°çš„Rectâ€”â€”å°±æ˜¯ç•Œé¢é™¤å»äº†æ ‡é¢˜æ ã€é™¤å»äº†è¢«è½¯é”®ç›˜æŒ¡ä½çš„éƒ¨åˆ†ï¼Œæ‰€å‰©ä¸‹çš„çŸ©å½¢åŒºåŸŸâ€”â€”å¦‚å›¾æ‰€ç¤ºï¼Œçº¢æ¡†ä¸­çš„åŒºåŸŸã€‚ <br>
<a href="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/a080a4da817215be58f6c9a299b23173.jpg" class="zoom-image fluidbox" data-action="zoom"><div class="fluidbox-wrap" style="z-index: 990;"><img src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/a080a4da817215be58f6c9a299b23173.jpg" title="" alt="RectåŒºåŸŸç¤ºæ„å›¾" style="opacity: 1;"><div class="fluidbox-ghost" style="width: 422px; height: 657px; top: 0px; left: 0px;"></div></div></a><br>
â†‘ä¹Ÿå¯ä»¥çœ‹å‡ºï¼š</p>

<ul>
<li>rect.topå€¼ï¼Œå…¶å®å°±æ˜¯æ ‡é¢˜æ çš„é«˜åº¦ã€‚ï¼ˆå®é™…ä¸Šï¼Œè¿™ä¹Ÿå¸¸å¸¸è¢«ç”¨ä½œä¸ºè·å–æ ‡é¢˜æ é«˜åº¦çš„æ–¹æ³•ï¼‰</li>
<li>å±å¹•é«˜åº¦-rect.bottomï¼Œæ˜¯è½¯é”®ç›˜çš„é«˜åº¦ã€‚ï¼ˆè·å–è½¯é”®ç›˜é«˜åº¦çš„æ–¹æ³•ä¹Ÿå‡ºç°äº†ï¼‰</li>
</ul>

<p>è¿™æ—¶ï¼Œå°±æœ‰ï¼š</p>

<ul>
<li>
<code>å…¨å±æ¨¡å¼</code>ä¸‹ï¼Œ<code>å¯ç”¨é«˜åº¦</code> = rect.bottom </li>
<li>é<code>å…¨å±æ¨¡å¼</code>ï¼Œ<code>å¯ç”¨é«˜åº¦</code> = rect.bottom - rect.top</li>
</ul>
<h3 id="4.æœ€åä¸€æ­¥ï¼Œé‡è®¾é«˜åº¦">4.æœ€åä¸€æ­¥ï¼Œé‡è®¾é«˜åº¦</h3>
<p>æˆ‘ä»¬è®¡ç®—å‡ºçš„<code>å¯ç”¨é«˜åº¦</code>ï¼Œæ˜¯ç›®å‰åœ¨è§†è§‰æ•ˆæœä¸Šèƒ½çœ‹åˆ°çš„ç•Œé¢é«˜åº¦ã€‚ä½†å½“å‰ç•Œé¢çš„å®é™…é«˜åº¦æ˜¯æ¯”<code>å¯ç”¨é«˜åº¦</code>è¦å¤šå‡ºä¸€ä¸ªè½¯é”®ç›˜çš„è·ç¦»çš„ã€‚<br>
æ‰€ä»¥ï¼Œæœ€åä¸€æ­¥ï¼Œå°±æ˜¯æŠŠç•Œé¢é«˜åº¦ç½®ä¸º<code>å¯ç”¨é«˜åº¦</code>â€”â€”å¤§åŠŸå‘Šæˆã€‚</p>
<pre class="highlight java"><code>    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">possiblyResizeChildOfContent</span><span class="p">(</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">usableHeightNow</span> <span class="o">=</span> <span class="n">computeUsableHeight</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">usableHeightNow</span> <span class="o">!=</span> <span class="n">usableHeightPrevious</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">usableHeightSansKeyboard</span> <span class="o">=</span> <span class="n">mChildOfContent</span><span class="o">.</span><span class="na">getRootView</span><span class="o">().</span><span class="na">getHeight</span><span class="o">();</span>
            <span class="kt">int</span> <span class="n">heightDifference</span> <span class="o">=</span> <span class="n">usableHeightSansKeyboard</span> <span class="o">-</span> <span class="n">usableHeightNow</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">heightDifference</span> <span class="o">&gt;</span> <span class="o">(</span><span class="n">usableHeightSansKeyboard</span><span class="o">/</span><span class="mi">4</span><span class="o">))</span> <span class="o">{</span>
                <span class="c1">// keyboard probably just became visible</span>
                <span class="n">frameLayoutParams</span><span class="o">.</span><span class="na">height</span> <span class="o">=</span> <span class="n">usableHeightSansKeyboard</span> <span class="o">-</span> <span class="n">heightDifference</span><span class="o">;</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="c1">// keyboard probably just became hidden</span>
                <span class="n">frameLayoutParams</span><span class="o">.</span><span class="na">height</span> <span class="o">=</span> <span class="n">usableHeightSansKeyboard</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="n">mChildOfContent</span><span class="o">.</span><span class="na">requestLayout</span><span class="o">();</span>
            <span class="n">usableHeightPrevious</span> <span class="o">=</span> <span class="n">usableHeightNow</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span></code></pre>

<p>ä¸Šé¢çš„ä»£ç é‡Œæ·»åŠ äº†ä¸€ä¸ª"heightDifference &gt; (usableHeightSansKeyboard/4)"çš„åˆ¤æ–­ï¼Œè¿™æ˜¯ä¸ºäº†å»é™¤æ— è°“çš„å¹²æ‰°ã€‚å› ä¸ºèƒ½è§¦å‘OnGlobalLayoutäº‹ä»¶çš„åŸå› æœ‰å¾ˆå¤šï¼Œä¸æ­¢æ˜¯è½¯é”®ç›˜çš„å¼¹å‡ºå˜åŒ–ï¼Œè¿˜åŒ…æ‹¬å„ç§å­Viewçš„éšè—æ˜¾ç¤ºå˜åŒ–ç­‰ï¼Œå®ƒä»¬å¯¹ç•Œé¢é«˜åº¦çš„å½±å“æœ‰é™ã€‚åŠ ä¸Šäº†è¿™ä¸ªåˆ¤æ–­ä¹‹åï¼Œåªæœ‰ç•Œé¢çš„é«˜åº¦å˜åŒ–è¶…è¿‡1/4çš„å±å¹•é«˜åº¦ï¼Œæ‰ä¼šè¿›è¡Œé‡æ–°è®¾ç½®é«˜åº¦ï¼ŒåŸºæœ¬èƒ½ä¿è¯ä»£ç åªå“åº”è½¯é”®ç›˜çš„å¼¹å‡ºã€‚</p>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>æ€»ç»“èµ·æ¥ï¼Œå°±æ˜¯è¿™æ ·ï¼š</p>

<ol>
<li>æ™®é€šActivityï¼ˆä¸å¸¦WebViewï¼‰ï¼Œç›´æ¥ä½¿ç”¨<code>adjustpan</code>æˆ–è€…<code>adjustResize</code>
</li>
<li>å¦‚æœå¸¦WebViewï¼š<br>

<ul>
<li>a) å¦‚æœé<code>å…¨å±æ¨¡å¼</code>ï¼Œå¯ä»¥ä½¿ç”¨<code>adjustResize</code>
</li>
<li>b) å¦‚æœæ˜¯<code>å…¨å±æ¨¡å¼</code>ï¼Œåˆ™ä½¿ç”¨<code>AndroidBug5497Workaround</code>è¿›è¡Œå¤„ç†ã€‚</li>
</ul>
</li>
</ol>

<p>OKï¼Œä»¥ä¸Šå°±æ˜¯ä¸€æ®µå…³äºã€è½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†ã€çš„çˆ¬å‘ä¹‹æ—…ã€‚</p>

<hr>

<p>æœ‰ç”¨çš„é“¾æ¥ï¼š<br>
<a href="https://code.google.com/p/android/issues/detail?id=5497" rel="nofollow" target="_blank">https://code.google.com/p/android/issues/detail?id=5497</a><br>
<a href="http://stackoverflow.com/a/19494006" rel="nofollow" target="_blank">http://stackoverflow.com/a/19494006</a><br>
<a href="https://developer.android.com/reference/android/view/ViewTreeObserver.html" rel="nofollow" target="_blank">https://developer.android.com/reference/android/view/ViewTreeObserver.html</a></p>

<hr>

<p>å…³äºä½œè€… :<br>
<a href="http://www.barryzhang.com/" rel="nofollow" target="_blank">http://www.barryzhang.com</a> <br>
<a href="https://barryhappy.github.io/" rel="nofollow" target="_blank">https://barryhappy.github.io</a></p>
        </article>


        
      </div>

        <div class="label-awesome">
          <i class="fa fa-diamond awesome"></i> æœ¬å¸–å·²è¢«è®¾ä¸ºç²¾åå¸–ï¼
        </div>

      <div class="panel-footer clearfix">
        <div class="opts">
  <a class="" href="https://www.diycode.cc/account/sign_in"><i class="fa fa-thumbs-up"></i> <span></span></a>
  
  
  <span class="pull-right opts">
  </span>
</div>

      </div>
    </div>

    

    <div id="replies" class="panel panel-default" data-last-floor="15">
      <div class="total panel-heading">
        å…±æ”¶åˆ° <b>15</b> æ¡å›å¤
      </div>
      <div class="items panel-body">
        
          <div class="reply" data-id="1925" id="reply1">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/kymjs"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/2372.jpg" alt="2372"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="å¼ æ¶›" class="hacknews_clear" href="https://www.diycode.cc/kymjs">kymjs</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply1">#1</a> Â· <abbr class="timeago" title="2016-10-27T10:00:35+08:00">1 å¹´å‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="0" data-state="" data-type="Reply" data-id="1925" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span></span></a>
            <a class="edit fa fa-pencil" data-uid="2372" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/1925/edit"></a>
            <a data-floor="1" data-login="kymjs" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p>ğŸ‘ å†™çš„å¾ˆå¥½ï¼Œåº”è¯¥å¯ä»¥å¸®åˆ°å¾ˆå¤šäºº </p>
      </div>
    </div>
</div>
<div class="reply" data-id="1926" id="reply2">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/wuzheng"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/96.png" alt="96"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="wuzheng" class="hacknews_clear" href="https://www.diycode.cc/wuzheng">wuzheng</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply2">#2</a> Â· <abbr class="timeago" title="2016-10-27T11:03:57+08:00">1 å¹´å‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="0" data-state="" data-type="Reply" data-id="1926" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span></span></a>
            <a class="edit fa fa-pencil" data-uid="874" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/1926/edit"></a>
            <a data-floor="2" data-login="wuzheng" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p>æ„Ÿè°¢å¤§ç¥åˆ†äº«ï¼Œè¯·é—®æœ‰é‡åˆ°è¿‡scrollview åµŒå¥—webviewçš„æ—¶å€™,åœ¨webviewä¸­è¾“å…¥,é”®ç›˜é®æŒ¡Webviewçš„å—ï¼Ÿ </p>
      </div>
    </div>
</div>
<div class="reply" data-id="1927" id="reply3">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/barryhappy"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/2553.jpg" alt="2553"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="Barry" class="hacknews_clear" href="https://www.diycode.cc/barryhappy">barryhappy</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply3">#3</a> Â· <abbr class="timeago" title="2016-10-27T11:12:02+08:00">1 å¹´å‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="0" data-state="" data-type="Reply" data-id="1927" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span></span></a>
            <a class="edit fa fa-pencil" data-uid="2553" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/1927/edit"></a>
            <a data-floor="3" data-login="barryhappy" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p><a href="https://www.diycode.cc/topics/383#reply1" class="at_floor" data-floor="1">#1æ¥¼</a> <a href="https://www.diycode.cc/kymjs" class="at_user" title="@kymjs"><i>@</i>kymjs</a>  å¤šè°¢ </p>
      </div>
    </div>
</div>
<div class="reply" data-id="1928" id="reply4">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/barryhappy"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/2553.jpg" alt="2553"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="Barry" class="hacknews_clear" href="https://www.diycode.cc/barryhappy">barryhappy</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply4">#4</a> Â· <abbr class="timeago" title="2016-10-27T11:13:02+08:00">1 å¹´å‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="0" data-state="" data-type="Reply" data-id="1928" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span></span></a>
            <a class="edit fa fa-pencil" data-uid="2553" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/1928/edit"></a>
            <a data-floor="4" data-login="barryhappy" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p><a href="https://www.diycode.cc/topics/383#reply2" class="at_floor" data-floor="2">#2æ¥¼</a> <a href="https://www.diycode.cc/wuzheng" class="at_user" title="@wuzheng"><i>@</i>wuzheng</a>  è¿˜æ²¡é‡åˆ°è¿‡ï¼Œä¸è¿‡ä½ å¯ä»¥è¯•è¯•çœ‹AndroidBug5497Workaroundè¿™ä¸ªæ–¹æ³•ï¼ŒæŒ‰ç†è¯´åº”è¯¥æ˜¯å¯ä»¥çš„ã€‚ </p>
      </div>
    </div>
</div>
<div class="reply" data-id="1929" id="reply5">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/wuzheng"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/96.png" alt="96"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="wuzheng" class="hacknews_clear" href="https://www.diycode.cc/wuzheng">wuzheng</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply5">#5</a> Â· <abbr class="timeago" title="2016-10-27T11:21:44+08:00">1 å¹´å‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="0" data-state="" data-type="Reply" data-id="1929" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span></span></a>
            <a class="edit fa fa-pencil" data-uid="874" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/1929/edit"></a>
            <a data-floor="5" data-login="wuzheng" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p><a href="https://www.diycode.cc/topics/383#reply4" class="at_floor" data-floor="4">#4æ¥¼</a> <a href="https://www.diycode.cc/barryhappy" class="at_user" title="@barryhappy"><i>@</i>barryhappy</a> åˆšè¯•äº†ä¸‹è¿˜æ˜¯ä¸è¡Œ </p>
      </div>
    </div>
</div>
<div class="reply" data-id="1930" id="reply6">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/icegeneral"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/2143.jpg" alt="2143"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="" class="hacknews_clear" href="https://www.diycode.cc/icegeneral">icegeneral</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply6">#6</a> Â· <abbr class="timeago" title="2016-10-27T11:26:58+08:00">1 å¹´å‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="1" data-state="" data-type="Reply" data-id="1930" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span>1 ä¸ªèµ</span></a>
            <a class="edit fa fa-pencil" data-uid="2143" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/1930/edit"></a>
            <a data-floor="6" data-login="icegeneral" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p>å†™å¾—å¾ˆå¥½ï¼Œè¯¦ç»†æ˜“æ‡‚ã€‚è¦æ˜¯æœ‰åŠæ³•èƒ½è®©é”®ç›˜åˆšå¥½æ˜¯åœ¨è¾“å…¥æ¡†çš„åº•ä¸‹ï¼Œå°±æ›´å¥½äº† </p>
      </div>
    </div>
</div>
<div class="reply" data-id="1931" id="reply7">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/piasy"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/653.jpg" alt="653"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="Piasy" class="hacknews_clear" href="https://www.diycode.cc/piasy">piasy</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply7">#7</a> Â· <abbr class="timeago" title="2016-10-27T11:34:29+08:00">1 å¹´å‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="0" data-state="" data-type="Reply" data-id="1931" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span></span></a>
            <a class="edit fa fa-pencil" data-uid="653" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/1931/edit"></a>
            <a data-floor="7" data-login="piasy" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p>å†™å¾—ä¸é”™ï¼Œä¹‹å‰æˆ‘ä¹Ÿå¡«è¿‡é”®ç›˜å¼¹èµ·çš„å‘ï¼Œåœºæ™¯ä¸åŒï¼Œå¤§å®¶ä¹Ÿå¯ä»¥çœ‹çœ‹ï¼š<a href="http://blog.piasy.com/2016/02/24/Android-Multiple-Fragment-Layer/" rel="nofollow" target="_blank">http://blog.piasy.com/2016/02/24/Android-Multiple-Fragment-Layer/</a> </p>
      </div>
    </div>
</div>
<div class="reply" data-id="1932" id="reply8">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/piasy"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/653.jpg" alt="653"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="Piasy" class="hacknews_clear" href="https://www.diycode.cc/piasy">piasy</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply8">#8</a> Â· <abbr class="timeago" title="2016-10-27T11:35:05+08:00">1 å¹´å‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="0" data-state="" data-type="Reply" data-id="1932" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span></span></a>
            <a class="edit fa fa-pencil" data-uid="653" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/1932/edit"></a>
            <a data-floor="8" data-login="piasy" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p><a href="https://www.diycode.cc/topics/383#reply6" class="at_floor" data-floor="6">#6æ¥¼</a> <a href="https://www.diycode.cc/icegeneral" class="at_user" title="@icegeneral"><i>@</i>icegeneral</a> æƒ³ä¸€å—å»äº† </p>
      </div>
    </div>
</div>
<div class="reply" data-id="1935" id="reply9">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/barryhappy"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/2553.jpg" alt="2553"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="Barry" class="hacknews_clear" href="https://www.diycode.cc/barryhappy">barryhappy</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply9">#9</a> Â· <abbr class="timeago" title="2016-10-27T12:07:58+08:00">1 å¹´å‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="0" data-state="" data-type="Reply" data-id="1935" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span></span></a>
            <a class="edit fa fa-pencil" data-uid="2553" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/1935/edit"></a>
            <a data-floor="9" data-login="barryhappy" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p><a href="https://www.diycode.cc/topics/383#reply5" class="at_floor" data-floor="5">#5æ¥¼</a> <a href="https://www.diycode.cc/wuzheng" class="at_user" title="@wuzheng"><i>@</i>wuzheng</a> è´´ä¸€ä¸‹ä»£ç ï¼Ÿ </p>
      </div>
    </div>
</div>
<div class="reply" data-id="1939" id="reply10">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/immortalz"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/96(1).png" alt="96"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="ImmortalZ" class="hacknews_clear" href="https://www.diycode.cc/immortalz">immortalz</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply10">#10</a> Â· <abbr class="timeago" title="2016-10-27T18:31:37+08:00">1 å¹´å‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="0" data-state="" data-type="Reply" data-id="1939" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span></span></a>
            <a class="edit fa fa-pencil" data-uid="2618" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/1939/edit"></a>
            <a data-floor="10" data-login="immortalz" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p>å¤§å®¶æœ‰æ²¡æœ‰é‡åˆ°ï¼Œæ²‰æµ¸å¼åï¼ˆä¸æ˜¯æŒ‡æ¸¸æˆçš„å…¨å±ï¼‰ï¼Œç”¨buildToolsVersion 24.0.2 ç¼–è¯‘ï¼Œå¼¹å‡ºçš„dialogä¸­å¦‚æœåŒ…å«äº†edittextï¼Œå¼¹å‡ºçš„è½¯é”®ç›˜å¹¶ä¸ä¼šæŠŠedittextå‘ä¸Šé¡¶ï¼ˆå¯¼è‡´edittextè¢«é®æŒ¡ï¼‰ï¼Œ<br>
ä½†æŠŠ24.0.2é™ä½æˆ23ç‰ˆæœ¬ä¾‹å¦‚ï¼ˆ23.0.3ï¼‰å°±æ²¡æœ‰é—®é¢˜äº†ï¼Œæ„Ÿè§‰å¥½å‘ï¼Œé«˜ç‰ˆæœ¬çš„åº“ä¸åº”è¯¥æ˜¯å‘ä¸‹å…¼å®¹çš„å—</p>
      </div>
    </div>
</div>
<div class="reply" data-id="1941" id="reply11">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/d_clock"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/30.jpg" alt="30"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="D_clockçˆ±åƒè‘±èŠ±" class="hacknews_clear" href="https://www.diycode.cc/d_clock">d_clock</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply11">#11</a> Â· <abbr class="timeago" title="2016-10-27T22:25:50+08:00">1 å¹´å‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="1" data-state="" data-type="Reply" data-id="1941" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span>1 ä¸ªèµ</span></a>
            <a class="edit fa fa-pencil" data-uid="30" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/1941/edit"></a>
            <a data-floor="11" data-login="d_clock" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p>å¾ˆèµï¼Œä¹‹å‰å¾®ä¿¡çš„ç«¥é‹ä¹Ÿå‘è¿‡ä¸€ä¸ªåº“ï¼Œå…³äºè¾“å…¥æ³•è¿™å—çš„ï¼Œå¤§å®¶å¯ä»¥é¡ºå¸¦çœ‹çœ‹ <a href="https://github.com/Jacksgong/JKeyboardPanelSwitch" rel="nofollow" target="_blank">https://github.com/Jacksgong/JKeyboardPanelSwitch</a> </p>
      </div>
    </div>
</div>
<div class="reply" data-id="1947" id="reply12">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/414081399"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/2079.jpg" alt="2079"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="å°äº‘é¥" class="hacknews_clear" href="https://www.diycode.cc/414081399">414081399</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply12">#12</a> Â· <abbr class="timeago" title="2016-10-28T10:31:20+08:00">1 å¹´å‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="0" data-state="" data-type="Reply" data-id="1947" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span></span></a>
            <a class="edit fa fa-pencil" data-uid="2079" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/1947/edit"></a>
            <a data-floor="12" data-login="414081399" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p>å¾ˆæ£’ï¼ </p>
      </div>
    </div>
</div>
<div class="reply" data-id="1953" id="reply13">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/zubinxiong"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/528.jpg" alt="528"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="ç†Šèƒ–èƒ–" class="hacknews_clear" href="https://www.diycode.cc/zubinxiong">zubinxiong</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply13">#13</a> Â· <abbr class="timeago" title="2016-10-28T17:07:39+08:00">1 å¹´å‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="0" data-state="" data-type="Reply" data-id="1953" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span></span></a>
            <a class="edit fa fa-pencil" data-uid="528" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/1953/edit"></a>
            <a data-floor="13" data-login="zubinxiong" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p>ä¹‹å‰ä¹Ÿæœ‰é‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜ï¼Œéƒ½æ˜¯é€šè¿‡ adjustpan è§£å†³çš„ï¼Œæš‚æ—¶æ²¡é‡åˆ°å…¶ä»–çš„æƒ…å†µã€‚è°¢è°¢åˆ†äº«äº†ï¼Œå¯ä»¥é¿å…ä»¥åè¸©å‘ </p>
      </div>
    </div>
</div>
<div class="reply" data-id="3054" id="reply14">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/l123456789jy"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/96(2).png" alt="96"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="Lazy" class="hacknews_clear" href="https://www.diycode.cc/l123456789jy">l123456789jy</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply14">#14</a> Â· <abbr class="timeago" title="2017-03-29T16:24:22+08:00">7 æœˆå‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="0" data-state="" data-type="Reply" data-id="3054" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span></span></a>
            <a class="edit fa fa-pencil" data-uid="1963" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/3054/edit"></a>
            <a data-floor="14" data-login="l123456789jy" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p>æˆ‘æ˜¯æ¨ªå±å…¨å±è¾“å…¥æ¡†ä¼šè¢«é®æŒ¡ä¸€ç‚¹ï¼Œå…¨å±çš„æ—¶å€™ä½¿ç”¨</p>
<pre class="highlight java"><code> <span class="n">Full</span> <span class="n">screen</span> <span class="n">please</span> <span class="n">use</span>     
<span class="n">View</span> <span class="n">decorView</span> <span class="o">=</span> <span class="n">getWindow</span><span class="o">().</span><span class="na">getDecorView</span><span class="o">();</span>
<span class="c1">// Hide the status bar.</span>
    <span class="kt">int</span> <span class="n">uiOptions</span> <span class="o">=</span> <span class="n">View</span><span class="o">.</span><span class="na">SYSTEM_UI_FLAG_FULLSCREEN</span><span class="o">;</span>
    <span class="n">decorView</span><span class="o">.</span><span class="na">setSystemUiVisibility</span><span class="o">(</span><span class="n">uiOptions</span><span class="o">);</span>  </code></pre>

<p>ä¸è¦ä½¿ç”¨android:Theme.Light.NoTitleBar.Fullscreenï¼Œå°±è§£å†³äº†</p>
      </div>
    </div>
</div>
<div class="reply" data-id="3981" id="reply15">
    <div class="avatar"><a class="hacknews_clear" href="https://www.diycode.cc/zcc"><img class="media-object avatar-48" style="max-width: 252px;" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/96(3).png" alt="96"></a></div>
    <div class="infos">
      <div class="info">
        <span class="name">
          <a data-name="zcc" class="hacknews_clear" href="https://www.diycode.cc/zcc">zcc</a>
        </span> Â·
        <span class="time">
          <a class="reply-floor" href="https://www.diycode.cc/topics/383#reply15">#15</a> Â· <abbr class="timeago" title="2017-08-29T19:43:51+08:00">2 æœˆå‰</abbr>
        </span>
        <span class="opts pull-right">
            <a title="èµ" data-count="0" data-state="" data-type="Reply" data-id="3981" class="likeable " href="https://www.diycode.cc/topics/383#"><i class="fa fa-thumbs-up"></i> <span></span></a>
            <a class="edit fa fa-pencil" data-uid="5530" title="ä¿®æ”¹å›å¸–" href="https://www.diycode.cc/topics/383/replies/3981/edit"></a>
            <a data-floor="15" data-login="zcc" title="å›å¤æ­¤æ¥¼" class="btn-reply fa fa-mail-reply" href="https://www.diycode.cc/topics/383#"></a>
        </span>
      </div>
      <div class="markdown">
        <p>éå¸¸æ„Ÿè°¢ï¼Œå¸®æˆ‘è§£å†³äº†å¤§é—®é¢˜ã€‚ä¸è¿‡æˆ‘é€‚é…çš„padè¿˜é‡åˆ°ä¸€äº›ç›¸å…³çš„é—®é¢˜ï¼Œç‰¹æ„è®°å½•ä¸‹æ¥ï¼š<a href="http://blog.sina.com.cn/s/blog_be2200300102wyz7.html" rel="nofollow" target="_blank">http://blog.sina.com.cn/s/blog_be2200300102wyz7.html</a></p>
      </div>
    </div>
</div>

      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-body">
        <div id="reply" class="form box">
    <div style="padding:20px;">
    éœ€è¦ <a class="btn btn-primary" href="https://www.diycode.cc/account/sign_in">ç™»å½•</a> åæ–¹å¯å›å¤, å¦‚æœä½ è¿˜æ²¡æœ‰è´¦å·è¯·ç‚¹å‡»è¿™é‡Œ <a class="btn btn-danger" href="https://www.diycode.cc/account/sign_up">æ³¨å†Œ</a>ã€‚
    </div>
</div>

      </div>
    </div>
  </div>

  <div class="sidebar hidden-mobile col-md-3">
    <div id="topic-sidebar">
  <div class="panel panel-default">
    <div class="panel-body">
      <a href="https://www.diycode.cc/topics/383#" class="btn btn-block btn-move-page" data-type="top"><i class="fa fa-arrow-up"></i></a>
      <div class="buttons">
        <div class="group likes opts">
          <a class="" href="https://www.diycode.cc/account/sign_in"><i class="fa fa-thumbs-up"></i> <span></span></a>
        </div>
        <div class="group">
          <div class="btn-group" role="group">
            
            
          </div>
        </div>
      </div>
      <hr>
      <div class="group">
        <div class="social-share-button" data-title="Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ via: @diycode_cc " data-img="" data-url="" data-desc="" data-via="">
<a rel="nofollow " data-site="twitter" class="ssb-icon ssb-twitter" onclick="return SocialShareButton.share(this);" title="åˆ†äº«åˆ°Twitter" href="https://www.diycode.cc/topics/383#"></a>
<a rel="nofollow " data-site="facebook" class="ssb-icon ssb-facebook" onclick="return SocialShareButton.share(this);" title="åˆ†äº«åˆ°Facebook" href="https://www.diycode.cc/topics/383#"></a>
<a rel="nofollow " data-site="google_plus" class="ssb-icon ssb-google_plus" onclick="return SocialShareButton.share(this);" title="åˆ†äº«åˆ°Google+" href="https://www.diycode.cc/topics/383#"></a>
<a rel="nofollow " data-site="weibo" class="ssb-icon ssb-weibo" onclick="return SocialShareButton.share(this);" title="åˆ†äº«åˆ°æ–°æµªå¾®åš" href="https://www.diycode.cc/topics/383#"></a>
<a rel="nofollow " data-site="douban" class="ssb-icon ssb-douban" onclick="return SocialShareButton.share(this);" title="åˆ†äº«åˆ°è±†ç“£" href="https://www.diycode.cc/topics/383#"></a>
</div>
      </div>
      <hr>
      <div class="reply-buttons">
        <div class="total">
          å…±æ”¶åˆ° <b>15</b> æ¡å›å¤
        </div>
        <a href="https://www.diycode.cc/topics/383#reply" class="btn btn-success btn-block btn-focus-reply">å‚ä¸å›å¤</a>
      </div>
      <hr>
      <div class="group opts">

      </div>
      <a href="https://www.diycode.cc/topics/383#" class="btn btn-block btn-move-page" data-type="bottom"><i class="fa fa-arrow-down"></i></a>
    </div>
  </div>

  <div class="notify-updated">
    <a class="update" href="https://www.diycode.cc/topics/383#"><i class="fa fa-bell-o"></i> <b>æœ‰æ–°å›å¤ï¼</b>ç‚¹å‡»è¿™é‡Œç«‹å³è½½å…¥</a>
  </div>
</div>

  </div>
</div>

  </div>

  <footer class="footer" id="footer" data-turbolinks-permanent="">
    <div class="container">
      <div class="media">
  <div class="media-left" style="margin-right:20px;">
    <img class="media-object" src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/ef110d40d2fb44c7f5464bbf121ed9d8.png" style="width:56px;">
  </div>
  
  <div class="media-body">
    <div class="links">
 <a href="https://www.diycode.cc/wiki/about">å…³äº</a> / 
<a href="https://www.diycode.cc/users">æ´»è·ƒä¼šå‘˜</a> / 
<a href="https://www.diycode.cc/api">API</a> / 
<a href="https://www.diycode.cc/news">Hacker News</a> /  
<a href="https://www.diycode.cc/tags">tags</a> /  
<a href="https://www.diycode.cc/wiki/followus">å…³æ³¨æˆ‘ä»¬</a>  /  
<a href="https://xiaozhuanlan.com/">å°ä¸“æ </a> 
    </div>
    <div class="copyright">
    DiyCodeç”±ä¼—å¤šå¼€å‘è€…å…±åŒç»´æŠ¤ï¼Œè‡´åŠ›äºæ„å»ºå¼€å‘å·¥ç¨‹å¸ˆé«˜ç«¯äº¤æµåˆ†äº«ç¤¾åŒºã€‚<br>
    å›¾ç‰‡å­˜å‚¨ç”± <a href="https://www.upyun.com/" target="_blank" style="display:inline-block;" rel="twipsy" title="" data-original-title="å›¾ç‰‡å­˜å‚¨ç”±åˆæ‹äº‘èµåŠ©">åˆæ‹äº‘å­˜å‚¨</a> æä¾›ã€‚Inspired by RubyChinaã€‚<a href="http://www.miitbeian.gov.cn/publish/query/indexFirst.action" target="_blank"> ç²¤ICPå¤‡14008250å·</a><br>
    </div>
    <div class="links" style="margin-top:8px" data-no-turbolink="">
       <a href="https://www.diycode.cc/topics/383?locale=zh-CN" rel="nofollow">ç®€ä½“ä¸­æ–‡</a> / <a href="https://www.diycode.cc/topics/383?locale=zh-TW" rel="nofollow">æ­£é«”ä¸­æ–‡</a> / <a href="https://www.diycode.cc/topics/383?locale=en" rel="nofollow">English</a>
    </div>
  </div>
  <div class="media-right" style="width:200px; text-align:right;">
    <a href="http://www.ucloud.cn/" target="_blank" rel="twipsy" title="" style="display:inline-block;margin-right:5px; margin-top: 5px;" data-original-title="æœ¬ç«™æœåŠ¡å™¨ç”± UCloud èµåŠ©"><img src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/60202bb15bf6dc06fc8dd7e8baea061c.png" style="height:24px;"></a>
  </div>

</div>

    </div>

  </footer>

  <script type="text/javascript" data-turbolinks-eval="false">
    App.root_url = "https://www.diycode.cc/";
    App.asset_url = "https://diycode.b0.upaiyun.com";
    App.locale = "zh-CN";
  </script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-92073059-1', 'auto');
    ga('send', 'pageview');
  </script>
    <script type="text/javascript">
    Topics.topic_id = 383;
    $(document).ready(function(){
    })
  </script>

  <div style="display:none">
    <script src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/z_stat.php" language="JavaScript"></script><script src="./Android çˆ¬å‘ä¹‹æ—…ï¼šè½¯é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†é—®é¢˜çš„ç»ˆæè§£å†³æ–¹æ¡ˆ - DiyCode_files/core.php" charset="utf-8" type="text/javascript"></script><a href="http://www.cnzz.com/stat/website.php?web_id=1258132733" target="_blank" title="ç«™é•¿ç»Ÿè®¡">ç«™é•¿ç»Ÿè®¡</a>
  </div>
  <div class="zoom-overlay"></div>


<div id="atwho-container"></div></body></html>