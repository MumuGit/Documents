<!DOCTYPE html>
<!-- saved from url=(0055)https://www.zhihu.com/question/34652589/answer/59578531 -->
<html lang="zh" data-reactroot="" data-reactid="1" data-react-checksum="-1365878020" data-focus-method="pointer"><head data-reactid="2"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title data-reactid="4">Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" data-reactid="5"><meta name="renderer" content="webkit" data-reactid="6"><meta name="force-rendering" content="webkit" data-reactid="7"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" data-reactid="8"><meta name="google-site-verification" content="FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg" data-reactid="9"><link rel="shortcut icon" type="image/x-icon" href="https://static.zhihu.com/static/favicon.ico" data-reactid="11"><link rel="dns-prefetch" href="https://static.zhihu.com/" data-reactid="12"><link rel="dns-prefetch" href="https://pic1.zhihu.com/" data-reactid="13"><link rel="dns-prefetch" href="https://pic2.zhihu.com/" data-reactid="14"><link rel="dns-prefetch" href="https://pic3.zhihu.com/" data-reactid="15"><link rel="dns-prefetch" href="https://pic4.zhihu.com/" data-reactid="16"><link href="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/main.app.ccfedcf40e933e2f6e1e.css" rel="stylesheet" data-reactid="17"><meta name="apple-itunes-app" content="app-id=432274380, app-argument=zhihu://question/34652589" data-react-helmet="true"><script type="text/javascript" charset="utf-8" async="" src="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/main.richinput.a83e5e0ea5cdfafe12a4.js.下载"></script><style type="text/css">.CloseIcon-icon-2xww{transition:opacity .3s ease-out}.CloseIcon-icon-2xww:hover{opacity:.8}</style><style type="text/css">.animations-fadeIn-1aFv{animation:animations-fadeIn-1aFv .3s ease-out both}@keyframes animations-fadeIn-1aFv{0%{opacity:0}to{opacity:1}}.animations-fadeOut-3XSQ{animation:animations-fadeOut-3XSQ .3s ease-out both}@keyframes animations-fadeOut-3XSQ{0%{opacity:1}to{opacity:0}}.animations-fadeInUp-3KKK{animation:animations-fadeInUp-3KKK .3s cubic-bezier(.25,.1,.35,1) both}@keyframes animations-fadeInUp-3KKK{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animations-fadeOutDown-r_A_{animation:animations-fadeOutDown-r_A_ .3s cubic-bezier(.25,.1,.35,1) both}@keyframes animations-fadeOutDown-r_A_{0%{transform:translateY(0)}to{opacity:0;transform:translateY(20px)}}</style><style type="text/css">.Modal-backdrop-2ksh{background-color:rgba(0,0,0,.65)}.Modal-backdrop-2ksh,.Modal-modalWrapper-56Mq{position:fixed;top:0;right:0;bottom:0;left:0;z-index:10010}.Modal-modalWrapper-56Mq{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.Modal-modal-wf58{position:relative;z-index:10011;background:#fff;border-radius:2px}.Modal-content-3JxL{width:588px;max-height:calc(100vh - 24px * 2);overflow-x:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}.Modal-closeButton-3JkR{position:absolute;top:4px;right:-44px;padding:12px;width:40px;height:40px;cursor:pointer;box-sizing:border-box;background:none;outline:none;border:none}</style><style type="text/css">.FeedbackButton-button-3waL{position:fixed;z-index:10000;bottom:40px;right:40px;width:40px;height:40px;cursor:pointer;border-radius:50%;background-color:#fff;border:none;outline:none;box-shadow:0 0 10px rgba(0,0,0,.15);font-weight:700;line-height:normal}.FeedbackButton-icon-1Rgw{display:inline-block;vertical-align:middle;width:18px;height:18px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzUiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNSAzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+R3JvdXAgNjwvdGl0bGU+PGcgZmlsbD0iIzAwOEZFQiIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTMgMTguM2MwLS40IDAtLjcuNC0xIC4yLS4yLjUtLjMuOC0uMy40IDAgLjcgMCAxIC40LjIuMi4zLjUuMyAxIDAgLjIgMCAuNS0uNC43IDAgLjQtLjQuNS0uOC41LS4zIDAtLjYgMC0uOC0uNC0uMyAwLS40LS40LS40LS43ek0xMCAxMC43di0xYy40LTEgMS41LTIuNyA0LjItMi43IDIgMCAzLjggMS40IDMuOCAzcy0xLjQgMi43LTIgMy4zYy0uOC42LTEgMS0xLjIgMS43LS4yLjYtLjYgMS0xLjMgMS0uMy0uMi0uNi0uMy0uNy0uNXYtLjhjMC0uMiAwLS43LjMtMS4ybDEuNC0xLjVjMS40LTEuMiAxLjYtMiAuOC0yLjgtLjUtLjQtMS42LS41LTIuMiAwLS44LjQtMSAxLTEuMiAxLjMtLjIuNS0uMyAxLTEuMyAxLS4zLS4yLS40LS40LS41LS44eiIvPjxwYXRoIGQ9Ik0yOS44IDEwLjJ2M2MxLjQgMS44IDIuMyA0IDIuMyA2LjMgMCAzLjgtMi4yIDctNS41IDl2My44bC0zLjctMi41LTMgLjNjLTIuOCAwLTQuMy0uOC02LjQtMi4yaC0zLjFDMTMgMzAuNCAxNS42IDMyIDIwIDMyYy44IDAgMS43IDAgMi42LS4ybDYgNHYtNi40YzMuNS0yLjQgNS43LTYgNS43LTEwIDAtMy42LTEuNy03LTQuNS05LjJ6TTE0LjQgMjUuNmM4IDAgMTMuMi02IDEzLjItMTNTMjEgMCAxNC40IDBDNi40IDAgMCA1LjcgMCAxMi43YzAgNCAxLjUgNy41IDQuNCAxMFYyOWw2LjMtMy42IDMuNy4yek0xNC4yIDJjNi41IDAgMTEuNSA1LjMgMTEuNSAxMUMyNS43IDE5IDIxIDI0IDE0LjQgMjRjLTEgMC0zLjYtLjMtNC41LS41TDYgMjUuN3YtNGMtMi43LTIuMi00LTUtNC04LjZDMiA3IDcgMiAxNCAyeiIvPjwvZz48L3N2Zz4=);background-repeat:no-repeat;background-size:contain}.FeedbackButton-button-3waL:hover .FeedbackButton-icon-1Rgw{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzUiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNSAzNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+R3JvdXAgMTE8L3RpdGxlPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTI5LjQgMTNjMCAyLS4zIDguMi01IDExLjQtNC4zIDMtOSAzLjMtMTEuMyAzLjNoLTNjMi44IDIuNyA2LjYgNC44IDEyLjIgNCAxIDAgNi4zIDQgNi4zIDRWMjljMy41LTIuMyA1LjMtNS4yIDUuNi05LjUuMy0zLjctMS42LTctNC41LTkuNXYzem0tMTUgMTIuNmM4IDAgMTMuMi02IDEzLjItMTNTMjEgMCAxNC40IDBDNi40IDAgMCA1LjcgMCAxMi43YzAgNCAxLjUgNy41IDQuNCAxMFYyOWw2LjMtMy42IDMuNy4zeiIgZmlsbD0iIzAwOEZFQiIvPjxwYXRoIGQ9Ik0xMyAxOC4zYzAtLjQgMC0uNy40LTFzLjUtLjMuOC0uM2MuNCAwIC43IDAgMSAuNC4yLjIuMy41LjMgMSAwIC4yIDAgLjUtLjQuNyAwIC40LS40LjUtLjguNS0uMyAwLS42IDAtLjgtLjQtLjMgMC0uNC0uNC0uNC0uN3ptLTMtNy42di0xYy40LTEgMS40LTIuNyA0LjItMi43IDIgMCAzLjggMS40IDMuOCAzcy0xLjQgMi43LTIgMy4zYy0uOC42LTEgMS0xLjIgMS43LS4yLjYtLjYgMS0xLjMgMS0uMy0uMi0uNi0uMy0uNy0uNXYtLjhjMC0uMiAwLS43LjMtMS4ybDEuNC0xLjVjMS40LTEuMiAxLjYtMiAuOC0yLjgtLjUtLjQtMS42LS41LTIuMiAwLS44LjQtMSAxLTEuMiAxLjMtLjIuNS0uMyAxLTEuMyAxLS4zLS4yLS40LS40LS41LS44eiIgZmlsbD0iI0ZGRiIvPjwvZz48L3N2Zz4=)}</style><style type="text/css">.DrawingExample-svg-30WA{position:absolute;top:30px;right:0;left:0;margin:auto;transform:rotate(-44deg)}.DrawingExample-ellipse-26bv{stroke-dasharray:520;transform-origin:center;animation:DrawingExample-drawingExample-3Bm3 .6s linear both}@keyframes DrawingExample-drawingExample-3Bm3{0%{stroke-dashoffset:520}50%{stroke-dashoffset:1000;opacity:1}to{stroke-dashoffset:1000;opacity:0}}</style><style type="text/css">.Spinner-spinner-2PGn{position:absolute;width:30px;height:30px;top:50%;left:50%;margin:-15px 0 0 -15px;animation:Spinner-rotate-RMMJ .8s linear infinite}.Spinner-spinner-2PGn .Spinner-circle-teFy{stroke:#4197ff;stroke-dasharray:187;stroke-dashoffset:46.75;transform-origin:center}@keyframes Spinner-rotate-RMMJ{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}</style><style type="text/css">.FeedbackForm-form-1uUg{padding:40px 24px 32px;width:100%;font-size:14px;line-height:1.5;font-family:HelveticaNeue-Light,Helvetica,PingFangSC-Light,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;color:#404040;box-sizing:border-box}.FeedbackForm-header-3hQI{margin-bottom:26px;text-align:center}.FeedbackForm-title-2uCC{font-size:24px;font-weight:500;line-height:33px;font-family:Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif}.FeedbackForm-inputBox-15yJ{display:block;padding:12px;width:100%;height:auto;font-size:15px;border:1px solid #e7eaf1;border-radius:3px;box-sizing:border-box;resize:none;outline:none;color:inherit;transition:box-shadow .15s ease-out;overflow:auto}.FeedbackForm-inputBox-15yJ::-webkit-input-placeholder{color:#9aaabf;transition:color .15s ease-out}.FeedbackForm-inputBox-15yJ::-moz-placeholder{color:#9aaabf;transition:color .15s ease-out}.FeedbackForm-inputBox-15yJ:-ms-input-placeholder{color:#9aaabf;transition:color .15s ease-out}.FeedbackForm-inputBox-15yJ::placeholder{color:#9aaabf;transition:color .15s ease-out}.FeedbackForm-inputBox-15yJ:hover::-webkit-input-placeholder{color:rgba(154,170,191,.8)}.FeedbackForm-inputBox-15yJ:hover::-moz-placeholder{color:rgba(154,170,191,.8)}.FeedbackForm-inputBox-15yJ:hover:-ms-input-placeholder{color:rgba(154,170,191,.8)}.FeedbackForm-inputBox-15yJ:hover::placeholder{color:rgba(154,170,191,.8)}.FeedbackForm-inputBox-15yJ:focus{box-shadow:0 0 5px #e7eaf1}.FeedbackForm-inputBox-15yJ:focus::-webkit-input-placeholder{color:rgba(154,170,191,.8)}.FeedbackForm-inputBox-15yJ:focus::-moz-placeholder{color:rgba(154,170,191,.8)}.FeedbackForm-inputBox-15yJ:focus:-ms-input-placeholder{color:rgba(154,170,191,.8)}.FeedbackForm-inputBox-15yJ:focus::placeholder{color:rgba(154,170,191,.8)}.FeedbackForm-inputBox-15yJ.FeedbackForm-isWarning-2ds-{border-color:#f75659}.FeedbackForm-inputBox-15yJ.FeedbackForm-isWarning-2ds-::-webkit-input-placeholder{color:#f75659}.FeedbackForm-inputBox-15yJ.FeedbackForm-isWarning-2ds-::-moz-placeholder{color:#f75659}.FeedbackForm-inputBox-15yJ.FeedbackForm-isWarning-2ds-:-ms-input-placeholder{color:#f75659}.FeedbackForm-inputBox-15yJ.FeedbackForm-isWarning-2ds-::placeholder{color:#f75659}.FeedbackForm-inputBox-15yJ.FeedbackForm-isWarning-2ds-:focus{box-shadow:none}.FeedbackForm-screenShot--Gsn{overflow:hidden;box-sizing:border-box;transition:max-height .3s ease,opacity .3s ease}.FeedbackForm-screenShotLabel-2Sgh{padding-top:22px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.FeedbackForm-canvasContainer-mrde{margin-top:8px;position:relative;background-color:#f6f7f9}.FeedbackForm-canvas-tSGI{display:block;max-width:100%;cursor:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABGdBTUEAALGPC/xhBQAAARpJREFUOBGdkr1KA0EUhTcxEkSQQIpAihQWPoedD2BnIVsZQiBVEkiR7SwtBDsJqXwBLQwEgoWNjY2FjYUQ38Ei5Oc7sBeGLTKze+Djzsyecxh2N4ryq0zkHpYQQ2H1SW5TNsxukaZzQsewACvTvIBg3eFUaABHMEv3OruBIN3icm8wZl+FZ3iBQ/AqweGW2FrlKlChV0McFsxOvaegm/T2lLzzTC/dqzaO7A1s/8GzE28Dhhj0f1jQnZ+c18CrKxxrcMO2/uK87m3AcAkrsKA7vzlvQJAmuNywrX84bwY1YBrBATyCFWj+QguCJKNCU1DZQ7r/Y55CsK5x2i2eWFcggTPIJd3Eiv5Zd3KlU3OJOQd9lVd4A5Xl1g4YG2GGhwRfegAAAABJRU5ErkJggg==) 0 17,default;cursor:-webkit-image-set(url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABGdBTUEAALGPC/xhBQAAARpJREFUOBGdkr1KA0EUhTcxEkSQQIpAihQWPoedD2BnIVsZQiBVEkiR7SwtBDsJqXwBLQwEgoWNjY2FjYUQ38Ei5Oc7sBeGLTKze+Djzsyecxh2N4ryq0zkHpYQQ2H1SW5TNsxukaZzQsewACvTvIBg3eFUaABHMEv3OruBIN3icm8wZl+FZ3iBQ/AqweGW2FrlKlChV0McFsxOvaegm/T2lLzzTC/dqzaO7A1s/8GzE28Dhhj0f1jQnZ+c18CrKxxrcMO2/uK87m3AcAkrsKA7vzlvQJAmuNywrX84bwY1YBrBATyCFWj+QguCJKNCU1DZQ7r/Y55CsK5x2i2eWFcggTPIJd3Eiv5Zd3KlU3OJOQd9lVd4A5Xl1g4YG2GGhwRfegAAAABJRU5ErkJggg==) 1x,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABGdBTUEAALGPC/xhBQAAAn9JREFUWAnFlz1IV2EUxs2+ixCCrCCrIaiGGnLIRdBacqkhtCEbqqVaoqmacpIma6rFHHITh1pKMKFaInATkb4hKChKIwj7rt8D74XDy3tfKM69Hng4zz3nvc9zfH3/93//DQ31xWqsBsEnMAU6wILFSpwnwB+Db/BDoPZYjuMYsMMU/Af1nron2o7hh5KBNNhP0AtqjV24vQPFzsT5F70jVU7UiPhNcNyY7IC/AfEwxfUsvcVmvRtdhNIQkNFvcAoUsQ3yGhRDxLmpWOiZryUMzxqDrfCXiTXjZo0bvZIwKnbhvHHZBH9q1s7Am03fhV42BsUQcb5knDbAp8EzsNHUXWgfKrF52XW/cVwH1265xgXUyszL6gOuExixc/8xjIZ8C9YbHRd6GpWyHcjV33PfTpcJjMgJuJ4xOeNU7yP37DY6LvQoKnrUpwxzNb12tLpMYES64foyzBmnep+5p83ouNCDqHwHKcNc7Qv3tLtMYEQOwPVClTNO9ea5Z7/RcaH7UJFwyjBX0x/Q5TKBEdFWa8tzxqme3gTdX0/3IqrDmDLM1XTodfhdYw9qcyBnnOrpcdDrOglienDpAZYyzNX0oDwJ3GMUxZxxWe+M+yRBcBX53j8OpS9Z9ziM4tKguoJ8B5Tthq1fDPe4p+co3gbLgrLyLWDNY94X1rqnFmN8F64dUiwBIyAeRNd6Za0sjqFsTXWGdJYU+q00DGz/qhpVxg3EraH4Q7AmmDaSB4Hq10Ot0vQimMVDPaLeFJz1A1DvQsqVxmbU40Hs9ST9tZVOYMT1r+gw1zF9ReEx2BI3qrrWp6jTiH+FPwD6pI2BJ6DW0HkYBzNAQ9wH82DB4i/kUnkzGX+skQAAAABJRU5ErkJggg==) 2x) 0 17,default}.FeedbackForm-canvas-tSGI.FeedbackForm-isCapturing-3UFp{display:none}.FeedbackForm-checkLabelWrapper-3B7w{margin-top:12px}.FeedbackForm-checkLabel-2VTb{cursor:pointer;color:#9aaabf;transition:color .15s ease-out;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.FeedbackForm-checkLabel-2VTb:hover{color:rgba(154,170,191,.8)}.FeedbackForm-checkLabel-2VTb input{margin-right:.5em;vertical-align:1px}.FeedbackForm-actions-dJ87{margin-top:40px;text-align:center}.FeedbackForm-submitButton-1oKQ{display:inline-block;min-width:220px;padding:8px 1em;background-color:#0f88eb;border:1px solid #0f88eb;border-radius:3px;font:inherit;color:#fff;transition:background-color .15s ease-out,opacity .15s ease-out;cursor:pointer;outline:none}.FeedbackForm-submitButton-1oKQ[disabled]{opacity:.8;cursor:default}.FeedbackForm-submitButton-1oKQ:hover{background-color:#0d79d1}.FeedbackForm-submitButton-1oKQ:active{opacity:.8}.FeedbackForm-successMask-34go{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff}.FeedbackForm-successTitle-1Y6p{font-size:24px;font-weight:500;line-height:33px;font-family:Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;text-align:center}.FeedbackForm-successSubtitle-A_aP{margin-top:10px;font-size:18px;line-height:33px;text-align:center}</style></head><body class="Entry-body" data-reactid="18"><div id="root" data-reactid="19"><div data-reactroot=""><!-- react-empty: 2 --><div class="LoadingBar"></div><!-- react-empty: 4 --><div><header role="banner" class="Sticky AppHeader is-fixed is-hidden" data-za-module="TopNavBar" style="width: 1903px; top: 0px; left: 0px;"><!-- react-empty: 271 --><div class="AppHeader-inner"><a href="https://www.zhihu.com/" aria-label="知乎"><svg viewBox="0 0 200 91" class="Icon Icon--logo" width="64" height="30" aria-hidden="true" style="fill: rgb(15, 136, 235); height: 30px; width: 64px;"><title></title><g><path d="M53.29 80.035l7.32.002 2.41 8.24 13.128-8.24h15.477v-67.98H53.29v67.978zm7.79-60.598h22.756v53.22h-8.73l-8.718 5.473-1.587-5.46-3.72-.012v-53.22zM46.818 43.162h-16.35c.545-8.467.687-16.12.687-22.955h15.987s.615-7.05-2.68-6.97H16.807c1.09-4.1 2.46-8.332 4.1-12.708 0 0-7.523 0-10.085 6.74-1.06 2.78-4.128 13.48-9.592 24.41 1.84-.2 7.927-.37 11.512-6.94.66-1.84.785-2.08 1.605-4.54h9.02c0 3.28-.374 20.9-.526 22.95H6.51c-3.67 0-4.863 7.38-4.863 7.38H22.14C20.765 66.11 13.385 79.24 0 89.62c6.403 1.828 12.784-.29 15.937-3.094 0 0 7.182-6.53 11.12-21.64L43.92 85.18s2.473-8.402-.388-12.496c-2.37-2.788-8.768-10.33-11.496-13.064l-4.57 3.627c1.363-4.368 2.183-8.61 2.46-12.71H49.19s-.027-7.38-2.372-7.38zm128.752-.502c6.51-8.013 14.054-18.302 14.054-18.302s-5.827-4.625-8.556-1.27c-1.874 2.548-11.51 15.063-11.51 15.063l6.012 4.51zm-46.903-18.462c-2.814-2.577-8.096.667-8.096.667s12.35 17.2 12.85 17.953l6.08-4.29s-8.02-11.752-10.83-14.33zM199.99 46.5c-6.18 0-40.908.292-40.953.292v-31.56c1.503 0 3.882-.124 7.14-.376 12.773-.753 21.914-1.25 27.427-1.504 0 0 3.817-8.496-.185-10.45-.96-.37-7.24 1.43-7.24 1.43s-51.63 5.153-72.61 5.64c.5 2.756 2.38 5.336 4.93 6.11 4.16 1.087 7.09.53 15.36.277 7.76-.5 13.65-.76 17.66-.76v31.19h-41.71s.88 6.97 7.97 7.14h33.73v22.16c0 4.364-3.498 6.87-7.65 6.6-4.4.034-8.15-.36-13.027-.566.623 1.24 1.977 4.496 6.035 6.824 3.087 1.502 5.054 2.053 8.13 2.053 9.237 0 14.27-5.4 14.027-14.16V53.93h38.235c3.026 0 2.72-7.432 2.72-7.432z" fill-rule="evenodd"></path></g></svg></a><nav role="navigation" class="AppHeader-nav"><a class="AppHeader-navItem" href="https://www.zhihu.com/">首页</a><a class="AppHeader-navItem" href="https://www.zhihu.com/explore">发现</a><a class="AppHeader-navItem" href="https://www.zhihu.com/topic">话题</a></nav><div class="SearchBar" role="search"><div class="SearchBar-toolWrapper"><form class="SearchBar-tool"><div><div class="Popover"><div class="SearchBar-input Input-wrapper Input-wrapper--grey"><input type="text" maxlength="100" value="" autocomplete="off" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-activedescendant="AutoComplete-71073-48761--1" id="Popover-71074-47069-toggle" aria-haspopup="true" aria-owns="Popover-71074-47069-content" class="Input" placeholder="搜索你感兴趣的内容…"><div class="Input-after"><button class="Button SearchBar-searchIcon Button--primary" aria-label="搜索" type="button"><svg viewBox="0 0 16 16" class="Icon Icon--search" width="16" height="16" aria-hidden="true" style="height: 16px; width: 16px;"><title></title><g><path d="M12.054 10.864c.887-1.14 1.42-2.57 1.42-4.127C13.474 3.017 10.457 0 6.737 0S0 3.016 0 6.737c0 3.72 3.016 6.737 6.737 6.737 1.556 0 2.985-.533 4.127-1.42l3.103 3.104c.765.46 1.705-.37 1.19-1.19l-3.103-3.104zm-5.317.925c-2.786 0-5.053-2.267-5.053-5.053S3.95 1.684 6.737 1.684 11.79 3.95 11.79 6.737 9.522 11.79 6.736 11.79z"></path></g></svg></button></div></div><!-- react-empty: 29 --></div></div></form></div></div><div class="AppHeader-userInfo"><!-- react-empty: 31 --><div class="AppHeader-profile"><div><button class="Button AppHeader-login Button--blue" type="button">登录</button><button class="Button Button--primary Button--blue" type="button">加入知乎</button></div></div></div></div><div class="PageHeader is-shown"><div data-reactroot="" class="QuestionHeader-content"><div class="QuestionHeader-main"><h1 class="QuestionHeader-title">Android中为什么主线程不会因为Looper.loop()里的死循环卡死？</h1></div><div class="QuestionHeader-side"><div class="QuestionButtonGroup"><button class="Button Button--primary Button--blue" type="button">关注问题</button><button class="Button Button--blue" type="button"><svg viewBox="0 0 12 12" class="Icon Button-icon Icon--modify" width="14" height="16" aria-hidden="true" style="height: 16px; width: 14px;"><title></title><g><path d="M.423 10.32L0 12l1.667-.474 1.55-.44-2.4-2.33-.394 1.564zM10.153.233c-.327-.318-.85-.31-1.17.018l-.793.817 2.49 2.414.792-.814c.318-.328.312-.852-.017-1.17l-1.3-1.263zM3.84 10.536L1.35 8.122l6.265-6.46 2.49 2.414-6.265 6.46z" fill-rule="evenodd"></path></g></svg><!-- react-text: 11 -->写回答<!-- /react-text --></button></div></div></div></div></header><div class="Sticky--holder" style="position: relative; top: 0px; right: 0px; bottom: 0px; left: 0px; display: block; float: none; margin: 0px; height: 53px;"></div></div><!-- react-empty: 36 --><main role="main" class="App-main"><div itemscope="" itemtype="http://schema.org/Question"><!-- react-empty: 39 --><meta itemprop="name" content="Android中为什么主线程不会因为Looper.loop()里的死循环卡死？"><meta itemprop="url" content="https://www.zhihu.com/question/34652589"><meta itemprop="keywords" content="Android 开发,Android 开发咨询,Android系统源码"><meta itemprop="answerCount" content="36"><meta itemprop="commentCount" content="1"><meta itemprop="dateCreated" content="2015-08-17T02:17:58.000Z"><meta itemprop="dateModified" content="2015-08-17T03:59:28.000Z"><meta itemprop="zhihu:visitsCount"><meta itemprop="zhihu:followerCount" content="921"><div data-za-module="QuestionItem" data-za-module-info="{}"><div class="QuestionStatus"><!-- react-empty: 51 --><!-- react-empty: 52 --><!-- react-empty: 53 --></div><div class="QuestionHeader"><div class="QuestionHeader-content"><div class="QuestionHeader-main"><div class="QuestionHeader-topics"><div class="Tag QuestionTopic" data-za-module="TopicItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19555634&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19555634"><div class="Popover"><div id="Popover-71085-33085-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71085-33085-content">Android 开发</div><!-- react-empty: 63 --></div></a></span></div><div class="Tag QuestionTopic" data-za-module="TopicItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;20020270&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/20020270"><div class="Popover"><div id="Popover-71086-33713-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71086-33713-content">Android 开发咨询</div><!-- react-empty: 69 --></div></a></span></div><div class="Tag QuestionTopic" data-za-module="TopicItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;20044980&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/20044980"><div class="Popover"><div id="Popover-71086-89035-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71086-89035-content">Android系统源码</div><!-- react-empty: 75 --></div></a></span></div></div><h1 class="QuestionHeader-title"><!-- react-text: 77 -->Android中为什么主线程不会因为Looper.loop()里的死循环卡死？<!-- /react-text --></h1><div class="QuestionHeader-detail"><div class="QuestionRichText QuestionRichText--expandable QuestionRichText--collapsed"><div><span class="RichText" itemprop="text">app程序入口中为主线程准备好了消息队列 [图片] 而根据Looper.loop()源码可知里面是一个死循环在遍历消息队列取消息 [图片] 而且并也没看见哪里有相关代码为这个…</span><button class="Button QuestionRichText-more Button--plain" type="button"><!-- react-text: 83 -->显示全部<!-- /react-text --><svg viewBox="0 0 10 6" class="Icon QuestionRichText-more-icon Icon--arrow" width="10" height="16" aria-hidden="true" style="height: 16px; width: 10px;"><title></title><g><path d="M8.716.217L5.002 4 1.285.218C.99-.072.514-.072.22.218c-.294.29-.294.76 0 1.052l4.25 4.512c.292.29.77.29 1.063 0L9.78 1.27c.293-.29.293-.76 0-1.052-.295-.29-.77-.29-1.063 0z"></path></g></svg></button></div></div></div></div><div class="QuestionHeader-side"><div class="QuestionHeader-follow-status"><div class="QuestionFollowStatus"><div class="NumberBoard QuestionFollowStatus-counts"><div class="NumberBoard-item"><div class="NumberBoard-name">关注者</div><div class="NumberBoard-value">921</div></div><div class="NumberBoard-divider"></div><div class="NumberBoard-item"><div class="NumberBoard-name">被浏览</div><div class="NumberBoard-value">38888</div></div></div><!-- react-empty: 98 --></div></div></div></div><div class="QuestionHeader-footer"><div class="QuestionHeader-footer-inner"><div class="QuestionHeader-main QuestionHeader-footer-main"><div class="QuestionHeaderActions"><div class="QuestionHeader-Comment"><button class="Button Button--plain" type="button"><svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comment Icon--left" width="20" height="15" aria-hidden="true" style="height: 15px; width: 20px;"><title></title><g><path d="M7.24 16.313c-.272-.047-.553.026-.77.2-1.106.813-2.406 1.324-3.77 1.482-.16.017-.313-.06-.394-.197-.082-.136-.077-.308.012-.44.528-.656.906-1.42 1.11-2.237.04-.222-.046-.45-.226-.588C1.212 13.052.027 10.73 0 8.25 0 3.7 4.03 0 9 0s9 3.7 9 8.25-4.373 9.108-10.76 8.063z"></path></g></svg><!-- react-text: 108 -->1 条评论<!-- /react-text --><!-- react-empty: 109 --></button></div><div class="Popover ShareMenu"><div id="Popover-71093-36360-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71093-36360-content"><button class="Button Button--plain" type="button"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--share Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.93 3.89C-.135 4.13-.343 5.56.614 6.098L5.89 9.005l8.168-4.776c.25-.128.477.197.273.388L7.05 10.66l.926 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.243c.584-.892-.212-2.03-1.234-1.796L.93 3.89z"></path></g></svg><!-- react-text: 116 -->分享<!-- /react-text --></button></div><!-- react-empty: 117 --></div><button class="Button Button--plain" type="button"><svg viewBox="0 0 20 20" class="Icon Icon--star Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M3.515 17.64l.918-5.355-3.89-3.792c-.926-.902-.64-1.784.64-1.97L6.56 5.74 8.964.87c.572-1.16 1.5-1.16 2.072 0l2.404 4.87 5.377.783c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.22 1.274-.532 1.82-1.676 1.218L10 16.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z"></path></g></svg><!-- react-text: 122 -->邀请回答<!-- /react-text --></button><div class="Popover"><button class="Button Button--plain" type="button" id="Popover-71093-82979-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71093-82979-content"><svg viewBox="0 0 18 4" class="Icon Icon--dots" width="14" height="16" aria-hidden="true" style="height: 16px; width: 14px;"><title></title><g><g><circle cx="2" cy="2" r="2"></circle><circle cx="9" cy="2" r="2"></circle><circle cx="16" cy="2" r="2"></circle></g></g></svg></button><!-- react-empty: 128 --></div><!-- react-empty: 129 --><!-- react-empty: 130 --><!-- react-empty: 131 --><!-- react-empty: 132 --><!-- react-empty: 133 --></div><div class="QuestionHeader-actions"></div></div><div class="QuestionHeader-side"><div class="QuestionButtonGroup"><button class="Button Button--primary Button--blue" type="button">关注问题</button><button class="Button Button--blue" type="button"><svg viewBox="0 0 12 12" class="Icon Button-icon Icon--modify" width="14" height="16" aria-hidden="true" style="height: 16px; width: 14px;"><title></title><g><path d="M.423 10.32L0 12l1.667-.474 1.55-.44-2.4-2.33-.394 1.564zM10.153.233c-.327-.318-.85-.31-1.17.018l-.793.817 2.49 2.414.792-.814c.318-.328.312-.852-.017-1.17l-1.3-1.263zM3.84 10.536L1.35 8.122l6.265-6.46 2.49 2.414-6.265 6.46z" fill-rule="evenodd"></path></g></svg><!-- react-text: 142 -->写回答<!-- /react-text --></button></div></div></div><!-- react-empty: 143 --><!-- react-empty: 144 --></div></div><div><div><div class="Sticky is-fixed" style="width: 1903px; top: 52px; left: 0px;"></div><div class="Sticky--holder" style="position: static; top: auto; right: auto; bottom: auto; left: auto; display: block; float: none; margin: 0px; height: 0px;"></div></div><!-- react-empty: 598 --></div></div><div class="Question-main"><div class="Question-mainColumn"><div class="Card" data-za-module="MessageItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;item_num&quot;:36}}}"><a class="QuestionMainAction" data-za-detail-view-element_name="ViewAll" href="https://www.zhihu.com/question/34652589">查看全部 36 个回答</a></div><div class="Card"><div class="QuestionAnswer-content"><div class="ContentItem AnswerItem" name="59578531" itemprop="mainEntityOfPage" itemtype="http://schema.org/Answer" itemscope="" data-za-module="AnswerItem" data-za-module-info="{&quot;card&quot;:{&quot;has_image&quot;:false,&quot;has_video&quot;:false,&quot;content&quot;:{&quot;type&quot;:&quot;Answer&quot;,&quot;token&quot;:&quot;59578531&quot;,&quot;upvote_num&quot;:14,&quot;comment_num&quot;:3,&quot;publish_timestamp&quot;:null,&quot;parent_token&quot;:&quot;34652589&quot;,&quot;author_member_hash_id&quot;:&quot;324602d46f897dd224ac5c898cd411e1&quot;}}}"><div class="ContentItem-meta"><div class="AnswerItem-meta AnswerItem-meta--related"><div class="AuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="知乎用户"><meta itemprop="image" content="https://pic1.zhimg.com/da8e974dc_is.jpg"><meta itemprop="url" content="https://www.zhihu.com/people/"><meta itemprop="zhihu:followerCount"><span class="UserLink AuthorInfo-avatarWrapper"><img class="Avatar AuthorInfo-avatar" width="38" height="38" src="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/da8e974dc_xs.jpg" srcset="https://pic1.zhimg.com/da8e974dc_l.jpg 2x" alt="知乎用户"></span><div class="AuthorInfo-content"><div class="AuthorInfo-head"><span class="UserLink AuthorInfo-name"><!-- react-text: 167 -->知乎用户<!-- /react-text --></span></div><div class="AuthorInfo-detail"><!-- react-empty: 169 --></div></div></div><div class="AnswerItem-extraInfo"><span class="Voters"><button class="Button Button--plain" type="button">14 人赞同了该回答</button><!-- react-empty: 173 --></span></div></div></div><meta itemprop="image" content=""><meta itemprop="upvoteCount" content="14"><meta itemprop="url" content="https://www.zhihu.com/question/34652589/answer/59578531"><meta itemprop="dateCreated" content="2015-08-17T04:54:43.000Z"><meta itemprop="dateModified" content="2015-08-17T04:54:43.000Z"><meta itemprop="commentCount" content="3"><div class="RichContent RichContent--unescapable"><div class="RichContent-inner"><span class="RichText CopyrightRichText-richText" itemprop="text"><p>去看下handler机制就明白了，网上一大把。 </p><p>1.handler机制是使用pipe来实现的 </p><p>2.主线程没有消息处理时阻塞在管道的读端 </p><p>3.binder线程会往主线程消息队列里添加消息，然后往管道写端写一个字节，这样就能唤醒主线程从管道读端返回，也就是说queue.next()会调用返回</p>4.dispatchMessage()中调用onCreate, onResume</span><!-- react-empty: 183 --></div><div class="ContentItem-time"><a target="_blank" href="https://www.zhihu.com/question/34652589/answer/59578531">发布于 2015-08-17</a></div><div class="ContentItem-actions"><span><button class="Button VoteButton VoteButton--up" aria-label="赞同" type="button"><svg viewBox="0 0 20 18" class="Icon VoteButton-upIcon Icon--triangle" width="9" height="16" aria-hidden="true" style="height: 16px; width: 9px;"><title></title><g><path d="M0 15.243c0-.326.088-.533.236-.896l7.98-13.204C8.57.57 9.086 0 10 0s1.43.57 1.784 1.143l7.98 13.204c.15.363.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H1.955c-1.08 0-1.955-.517-1.955-1.9z"></path></g></svg><!-- react-text: 192 -->14<!-- /react-text --></button><button class="Button VoteButton VoteButton--down" aria-label="反对" type="button"><svg viewBox="0 0 20 18" class="Icon VoteButton-downIcon Icon--triangle" width="9" height="16" aria-hidden="true" style="height: 16px; width: 9px;"><title></title><g><path d="M0 15.243c0-.326.088-.533.236-.896l7.98-13.204C8.57.57 9.086 0 10 0s1.43.57 1.784 1.143l7.98 13.204c.15.363.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H1.955c-1.08 0-1.955-.517-1.955-1.9z"></path></g></svg></button></span><button class="Button ContentItem-action Button--plain" type="button"><svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comment Icon--left" width="12" height="16" aria-hidden="true" style="height: 16px; width: 12px;"><title></title><g><path d="M7.24 16.313c-.272-.047-.553.026-.77.2-1.106.813-2.406 1.324-3.77 1.482-.16.017-.313-.06-.394-.197-.082-.136-.077-.308.012-.44.528-.656.906-1.42 1.11-2.237.04-.222-.046-.45-.226-.588C1.212 13.052.027 10.73 0 8.25 0 3.7 4.03 0 9 0s9 3.7 9 8.25-4.373 9.108-10.76 8.063z"></path></g></svg><!-- react-text: 201 -->3 条评论<!-- /react-text --></button><div class="Popover ShareMenu ContentItem-action"><div id="Popover-71110-57429-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71110-57429-content"><button class="Button Button--plain" type="button"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--share Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.93 3.89C-.135 4.13-.343 5.56.614 6.098L5.89 9.005l8.168-4.776c.25-.128.477.197.273.388L7.05 10.66l.926 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.243c.584-.892-.212-2.03-1.234-1.796L.93 3.89z"></path></g></svg><!-- react-text: 208 -->分享<!-- /react-text --></button></div><!-- react-empty: 209 --></div><button class="Button ContentItem-action Button--plain" type="button"><svg viewBox="0 0 20 20" class="Icon Icon--star Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M3.515 17.64l.918-5.355-3.89-3.792c-.926-.902-.64-1.784.64-1.97L6.56 5.74 8.964.87c.572-1.16 1.5-1.16 2.072 0l2.404 4.87 5.377.783c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.22 1.274-.532 1.82-1.676 1.218L10 16.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z"></path></g></svg><!-- react-text: 214 -->收藏<!-- /react-text --></button><button class="Button ContentItem-action Button--plain" type="button"><svg width="14" height="16" viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--thank Icon--left" aria-hidden="true" style="height: 16px; width: 14px;"><title></title><g><path d="M0 5.437C0 2.505 2.294.094 5.207 0 7.243 0 9.092 1.19 10 3c.823-1.758 2.65-3 4.65-3C17.546 0 20 2.507 20 5.432 20 13.24 11.842 18 10 18 8.158 18 0 13.24 0 5.437z" fill-rule="evenodd"></path></g></svg><!-- react-text: 219 -->感谢<!-- /react-text --></button></div></div><!-- react-empty: 225 --><!-- react-empty: 226 --><!-- react-empty: 227 --><!-- react-empty: 228 --><!-- react-empty: 229 --><!-- react-empty: 230 --></div></div></div><div class="Card MoreAnswers"><div class="List"><div class="List-header"><h4 class="List-headerText">更多回答</h4><div class="List-headerOptions"></div></div><div class="List-item"><div class="ContentItem AnswerItem" name="90344494" itemprop="answer" itemtype="http://schema.org/Answer" itemscope="" data-za-module="AnswerItem" data-za-module-info="{&quot;card&quot;:{&quot;has_image&quot;:false,&quot;has_video&quot;:false,&quot;content&quot;:{&quot;type&quot;:&quot;Answer&quot;,&quot;token&quot;:&quot;90344494&quot;,&quot;upvote_num&quot;:563,&quot;comment_num&quot;:48,&quot;publish_timestamp&quot;:null,&quot;parent_token&quot;:&quot;34652589&quot;,&quot;author_member_hash_id&quot;:&quot;c7de1694c846fe3b95895bc4ccb8df50&quot;}}}"><div class="ContentItem-meta"><div class="AnswerItem-meta AnswerItem-meta--related"><div class="AuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="Gityuan"><meta itemprop="image" content="https://pic1.zhimg.com/59e145e8b0d37770ef831324a77ba088_is.jpg"><meta itemprop="url" content="https://www.zhihu.com/people/gityuan"><meta itemprop="zhihu:followerCount" content="3820"><span class="UserLink AuthorInfo-avatarWrapper"><div class="Popover"><div id="Popover-71400-41810-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71400-41810-content"><a class="UserLink-link" href="https://www.zhihu.com/people/gityuan"><img class="Avatar AuthorInfo-avatar" width="38" height="38" src="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/59e145e8b0d37770ef831324a77ba088_xs.jpg" srcset="https://pic1.zhimg.com/59e145e8b0d37770ef831324a77ba088_l.jpg 2x" alt="Gityuan"></a></div><!-- react-empty: 324 --></div></span><div class="AuthorInfo-content"><div class="AuthorInfo-head"><span class="UserLink AuthorInfo-name"><div class="Popover"><div id="Popover-71401-8476-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71401-8476-content"><a class="UserLink-link" href="https://www.zhihu.com/people/gityuan">Gityuan</a></div><!-- react-empty: 331 --></div></span></div><div class="AuthorInfo-detail"><div class="RichText AuthorInfo-badge">http://gityuan.com，weibo.com/gityuan(微博)</div></div></div></div><div class="AnswerItem-extraInfo"><span class="Voters"><button class="Button Button--plain" type="button">563 人赞同了该回答</button><!-- react-empty: 337 --></span></div></div></div><meta itemprop="image" content="https://pic3.zhimg.com/7fb8728164975ac86a2b0b886de2b872_200x112.jpg"><meta itemprop="upvoteCount" content="563"><meta itemprop="url" content="https://www.zhihu.com/question/34652589/answer/90344494"><meta itemprop="dateCreated" content="2016-03-12T01:18:07.000Z"><meta itemprop="dateModified" content="2016-08-13T07:46:21.000Z"><meta itemprop="commentCount" content="48"><div class="RichContent is-collapsed RichContent--unescapable"><div class="RichContent-inner"><span class="RichText CopyrightRichText-richText" itemprop="text">要完全彻底理解这个问题，需要准备以下4方面的知识：Process/Thread，Android Binder IPC，Handler/Looper/MessageQueue消息机制，Linux pipe/epoll机制。<br><br><br><b>总结一下楼主主要有3个疑惑：</b><br><br>1.Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ <br><br>2.没看见哪里有相关代码为这个死循环准备了一个新线程去运转？ <br><br>3.Activity的生命周期这些方法这些都是在主线程里执行的吧，那这些生命周期方法是怎么实现在死循环体外能够执行起来的？<br><br>--------------------------------------------------------------------------------------------------------------------------------------<br>针对这些疑惑， <span><span data-reactroot="" class="UserLink"><div class="Popover"><div id="Popover-71549-22248-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71549-22248-content"><a class="UserLink-link" target="_blank" href="https://www.zhihu.com/people/50b28faaec835947511e005cd6734484"><!-- react-text: 5 -->@<!-- /react-text --><!-- react-text: 6 -->hi大头鬼hi<!-- /react-text --></a></div><!-- react-empty: 7 --></div></span></span><span><span data-reactroot="" class="UserLink"><div class="Popover"><div id="Popover-71550-95772-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71550-95772-content"><a class="UserLink-link" target="_blank" href="https://www.zhihu.com/people/4897651cf72b010294463a1fd113af52"><!-- react-text: 5 -->@<!-- /react-text --><!-- react-text: 6 -->Rocko<!-- /react-text --></a></div><!-- react-empty: 7 --></div></span></span><span><span data-reactroot="" class="UserLink"><div class="Popover"><div id="Popover-71550-78811-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71550-78811-content"><a class="UserLink-link" target="_blank" href="https://www.zhihu.com/people/53013cf8f04bf168814156e563beb935"><!-- react-text: 5 -->@<!-- /react-text --><!-- react-text: 6 -->陈昱全<!-- /react-text --></a></div><!-- react-empty: 7 --></div></span></span> 大家回答都比较精炼，接下来我再更进一步详细地一一解答楼主的疑惑：<br><br><b>(1) Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ </b><br><br>这里涉及线程，先说说说进程/线程，<b>进程：</b>每个app运行时前首先创建一个进程，该进程是由Zygote fork出来的，用于承载App上运行的各种Activity/Service等组件。进程对于上层应用来说是完全透明的，这也是google有意为之，让App程序都是运行在Android Runtime。大多数情况一个App就运行在一个进程中，除非在AndroidManifest.xml中配置Android:process属性，或通过native代码fork进程。<br><br><b>线程：</b>线程对应用来说非常常见，比如每次new Thread().start都会创建一个新的线程。该线程与App所在进程之间资源共享，从Linux角度来说进程与线程除了是否共享资源外，并没有本质的区别，都是一个task_struct结构体<b>，在CPU看来进程或线程无非就是一段可执行的代码，CPU采用CFS调度算法，保证每个task都尽可能公平的享有CPU时间片</b>。<br><br>有了这么准备，再说说死循环问题：<br><br>对于线程既然是一段可执行的代码，当可执行代码执行完成后，线程生命周期便该终止了，线程退出。而对于主线程，我们是绝不希望会被运行一段时间，自己就退出，那么如何保证能一直存活呢？<b>简单做法就是可执行代码是能一直执行下去的，死循环便能保证不会被退出，</b>例如，binder线程也是采用死循环的方法，通过循环方式不同与Binder驱动进行读写操作，当然并非简单地死循环，无消息时会休眠。但这里可能又引发了另一个问题，既然是死循环又如何去处理其他事务呢？通过创建新线程的方式。<br><br>真正会卡死主线程的操作是在回调方法onCreate/onStart/onResume等操作时间过长，会导致掉帧，甚至发生ANR，looper.loop本身不会导致应用卡死。<br><br><br><b>(2) 没看见哪里有相关代码为这个死循环准备了一个新线程去运转？ </b><br><br>事实上，会在进入死循环之前便创建了新binder线程，在代码ActivityThread.main()中：<br><div class="highlight"><pre><code class="language-java"><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">....</span>

        <span class="c1">//创建Looper和MessageQueue对象，用于处理主线程的消息</span>
        <span class="n">Looper</span><span class="o">.</span><span class="na">prepareMainLooper</span><span class="o">();</span>

        <span class="c1">//创建ActivityThread对象</span>
        <span class="n">ActivityThread</span> <span class="n">thread</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ActivityThread</span><span class="o">();</span> 

        <span class="c1">//建立Binder通道 (创建新线程)</span>
        <span class="n">thread</span><span class="o">.</span><span class="na">attach</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>

        <span class="n">Looper</span><span class="o">.</span><span class="na">loop</span><span class="o">();</span> <span class="c1">//消息循环运行</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="n">RuntimeException</span><span class="o">(</span><span class="s">"Main thread loop unexpectedly exited"</span><span class="o">);</span>
    <span class="o">}</span>
</code></pre></div><b>thread.attach(false)；便会创建一个Binder线程（具体是指ApplicationThread，Binder的服务端，用于接收系统服务AMS发送来的事件），该Binder线程通过Handler将Message发送给主线程</b>，具体过程可查看 <a href="https://link.zhihu.com/?target=http%3A//gityuan.com/2016/03/06/start-service/" class=" wrap external" target="_blank" rel="nofollow noreferrer">startService流程分析<i class="icon-external"></i></a>，这里不展开说，简单说Binder用于进程间通信，采用C/S架构。关于binder感兴趣的朋友，可查看我回答的另一个知乎问题：<br><a href="https://www.zhihu.com/question/39440766/answer/89210950" class="internal">为什么Android要采用Binder作为IPC机制？ - Gityuan的回答</a><br><br>另外，<b>ActivityThread实际上并非线程</b>，不像HandlerThread类，ActivityThread并没有真正继承Thread类，只是往往运行在主线程，该人以线程的感觉，其实承载ActivityThread的主线程就是由Zygote fork而创建的进程。<br><br><b>主线程的死循环一直运行是不是特别消耗CPU资源呢？ </b>其实不然，这里就涉及到<b>Linux pipe/e</b><b>poll机制</b>，简单说就是在主线程的MessageQueue没有消息时，便阻塞在loop的queue.next()中的nativePollOnce()方法里，详情见<a href="https://link.zhihu.com/?target=http%3A//www.yuanhh.com/2015/12/26/handler-message-framework/%23next" class=" wrap external" target="_blank" rel="nofollow noreferrer">Android消息机制1-Handler(Java层)<i class="icon-external"></i></a>，此时主线程会释放CPU资源进入休眠状态，直到下个消息到达或者有事务发生，通过往pipe管道写端写入数据来唤醒主线程工作。这里采用的epoll机制，是一种IO多路复用机制，可以同时监控多个描述符，当某个描述符就绪(读或写就绪)，则立刻通知相应程序进行读或写操作，本质同步I/O，即读写是阻塞的。 <b>所以说，主线程大多数时候都是处于休眠状态，并不会消耗大量CPU资源。</b><br><br><br><b>(3) Activity的生命周期是怎么实现在死循环体外能够执行起来的？</b><br><br>ActivityThread的内部类H继承于Handler，通过handler消息机制，简单说Handler机制用于同一个进程的线程间通信。<br><br><b>Activity的生命周期都是依靠主线程的Looper.loop，当收到不同Message时则采用相应措施：</b><br>在H.handleMessage(msg)方法中，根据接收到不同的msg，执行相应的生命周期。<br><br>    比如收到msg=H.LAUNCH_ACTIVITY，则调用ActivityThread.handleLaunchActivity()方法，最终会通过反射机制，创建Activity实例，然后再执行Activity.onCreate()等方法；<br>    再比如收到msg=H.PAUSE_ACTIVITY，则调用ActivityThread.handlePauseActivity()方法，最终会执行Activity.onPause()等方法。 上述过程，我只挑核心逻辑讲，真正该过程远比这复杂。<br><br><b>主线程的消息又是哪来的呢？</b>当然是App进程中的其他线程通过Handler发送给主线程，请看接下来的内容：<br><br><br>--------------------------------------------------------------------------------------------------------------------------------------<br><b>最后，从进程与线程间通信的角度，</b><b>通过一张图</b><b>加深大家对App运行过程的理解：</b><br><noscript>&lt;img src="https://pic3.zhimg.com/7fb8728164975ac86a2b0b886de2b872_b.jpg" data-rawwidth="890" data-rawheight="535" class="origin_image zh-lightbox-thumb" width="890" data-original="https://pic3.zhimg.com/7fb8728164975ac86a2b0b886de2b872_r.jpg"&gt;</noscript><span><div data-reactroot="" class="VagueImage origin_image zh-lightbox-thumb" data-src="https://pic3.zhimg.com/7fb8728164975ac86a2b0b886de2b872_b.jpg" style="width: 652px; height: 391.933px;"></div></span><br><b>system_server进程是系统进程</b>，java framework框架的核心载体，里面运行了大量的系统服务，比如这里提供ApplicationThreadProxy（简称ATP），ActivityManagerService（简称AMS），这个两个服务都运行在system_server进程的不同线程中，由于ATP和AMS都是基于IBinder接口，都是binder线程，binder线程的创建与销毁都是由binder驱动来决定的。<br><br><b>App进程则是我们常说的应用程序</b>，主线程主要负责Activity/Service等组件的生命周期以及UI相关操作都运行在这个线程； 另外，每个App进程中至少会有两个binder线程 ApplicationThread(简称AT)和ActivityManagerProxy（简称AMP），除了图中画的线程，其中还有很多线程，比如signal catcher线程等，这里就不一一列举。<br><br>Binder用于不同进程之间通信，由一个进程的Binder客户端向另一个进程的服务端发送事务，比如图中线程2向线程4发送事务；而handler用于同一个进程中不同线程的通信，比如图中线程4向主线程发送消息。<br><br><b>结合图说说Activity生命周期，比如暂停Activity，流程如下：</b><br><ol><li>线程1的AMS中调用线程2的ATP；（由于同一个进程的线程间资源共享，可以相互直接调用，但需要注意多线程并发问题）<br></li><li>线程2通过binder传输到App进程的线程4；<br></li><li>线程4通过handler消息机制，将暂停Activity的消息发送给主线程；<br></li><li>主线程在looper.loop()中循环遍历消息，当收到暂停Activity的消息时，便将消息分发给ActivityThread.H.handleMessage()方法，再经过方法的调用，最后便会调用到Activity.onPause()，当onPause()处理完后，继续循环loop下去。<br></li></ol><br><br>--------------------------------- <b>欢迎关注我的微博：<a href="https://link.zhihu.com/?target=http%3A//weibo.com/gityuan" class=" wrap external" target="_blank" rel="nofollow noreferrer">Gityuan<i class="icon-external"></i></a></b>-----------------------------------------<br><br><b>如果大家觉得我回答得还行，还请大家随手 点赞、关注、收藏，如果觉得说得不好的，还往评论指正。</b></span><!-- react-empty: 347 --></div><div class="ContentItem-actions"><span><button class="Button VoteButton VoteButton--up" aria-label="赞同" type="button"><svg viewBox="0 0 20 18" class="Icon VoteButton-upIcon Icon--triangle" width="9" height="16" aria-hidden="true" style="height: 16px; width: 9px;"><title></title><g><path d="M0 15.243c0-.326.088-.533.236-.896l7.98-13.204C8.57.57 9.086 0 10 0s1.43.57 1.784 1.143l7.98 13.204c.15.363.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H1.955c-1.08 0-1.955-.517-1.955-1.9z"></path></g></svg><!-- react-text: 354 -->563<!-- /react-text --></button><button class="Button VoteButton VoteButton--down" aria-label="反对" type="button"><svg viewBox="0 0 20 18" class="Icon VoteButton-downIcon Icon--triangle" width="9" height="16" aria-hidden="true" style="height: 16px; width: 9px;"><title></title><g><path d="M0 15.243c0-.326.088-.533.236-.896l7.98-13.204C8.57.57 9.086 0 10 0s1.43.57 1.784 1.143l7.98 13.204c.15.363.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H1.955c-1.08 0-1.955-.517-1.955-1.9z"></path></g></svg></button></span><button class="Button ContentItem-action Button--plain" type="button"><svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comment Icon--left" width="12" height="16" aria-hidden="true" style="height: 16px; width: 12px;"><title></title><g><path d="M7.24 16.313c-.272-.047-.553.026-.77.2-1.106.813-2.406 1.324-3.77 1.482-.16.017-.313-.06-.394-.197-.082-.136-.077-.308.012-.44.528-.656.906-1.42 1.11-2.237.04-.222-.046-.45-.226-.588C1.212 13.052.027 10.73 0 8.25 0 3.7 4.03 0 9 0s9 3.7 9 8.25-4.373 9.108-10.76 8.063z"></path></g></svg><!-- react-text: 363 -->48 条评论<!-- /react-text --></button><div class="Popover ShareMenu ContentItem-action"><div id="Popover-71406-76607-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71406-76607-content"><button class="Button Button--plain" type="button"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--share Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.93 3.89C-.135 4.13-.343 5.56.614 6.098L5.89 9.005l8.168-4.776c.25-.128.477.197.273.388L7.05 10.66l.926 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.243c.584-.892-.212-2.03-1.234-1.796L.93 3.89z"></path></g></svg><!-- react-text: 370 -->分享<!-- /react-text --></button></div><!-- react-empty: 371 --></div><button class="Button ContentItem-action Button--plain" type="button"><svg viewBox="0 0 20 20" class="Icon Icon--star Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M3.515 17.64l.918-5.355-3.89-3.792c-.926-.902-.64-1.784.64-1.97L6.56 5.74 8.964.87c.572-1.16 1.5-1.16 2.072 0l2.404 4.87 5.377.783c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.22 1.274-.532 1.82-1.676 1.218L10 16.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z"></path></g></svg><!-- react-text: 376 -->收藏<!-- /react-text --></button><button class="Button ContentItem-action Button--plain" type="button"><svg width="14" height="16" viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--thank Icon--left" aria-hidden="true" style="height: 16px; width: 14px;"><title></title><g><path d="M0 5.437C0 2.505 2.294.094 5.207 0 7.243 0 9.092 1.19 10 3c.823-1.758 2.65-3 4.65-3C17.546 0 20 2.507 20 5.432 20 13.24 11.842 18 10 18 8.158 18 0 13.24 0 5.437z" fill-rule="evenodd"></path></g></svg><!-- react-text: 381 -->感谢<!-- /react-text --></button><button class="Button ContentItem-action ContentItem-rightButton Button--plain" type="button"><!-- react-text: 383 -->阅读全文<!-- /react-text --><svg viewBox="0 0 10 6" class="Icon ContentItem-arrowIcon Icon--arrow" width="10" height="16" aria-hidden="true" style="height: 16px; width: 10px;"><title></title><g><path d="M8.716.217L5.002 4 1.285.218C.99-.072.514-.072.22.218c-.294.29-.294.76 0 1.052l4.25 4.512c.292.29.77.29 1.063 0L9.78 1.27c.293-.29.293-.76 0-1.052-.295-.29-.77-.29-1.063 0z"></path></g></svg></button></div></div><!-- react-empty: 387 --><!-- react-empty: 388 --><!-- react-empty: 389 --><!-- react-empty: 390 --><!-- react-empty: 391 --><!-- react-empty: 392 --></div></div><div class="List-item"><div class="ContentItem AnswerItem" name="157834250" itemprop="answer" itemtype="http://schema.org/Answer" itemscope="" data-za-module="AnswerItem" data-za-module-info="{&quot;card&quot;:{&quot;has_image&quot;:false,&quot;has_video&quot;:false,&quot;content&quot;:{&quot;type&quot;:&quot;Answer&quot;,&quot;token&quot;:&quot;157834250&quot;,&quot;upvote_num&quot;:40,&quot;comment_num&quot;:3,&quot;publish_timestamp&quot;:null,&quot;parent_token&quot;:&quot;34652589&quot;,&quot;author_member_hash_id&quot;:&quot;a68cd1d81f21f09a518ef4070501f892&quot;}}}"><div class="ContentItem-meta"><div class="AnswerItem-meta AnswerItem-meta--related"><div class="AuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="于翔"><meta itemprop="image" content="https://pic1.zhimg.com/v2-44afe96a0432162b0a30697c93caf7d4_is.jpg"><meta itemprop="url" content="https://www.zhihu.com/people/yuxiang204"><meta itemprop="zhihu:followerCount" content="321"><span class="UserLink AuthorInfo-avatarWrapper"><div class="Popover"><div id="Popover-71410-14942-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71410-14942-content"><a class="UserLink-link" href="https://www.zhihu.com/people/yuxiang204"><img class="Avatar AuthorInfo-avatar" width="38" height="38" src="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/v2-44afe96a0432162b0a30697c93caf7d4_xs.jpg" srcset="https://pic1.zhimg.com/v2-44afe96a0432162b0a30697c93caf7d4_l.jpg 2x" alt="于翔"></a></div><!-- react-empty: 407 --></div></span><div class="AuthorInfo-content"><div class="AuthorInfo-head"><span class="UserLink AuthorInfo-name"><div class="Popover"><div id="Popover-71410-90548-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71410-90548-content"><a class="UserLink-link" href="https://www.zhihu.com/people/yuxiang204">于翔</a></div><!-- react-empty: 414 --></div></span></div><div class="AuthorInfo-detail"><div class="RichText AuthorInfo-badge">Android Graphic &amp; Performance</div></div></div></div><div class="AnswerItem-extraInfo"><span class="Voters"><button class="Button Button--plain" type="button">40 人赞同了该回答</button><!-- react-empty: 420 --></span></div></div></div><meta itemprop="image" content=""><meta itemprop="upvoteCount" content="40"><meta itemprop="url" content="https://www.zhihu.com/question/34652589/answer/157834250"><meta itemprop="dateCreated" content="2017-04-18T00:50:53.000Z"><meta itemprop="dateModified" content="2017-04-18T00:50:53.000Z"><meta itemprop="commentCount" content="3"><div class="RichContent RichContent--unescapable"><div class="RichContent-inner"><span class="RichText CopyrightRichText-richText" itemprop="text"><p>简单一句话是：Android应用程序的主线程在进入消息循环过程前，会在内部创建一个Linux管道（Pipe），这个管道的作用是使得Android应用程序主线程在消息队列为空时可以进入空闲等待状态，并且使得当应用程序的消息队列有消息需要处理时唤醒应用程序的主线程。</p><p>---<br>这一题是需要从消息循环、消息发送和消息处理三个部分理解Android应用程序的消息处理机制了，这里我对一些要点作一个总结：</p><p>         A. Android应用程序的消息处理机制由消息循环、消息发送和消息处理三个部分组成的。</p><p>         B. Android应用程序的主线程在进入消息循环过程前，会在内部创建一个Linux管道（Pipe），这个管道的作用是使得Android应用程序主线程在消息队列为空时可以进入空闲等待状态，并且使得当应用程序的消息队列有消息需要处理时唤醒应用程序的主线程。</p><p>         C. Android应用程序的主线程进入空闲等待状态的方式实际上就是在管道的读端等待管道中有新的内容可读，具体来说就是是通过Linux系统的Epoll机制中的epoll_wait函数进行的。</p><p>         D. 当往Android应用程序的消息队列中加入新的消息时，会同时往管道中的写端写入内容，通过这种方式就可以唤醒正在等待消息到来的应用程序主线程。</p>         E. 当应用程序主线程在进入空闲等待前，会认为当前线程处理空闲状态，于是就会调用那些已经注册了的IdleHandler接口，使得应用程序有机会在空闲的时候处理一些事情。</span><!-- react-empty: 478 --></div><div class="ContentItem-time"><a target="_blank" href="https://www.zhihu.com/question/34652589/answer/157834250">发布于 2017-04-18</a></div><div class="ContentItem-actions"><span><button class="Button VoteButton VoteButton--up" aria-label="赞同" type="button"><svg viewBox="0 0 20 18" class="Icon VoteButton-upIcon Icon--triangle" width="9" height="16" aria-hidden="true" style="height: 16px; width: 9px;"><title></title><g><path d="M0 15.243c0-.326.088-.533.236-.896l7.98-13.204C8.57.57 9.086 0 10 0s1.43.57 1.784 1.143l7.98 13.204c.15.363.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H1.955c-1.08 0-1.955-.517-1.955-1.9z"></path></g></svg><!-- react-text: 437 -->40<!-- /react-text --></button><button class="Button VoteButton VoteButton--down" aria-label="反对" type="button"><svg viewBox="0 0 20 18" class="Icon VoteButton-downIcon Icon--triangle" width="9" height="16" aria-hidden="true" style="height: 16px; width: 9px;"><title></title><g><path d="M0 15.243c0-.326.088-.533.236-.896l7.98-13.204C8.57.57 9.086 0 10 0s1.43.57 1.784 1.143l7.98 13.204c.15.363.236.57.236.896 0 1.386-.875 1.9-1.955 1.9H1.955c-1.08 0-1.955-.517-1.955-1.9z"></path></g></svg></button></span><button class="Button ContentItem-action Button--plain" type="button"><svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comment Icon--left" width="12" height="16" aria-hidden="true" style="height: 16px; width: 12px;"><title></title><g><path d="M7.24 16.313c-.272-.047-.553.026-.77.2-1.106.813-2.406 1.324-3.77 1.482-.16.017-.313-.06-.394-.197-.082-.136-.077-.308.012-.44.528-.656.906-1.42 1.11-2.237.04-.222-.046-.45-.226-.588C1.212 13.052.027 10.73 0 8.25 0 3.7 4.03 0 9 0s9 3.7 9 8.25-4.373 9.108-10.76 8.063z"></path></g></svg><!-- react-text: 446 -->3 条评论<!-- /react-text --></button><div class="Popover ShareMenu ContentItem-action"><div id="Popover-71413-8097-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-71413-8097-content"><button class="Button Button--plain" type="button"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--share Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.93 3.89C-.135 4.13-.343 5.56.614 6.098L5.89 9.005l8.168-4.776c.25-.128.477.197.273.388L7.05 10.66l.926 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.243c.584-.892-.212-2.03-1.234-1.796L.93 3.89z"></path></g></svg><!-- react-text: 453 -->分享<!-- /react-text --></button></div><!-- react-empty: 454 --></div><button class="Button ContentItem-action Button--plain" type="button"><svg viewBox="0 0 20 20" class="Icon Icon--star Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M3.515 17.64l.918-5.355-3.89-3.792c-.926-.902-.64-1.784.64-1.97L6.56 5.74 8.964.87c.572-1.16 1.5-1.16 2.072 0l2.404 4.87 5.377.783c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.22 1.274-.532 1.82-1.676 1.218L10 16.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z"></path></g></svg><!-- react-text: 459 -->收藏<!-- /react-text --></button><button class="Button ContentItem-action Button--plain" type="button"><svg width="14" height="16" viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--thank Icon--left" aria-hidden="true" style="height: 16px; width: 14px;"><title></title><g><path d="M0 5.437C0 2.505 2.294.094 5.207 0 7.243 0 9.092 1.19 10 3c.823-1.758 2.65-3 4.65-3C17.546 0 20 2.507 20 5.432 20 13.24 11.842 18 10 18 8.158 18 0 13.24 0 5.437z" fill-rule="evenodd"></path></g></svg><!-- react-text: 464 -->感谢<!-- /react-text --></button></div></div><!-- react-empty: 470 --><!-- react-empty: 471 --><!-- react-empty: 472 --><!-- react-empty: 473 --><!-- react-empty: 474 --><!-- react-empty: 475 --></div></div></div></div><div class="Card" data-za-module="MessageItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;item_num&quot;:36}}}"><a class="QuestionMainAction" data-za-detail-view-element_name="ViewAll" href="https://www.zhihu.com/question/34652589">查看全部 36 个回答</a></div></div><div class="Question-sideColumn Question-sideColumn--sticky" data-za-module="RightSideBar" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;member_hash_id&quot;:&quot;324602d46f897dd224ac5c898cd411e1&quot;}}}"><div><div class="Sticky"><div class="Card AppBanner"><a class="AppBanner-link" href="http://zhi.hu/BDXoI"><div class="AppBanner-layout"><img class="AppBanner-qrcode" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAEDElEQVR4Ae3cQW5cRwwE0FGgAzhA7porxGe1gRxBWev9RaHRPc0syrsCySKnCmRjJMgfP/759fW6+O/fv//61u3Pn7+/YePfgq/Xy3zj1ptv3Hqx9cZP4z9OE5ZvT4Easqff8eoaclzSPcJPy1dvrPXi1Ruc8p3PfLHz7GL77/I5bzdkV9HD9TXksKC7dDVkV8HD9Y83RH5vnHHx6o1N+fYX218sf6o3Xz5x4jM/8XdDVGwY15BhA2xfQ1RkGMc3ZHi+R/t0gy1YvfHW38bdkNuKh341JAh0O1xDbise+o2/Ias33vzVN0U9duvl28XdkF0FD9fXkMOC7tLVkF0FD9fHN+T2jU39fEOSHokv1af4af5uSFL8cryGXBY8tashSaHL8ccbsnqj3z2v83iz3x3389nP+C7uhuwqeLi+hhwWdJeuhuwqeLj+05t8mP843btvuAPf1qcbogPDuIYMG2D7GqIiw/hj9e9D0k1NN976lK8+1htf5bN+F+/O1w3ZdeBwfQ05LOguXQ3ZVfBw/eN7iDc43UTn2c23v/yrOM1jP/ON2z/lG7de3A1RkWFcQ4YNsH0NUZFh/PH19fXt79RXb6bzr9abn27uav7qfOY7j/3NTzjxdUOSgpfjNeSy4KldDUkKXY7Hn2V583bn8wbLn+Kpf6rfjdtfPuN+PuPiboiKDOMaMmyA7WuIigzj+LMs50s303yxN3WVbzXf/uLEl+J+HvkTlr8bkhS7HK8hlwVP7WpIUuhy/PGzrNX+3kDrV2+sfKl+Nd/5Ur1x69N85ie+boiKDeMaMmyA7WuIigzjz3TTVm+k+fKn+K4e9kt8zmO+8cSf4omvG6IDw7iGDBtg+xqiIsN4+XuIN9KbuPp5Ep/xxO88p+sTv/E0r/FuiIoM4xoybIDta4iKDOP4PcT50o1MNzvV20+c6lf7my+2f4qbL7bez9MNUbFhXEOGDbB9DVGRYfz4nfruPN7E/xtfmmd1ft8E+Y3Lb7wbooLDuIYMG2D7GqIiw3j5e8juvN5QceL35lovTnwpnvpZv5pvfTdERYZxDRk2wPY1REWG8eP/XHz3DfbzenONi9N88qV8+cWr9Snf+ezXDVGRYVxDhg2wfQ1RkWH8eEOcJ90889MNXc23v1i+hFN9iq/yr+rRDUkKX47XkMuCp3Y1JCl0OR7fkMvzvNIN9yabbzzNb37iM574U779uyFJ0cvxGnJZ8NSuhiSFLsfH35B0Y1f1SHze7JRv/1Rv3Hr7ibshKjaMa8iwAbavISoyjOMbkm7i6fnt540V2//d9fZbxc5nfTdERYZxDRk2wPY1REWG8eMNSTf69rzp5jpPml8+88XyW2/c+tX8boiKDuMaMmyA7WuIigzj/wC7sm2izpKNiwAAAABJRU5ErkJggg==" alt="QR Code of Downloading Zhihu App"><div class="AppBanner-content"><div class="AppBanner-title">下载知乎客户端</div><div class="AppBanner-description">与世界分享知识、经验和见解</div></div></div></a></div><div class="Card Banner" data-za-module="ExternalAdItem" data-za-detail-view-path-is_ad="true" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;ExternalAd&quot;,&quot;ad_info&quot;:{&quot;category&quot;:&quot;1&quot;,&quot;timestamp&quot;:1498955170,&quot;ad_zone_id&quot;:3,&quot;ad_id&quot;:5488}}}}"><a class="Button Banner-link Button--plain" target="_blank" href="https://sugar.zhihu.com/track?ci=5500&amp;ai=5488&amp;lo=new_answer_up&amp;tu=aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8yNzU3ODQ0Mw%3D%3D&amp;ts=1498955170&amp;lu=0&amp;si=33f7eaf30cd043c998b8e16d68c7976b&amp;vs=2&amp;hn=ad-engine.ad-engine.2db307d9&amp;at=click&amp;ut=055f474abc2a435eb4643c2b04c31e58&amp;pf=Windows&amp;az=3&amp;sg=cdae67a52c6633f600d00ff296bbcb31" type="button"><img class="Banner-image" src="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/v2-1ad397130f06fc98a030b7634e59c81f_294x245-adx4.jpg" srcset="https://pic4.zhimg.com/v2-1ad397130f06fc98a030b7634e59c81f_540x450|adx4.jpg 2x" alt="广告"></a><button class="Button Banner-close Button--plain" data-tooltip="不再显示" data-tooltip-position="bottom" type="button"><svg width="14" height="16" viewBox="0 0 12 12" class="Icon Icon--boldRemove" aria-hidden="true" style="height: 16px; width: 14px;"><title></title><g><path fill-rule="evenodd" d="M3 2L2 3l3 3-3 3 1 1 3-3 3 3 1-1-3-3 3-3-1-1-3 3"></path></g></svg></button></div><div class="Card AnswerAuthor"><div class="Card-header AnswerAuthor-title"><div class="Card-headerText">关于作者</div></div><div class="Card-section"><div class="AnswerAuthor-user"><div class="AnswerAuthor-user-avatar"><span class="UserLink"><img class="Avatar Avatar--large UserLink-avatar" width="60" height="60" src="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/da8e974dc_im.jpg" srcset="https://pic1.zhimg.com/da8e974dc_xl.jpg 2x" alt="知乎用户"></span></div><div class="AnswerAuthor-user-content"><div class="AnswerAuthor-user-name"><span class="UserLink"><!-- react-text: 256 -->知乎用户<!-- /react-text --></span></div><!-- react-text: 257 --><!-- /react-text --></div></div></div><div class="Card-section"></div><!-- react-text: 259 --><!-- /react-text --></div><div class="Card"><div class="Card-header AnswerInfo-title"><div class="Card-headerText"><!-- react-text: 533 -->被收藏<!-- /react-text --><!-- react-text: 534 --> <!-- /react-text --><button class="Button Button--plain" type="button">3</button><!-- react-text: 536 --> <!-- /react-text --><!-- react-text: 537 -->次<!-- /react-text --></div></div><div class="Card-section AnswerInfo-favlists" data-za-module="CollectionList" data-za-module-info="{}"><div class="AnswerInfo-favlist" data-za-module="CollectionItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Collection&quot;,&quot;token&quot;:&quot;155800830&quot;,&quot;follower_num&quot;:0,&quot;author_member_hash_id&quot;:&quot;700452c1eb2b314557157b112da54c2c&quot;}}}"><div class="AnswerInfo-favlist-title"><a class="Button Button--plain" target="_blank" data-za-detail-view-element_name="Collection" title="tt" href="https://www.zhihu.com/collection/155800830" type="button">tt</a></div><div class="AnswerInfo-favlist-author"><span class="UserLink"><a class="UserLink-link" target="_blank" data-za-detail-view-element_name="Author" href="https://www.zhihu.com/people/qi-ya-chao-97">祁亚超</a></span><!-- react-text: 545 --> 创建<!-- /react-text --></div><div class="AnswerInfo-favlist-followers"><!-- react-text: 547 -->0<!-- /react-text --><!-- react-text: 548 --> 人关注<!-- /react-text --></div></div><div class="AnswerInfo-favlist" data-za-module="CollectionItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Collection&quot;,&quot;token&quot;:&quot;112436965&quot;,&quot;follower_num&quot;:0,&quot;author_member_hash_id&quot;:&quot;6ee949c557f64b0f9a1d52a247548346&quot;}}}"><div class="AnswerInfo-favlist-title"><a class="Button Button--plain" target="_blank" data-za-detail-view-element_name="Collection" title="android" href="https://www.zhihu.com/collection/112436965" type="button">android</a></div><div class="AnswerInfo-favlist-author"><span class="UserLink"><a class="UserLink-link" target="_blank" data-za-detail-view-element_name="Author" href="https://www.zhihu.com/people/li-yang-89-14-86">zoro</a></span><!-- react-text: 555 --> 创建<!-- /react-text --></div><div class="AnswerInfo-favlist-followers"><!-- react-text: 557 -->0<!-- /react-text --><!-- react-text: 558 --> 人关注<!-- /react-text --></div></div><div class="AnswerInfo-favlist" data-za-module="CollectionItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Collection&quot;,&quot;token&quot;:&quot;52091101&quot;,&quot;follower_num&quot;:0,&quot;author_member_hash_id&quot;:&quot;d6fa6382c1c48c17daa9f7ddeb7fdc1c&quot;}}}"><div class="AnswerInfo-favlist-title"><a class="Button Button--plain" target="_blank" data-za-detail-view-element_name="Collection" title="嗯" href="https://www.zhihu.com/collection/52091101" type="button">嗯</a></div><div class="AnswerInfo-favlist-author"><span class="UserLink"><a class="UserLink-link" target="_blank" data-za-detail-view-element_name="Author" href="https://www.zhihu.com/people/xu-tao-90-16">徐涛</a></span><!-- react-text: 565 --> 创建<!-- /react-text --></div><div class="AnswerInfo-favlist-followers"><!-- react-text: 567 -->0<!-- /react-text --><!-- react-text: 568 --> 人关注<!-- /react-text --></div></div></div><!-- react-empty: 569 --><!-- react-empty: 570 --></div><!-- react-empty: 261 --><div class="Card" data-za-module="RelatedQuestions" data-za-module-info="{}"><div class="Card-header SimilarQuestions-title"><div class="Card-headerText">相关问题</div></div><div class="Card-section SimilarQuestions-list"><div class="SimilarQuestions-item" itemprop="zhihu:similarQuestion" itemtype="http://schema.org/Question" itemscope="" data-za-module="QuestionItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Question&quot;,&quot;token&quot;:&quot;21780900&quot;,&quot;author_member_hash_id&quot;:&quot;c418876b67ec1d291b822ab2c86ca5ec&quot;}}}"><meta itemprop="name" content="LBE 安全大师 V5.1 公测版不 root 也能卸载预装软件，是何原理？"><meta itemprop="url" content="https://www.zhihu.com/question/21780900"><meta itemprop="answerCount" content="14"><meta itemprop="zhihu:followerCount" content="694"><a class="Button Button--plain" target="_blank" type="button" href="https://www.zhihu.com/question/21780900">LBE 安全大师 V5.1 公测版不 root 也能卸载预装软件，是何原理？</a><!-- react-text: 491 --> <!-- /react-text --><!-- react-text: 492 -->14<!-- /react-text --><!-- react-text: 493 --> 个回答<!-- /react-text --></div><div class="SimilarQuestions-item" itemprop="zhihu:similarQuestion" itemtype="http://schema.org/Question" itemscope="" data-za-module="QuestionItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Question&quot;,&quot;token&quot;:&quot;19865201&quot;,&quot;author_member_hash_id&quot;:&quot;96b0b559c051618f25156021b8e986a2&quot;}}}"><meta itemprop="name" content="如何限制应用程序申请不必要权限？"><meta itemprop="url" content="https://www.zhihu.com/question/19865201"><meta itemprop="answerCount" content="25"><meta itemprop="zhihu:followerCount" content="218"><a class="Button Button--plain" target="_blank" type="button" href="https://www.zhihu.com/question/19865201">如何限制应用程序申请不必要权限？</a><!-- react-text: 500 --> <!-- /react-text --><!-- react-text: 501 -->25<!-- /react-text --><!-- react-text: 502 --> 个回答<!-- /react-text --></div><div class="SimilarQuestions-item" itemprop="zhihu:similarQuestion" itemtype="http://schema.org/Question" itemscope="" data-za-module="QuestionItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Question&quot;,&quot;token&quot;:&quot;27227425&quot;,&quot;author_member_hash_id&quot;:&quot;8830a72f7ac187c550762c3069aacc48&quot;}}}"><meta itemprop="name" content="大家有哪些好的 Android 开发习惯？"><meta itemprop="url" content="https://www.zhihu.com/question/27227425"><meta itemprop="answerCount" content="42"><meta itemprop="zhihu:followerCount" content="4560"><a class="Button Button--plain" target="_blank" type="button" href="https://www.zhihu.com/question/27227425">大家有哪些好的 Android 开发习惯？</a><!-- react-text: 509 --> <!-- /react-text --><!-- react-text: 510 -->42<!-- /react-text --><!-- react-text: 511 --> 个回答<!-- /react-text --></div><div class="SimilarQuestions-item" itemprop="zhihu:similarQuestion" itemtype="http://schema.org/Question" itemscope="" data-za-module="QuestionItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Question&quot;,&quot;token&quot;:&quot;29737316&quot;,&quot;author_member_hash_id&quot;:&quot;31062771ccbd6b289d319642e9bdae8d&quot;}}}"><meta itemprop="name" content="为什么好多 Android 手机的计算器都有这样的问题呢？"><meta itemprop="url" content="https://www.zhihu.com/question/29737316"><meta itemprop="answerCount" content="36"><meta itemprop="zhihu:followerCount" content="109"><a class="Button Button--plain" target="_blank" type="button" href="https://www.zhihu.com/question/29737316">为什么好多 Android 手机的计算器都有这样的问题呢？</a><!-- react-text: 518 --> <!-- /react-text --><!-- react-text: 519 -->36<!-- /react-text --><!-- react-text: 520 --> 个回答<!-- /react-text --></div><div class="SimilarQuestions-item" itemprop="zhihu:similarQuestion" itemtype="http://schema.org/Question" itemscope="" data-za-module="QuestionItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Question&quot;,&quot;token&quot;:&quot;29880290&quot;,&quot;author_member_hash_id&quot;:&quot;661575991cdeda720e4cb51ac1b98f84&quot;}}}"><meta itemprop="name" content="开启了安卓系统设置里的 辅助功能 — 服务 后，应用到底能多出哪些权限？"><meta itemprop="url" content="https://www.zhihu.com/question/29880290"><meta itemprop="answerCount" content="3"><meta itemprop="zhihu:followerCount" content="50"><a class="Button Button--plain" target="_blank" type="button" href="https://www.zhihu.com/question/29880290">开启了安卓系统设置里的 辅助功能 — 服务 后，应用到底能多出哪些权限？</a><!-- react-text: 527 --> <!-- /react-text --><!-- react-text: 528 -->3<!-- /react-text --><!-- react-text: 529 --> 个回答<!-- /react-text --></div></div></div><div class="Card" data-za-module="RelatedLives" data-za-module-info="{}"><div class="Card-header RelatedLives-title"><div class="Card-headerText">相关 Live 推荐</div></div><div class="Card-section RelatedLives-list"><a class="Button RelatedLives-item Button--plain" target="_blank" href="https://www.zhihu.com/lives/853245568808550400" type="button" data-za-module="LiveItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Live&quot;,&quot;id&quot;:&quot;853245568808550400&quot;,&quot;author_member_hash_id&quot;:&quot;13de39b981c8ada8131c0fbb212a7667&quot;}}}"><img class="Avatar Avatar--medium RelatedLives-avatar" width="40" height="40" src="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/da8e974dc_xs.jpg" srcset="https://pic1.zhimg.com/da8e974dc_l.jpg 2x"><div class="RelatedLives-subject">Android 工程师如何优雅地参加面试</div></a><a class="Button RelatedLives-item Button--plain" target="_blank" href="https://www.zhihu.com/lives/851804425763852288" type="button" data-za-module="LiveItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Live&quot;,&quot;id&quot;:&quot;851804425763852288&quot;,&quot;author_member_hash_id&quot;:&quot;34d00632080652e2ae3a38baf2c1d189&quot;}}}"><img class="Avatar Avatar--medium RelatedLives-avatar" width="40" height="40" src="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/v2-bae6976a64db239be9d6ef282a87f618_xs.jpg" srcset="https://pic1.zhimg.com/v2-bae6976a64db239be9d6ef282a87f618_l.jpg 2x"><div class="RelatedLives-subject">工程师跳槽去新加坡，体验如何？</div></a><a class="Button RelatedLives-item Button--plain" target="_blank" href="https://www.zhihu.com/lives/825349000797491200" type="button" data-za-module="LiveItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Live&quot;,&quot;id&quot;:&quot;825349000797491200&quot;,&quot;author_member_hash_id&quot;:&quot;80d04623bdbd7e5516942d2b4eed79fb&quot;}}}"><img class="Avatar Avatar--medium RelatedLives-avatar" width="40" height="40" src="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/da8e974dc_xs.jpg" srcset="https://pic1.zhimg.com/da8e974dc_l.jpg 2x"><div class="RelatedLives-subject">安卓程序员的精进与转型</div></a><a class="Button RelatedLives-item Button--plain" target="_blank" href="https://www.zhihu.com/lives/802899577341620224" type="button" data-za-module="LiveItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Live&quot;,&quot;id&quot;:&quot;802899577341620224&quot;,&quot;author_member_hash_id&quot;:&quot;438091265498844aab1ec52087946b0f&quot;}}}"><img class="Avatar Avatar--medium RelatedLives-avatar" width="40" height="40" src="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/v2-302a166a9e4559fb75e0011763985da6_xs.jpg" srcset="https://pic3.zhimg.com/v2-302a166a9e4559fb75e0011763985da6_l.jpg 2x"><div class="RelatedLives-subject">我学安卓的那些套路</div></a><a class="Button RelatedLives-item Button--plain" target="_blank" href="https://www.zhihu.com/lives/813367422420680704" type="button" data-za-module="LiveItem" data-za-module-info="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Live&quot;,&quot;id&quot;:&quot;813367422420680704&quot;,&quot;author_member_hash_id&quot;:&quot;ad02ed87e3941cccc6bb1376581badc1&quot;}}}"><img class="Avatar Avatar--medium RelatedLives-avatar" width="40" height="40" src="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/b3239bbe59f2954e734b308f7749484c_xs.jpg" srcset="https://pic1.zhimg.com/b3239bbe59f2954e734b308f7749484c_l.jpg 2x"><div class="RelatedLives-subject">安卓入门和求职指南</div></a></div></div><!-- react-empty: 264 --><footer class="Footer"><a class="Footer-item" target="_blank" href="https://liukanshan.zhihu.com/">刘看山</a><span class="Footer-dot"></span><a class="Footer-item" target="_blank" href="https://www.zhihu.com/question/19581624">知乎指南</a><span class="Footer-dot"></span><a class="Footer-item" target="_blank" href="https://www.zhihu.com/terms">知乎协议</a><span class="Footer-dot"></span><a class="Footer-item" target="_blank" href="https://www.zhihu.com/app">应用</a><span class="Footer-dot"></span><a class="Footer-item" target="_blank" href="https://www.zhihu.com/careers">工作</a><br><a class="Footer-item" target="_blank" href="https://www.zhihu.com/jubao">侵权举报</a><span class="Footer-dot"></span><a class="Footer-item" target="_blank" href="http://www.12377.cn/">网上有害信息举报专区</a><br><span class="Footer-item">违法和不良信息举报：010-82716601</span><br><a class="Footer-item" target="_blank" href="https://www.zhihu.com/contact">联系我们</a><span> © 2017 知乎</span></footer></div></div></div></div><!-- react-empty: 266 --></div></main><!-- react-empty: 267 --><!-- react-empty: 268 --><!-- react-empty: 269 --><div class="CornerButtons"><div class="CornerAnimayedFlex"><button class="Button CornerButton Button--plain" data-tooltip="建议反馈" data-tooltip-position="left" aria-label="建议反馈" type="button"><svg width="18" height="16" viewBox="0 0 18 16" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--feedback" aria-hidden="true" style="height: 16px; width: 18px;"><title>建议反馈</title><g><path d="M1.01 2.99L3 1s1-1 2-1h8c1 0 2 1 2 1l2 2s1 1 1 2v9s0 2-2.002 2H2c-2 0-2-2-2-2V5c0-1 1.01-2.01 1.01-2.01zM4.5 1.5h9L16 4H2l2.5-2.5zm2 5.5h5s.5 0 .5.5-.5.5-.5.5h-5S6 8 6 7.5s.5-.5.5-.5z" fill-rule="evenodd"></path></g></svg></button></div><div class="CornerAnimayedFlex CornerAnimayedFlex--hidden"><button class="Button CornerButton Button--plain" data-tooltip="回到顶部" data-tooltip-position="left" aria-label="回到顶部" type="button"><svg width="16" height="16" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--backToTopArrow" aria-hidden="true" style="height: 16px; width: 16px;"><title>回到顶部</title><g><path d="M12.036 15.59c0 .55-.453.995-.997.995H5.032c-.55 0-.997-.445-.997-.996V8.584H1.03c-1.1 0-1.36-.633-.578-1.416L7.33.29c.39-.39 1.026-.385 1.412 0l6.878 6.88c.782.78.523 1.415-.58 1.415h-3.004v7.004z" fill-rule="evenodd"></path></g></svg></button></div></div></div></div><script src="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/vendor.9de2bffb7477d187bcfb.js.下载" data-reactid="21"></script><script src="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/main.raven.8205f624ed35a5962aff.js.下载" async="" data-reactid="22"></script><script src="./Android中为什么主线程不会因为Looper.loop()里的死循环卡死？ - 知乎_files/main.app.5fef8e03e8e3f65b40de.js.下载" data-reactid="23"></script><div><div data-reactroot="" style="display: none;">想来知乎工作？请发送邮件到 jobs@zhihu.com</div></div><span><div></div></span></body></html>